### Supplemental material - R code file
### Article: Using Bayesian pre-trial simulations to optimize the design of adaptive clinical trials in childhood nephrotic syndrome
### Authors: Cal H Robinson, Rulan S Parekh, Brian Cuthbertson, Eddy Fan, Yongdong Ouyang, Anna Heath
### Last update: Mar 4, 2025


### Load required packages ###
library(pacman)
pacman::p_load(pacman, dplyr, dbplyr, lubridate, tidyr, ggplot2, rmarkdown, haven,
               GGally, ggthemes, ggvis, httr, plotly, rio, shiny, stringr, dplyr, 
               survminer, survival, mice, VIM, DescTools, olsrr, polycor, tidyverse, adaptr)




### Customizing adaptR package to handle non-inferiority design ###

## Package functions - helpers
#' Format digits before printing
#'
#' Used internally.
#'
#' @param x numeric, the numeric value(s) to format.
#' @param dig single integer, the number of digits.
#'
#' @return Formatted character string.
#'
#' @keywords internal
#'
fmt_dig <- function(x, dig) {
  format(round(x, digits = dig), nsmall = dig)
}


#' Create formatted label with absolute and relative frequencies (percentages)
#'
#' Used internally.
#'
#' @param e integer, the numerator (e.g., the number of events).
#' @param n integer, the denominator (e.g., the total number of patients).
#' @param dec integer, the number of decimals for the percentage.
#'
#' @return Formatted character string.
#'
#' @keywords internal
#'
fmt_pct <- function(e, n, dec = 1) {
  paste0(e, "/", n, " (", format(round(e/n*100, digits = dec), nsmall = dec), "%)")
}


#' Rescale numeric vector to sum to 1
#'
#' Used internally.
#'
#' @param x numeric vector.
#'
#' @return Numeric vector, `x` rescaled to sum to a total of 1.
#'
#' @keywords internal
#'
rescale <- function(x) {
  x / sum(x)
}


#' Summarise distribution
#'
#' Used internally, to summarise posterior distributions, but the logic does
#' apply to any distribution (thus, the name).
#'
#' @param x a numeric vector of posterior draws.
#' @param robust single logical. if `TRUE` (default) the median and median
#'   absolute deviation (MAD-SD; scaled to be comparable to the standard
#'   deviation for normal distributions) are used to summarise the distribution;
#'   if `FALSE`, the mean and standard deviation (SD) are used instead (slightly
#'   faster, but may be less appropriate for skewed distribution).
#' @param interval_width single numeric value (`> 0` and `<1`); the width of the
#'   interval; default is 0.95, corresponding to 95% percentile-base credible
#'   intervals for posterior distributions.
#'
#' @details
#' MAD-SDs are scaled to correspond to SDs if distributions are normal,
#' similarly to the [stats::mad()] function; see details regarding calculation
#' in that function's description.
#'
#' @return A numeric vector with four named elements: `est` (the median/mean),
#'   `err` (the MAD-SD/SD), `lo` and `hi` (the lower and upper boundaries of the
#'   interval).
#'
#' @importFrom stats median quantile sd
#'
#' @keywords internal
#'
summarise_dist <- function(x, robust = TRUE, interval_width = 0.95) {
  qs <- quantile(x, c((1 - interval_width)/2, 1 - (1 - interval_width)/2), names = FALSE)
  if (robust) {
    p50 <- median(x)
    c(est = p50, err = median(abs(x - p50)) * 1.4826, lo = qs[1], hi = qs[2])
  } else {
    c(est = mean(x), err = sd(x), lo = qs[1], hi = qs[2])
  }
}


#' Summarise numeric vector
#'
#' Used internally, to summarise numeric vectors.
#'
#' @param x a numeric vector.
#'
#' @return A numeric vector with seven named elements: `mean`, `sd`, `median`,
#'   `p25`, `p75`, `p0`, and `p100` corresponding to the mean, standard
#'   deviation, median, and 25-/75-/0-/100-percentiles.
#'
#' @importFrom stats quantile sd
#'
#' @keywords internal
#'
summarise_num <- function(x) {
  ps <- quantile(x, probs = c(0.5, 0.25, 0.75, 0, 1), names = FALSE)
  c(mean = mean(x),
    sd = sd(x),
    median = ps[1],
    p25 = ps[2],
    p75 = ps[3],
    p0 = ps[4],
    p100 = ps[5])
}


#' cat() with sep = ""
#'
#' Used internally. Passes everything on to [cat()] but enforces `sep = ""`.
#' Relates to [cat()] as [paste0()] relates to [paste()].
#'
#' @param ... strings to be concatenated and printed.
#'
#' @return NULL
#'
#' @keywords internal
#'
cat0 <- function(...) cat(..., sep = "")


#' stop() and warning() with call. = FALSE
#'
#' Used internally. Calls [stop0()] or [warning()] but enforces `call. = FALSE`,
#' to suppress the call from the error/warning.
#'
#' @inheritParams base::stop
#'
#' @return NULL
#'
#' @keywords internal
#'
#' @name stop0_warning0
#'
stop0 <- function(...) stop(..., call. = FALSE)

#' @rdname stop0_warning0
#' @keywords internal
warning0 <- function(...) warning(..., call. = FALSE)


#' Verify input is single integer (potentially within range)
#'
#' Used internally.
#'
#' @param x value to check.
#' @param min_value,max_value single integers (each), lower and upper bounds
#'   between which `x` should lie.
#' @param open single character, determines whether `min_value` and `max_value`
#'   are excluded or not. Valid values: `"no"` (= closed interval; `min_value`
#'   and `max_value` included; default value), `"right"`, `"left"`, `"yes"`
#'   (= open interval, `min_value` and `max_value` excluded).
#'
#' @return Single logical.
#'
#' @keywords internal
#'
verify_int <- function(x, min_value = -Inf, max_value = Inf, open = "no") {
  if (is.null(x)) return(FALSE)
  if (!is.numeric(x)) return(FALSE)
  is_int <- length(x) == 1 & all(!is.na(x)) & all(floor(x) == x)
  is_above_min <- if (open %in% c("left", "yes")) min_value < x else min_value <= x
  is_below_max <- if (open %in% c("right", "yes")) x < max_value else x <= max_value
  all(is_int) & all(is_above_min) & all(is_below_max)
}


#' Replace NULL with other value (NULL-OR-operator)
#'
#' Used internally, primarily when working with list arguments, because, e.g.,
#' `list_name$element_name` yields `NULL` when unspecified.
#'
#' @param a,b atomic values of any type.
#'
#' @return If `a` is `NULL`, `b` is returned. Otherwise `a` is returned.
#'
#' @keywords internal
#'
#' @name replace_null
#'
`%||%` <- function(a, b) if (is.null(a)) b else a


#' Replace non-finite values with other value (finite-OR-operator)
#'
#' Used internally, helper function that replaces non-finite (i.e., `NA`, `NaN`,
#' `Inf`, and `-Inf`) values according to [is.finite()], primarily used to
#' replace `NaN`/`Inf`/`-Inf` with `NA`.
#'
#' @param a atomic vector of any type.
#'
#' @param b single value to replace non-finite values with.
#'
#' @return If values in `a` are non-finite, they are replaced with `b`,
#'   otherwise they are left unchanged.
#'
#' @keywords internal
#'
#' @name replace_nonfinite
#'
`%f|%` <- function(a, b) {
  a[!is.finite(a)] <- b
  a
}


#' Check availability of required packages
#'
#' Used internally, helper function to check if SUGGESTED packages are
#' available. Will halt execution if any of the queried packages are not
#' available and provide installation instructions.
#'
#' @param pkgs, character vector with name(s) of package(s) to check.
#'
#' @return `TRUE` if all packages available, otherwise execution is halted with
#'   an error.
#'
#' @keywords internal
#'
assert_pkgs <- function(pkgs = NULL) {
  checks <- vapply_lgl(pkgs, function(p) isFALSE(requireNamespace(p, quietly = TRUE)))
  unavailable_pkgs <- names(checks[checks])
  
  if (any(checks)) {
    stop0(
      "The following required package",  ifelse(sum(checks) > 1, "s were", " was"), " unavailable: ",
      paste(unavailable_pkgs, collapse = ", "),
      ". \nConsider installing with the following command: ",
      sprintf("install.packages(%s)", paste0(ifelse(length(unavailable_pkgs) > 1, "c(", ""),
                                             paste(sprintf("\"%s\"", unavailable_pkgs), collapse = ", "),
                                             ifelse(length(unavailable_pkgs) > 1, ")", "")))
    )
  }
  
  return(TRUE)
}


#' vapply helpers
#'
#' Used internally. Helpers for simplifying code invoking vapply().
#'
#' @inheritParams base::vapply
#'
#' @keywords internal
#'
#' @name vapply_helpers
#'
vapply_num <- function(X, FUN, ...) vapply(X, FUN, FUN.VALUE = numeric(1), ...)

#' @rdname vapply_helpers
#' @keywords internal
vapply_int <- function(X, FUN, ...) vapply(X, FUN, FUN.VALUE = integer(1), ...)

#' @rdname vapply_helpers
#' @keywords internal
vapply_str <- function(X, FUN, ...) vapply(X, FUN, FUN.VALUE = character(1), ...)

#' @rdname vapply_helpers
#' @keywords internal
vapply_lgl <- function(X, FUN, ...) vapply(X, FUN, FUN.VALUE = logical(1), ...)


#' Assert equivalent functions
#'
#' Used internally. Compares the definitions of two functions (ignoring
#' environments, bytecodes, etc., by only comparing function arguments and
#' bodies, using [deparse()]).
#'
#' @param fun1,fun2 functions to compare.
#'
#' @return Single logical.
#'
#' @keywords internal
#'
equivalent_funs <- function(fun1, fun2) {
  isTRUE(
    all.equal(
      deparse(fun1),
      deparse(fun2)
    )
  )
}


#' Find the index of value nearest to a target value
#'
#' Used internally, to find the index of the value in a vector nearest to a
#' target value, possibly in a specific preferred direction.
#'
#' @param values numeric vector, the values considered.
#' @param target single numeric value, the target to find the value closest to.
#' @param dir single numeric value. If `0` (the default), finds the index of the
#'   value closest to the target, regardless of the direction. If `< 0` or
#'   `> 0`, finds the index of the value closest to the target, but only
#'   considers values at or below/above target, respectfully, if any (otherwise
#'   returns the closest value regardless of direction).
#'
#' @return Single integer, the index of the value closest to `target` according
#'   to `dir`.
#'
#' @keywords internal
#'
which_nearest <- function(values, target, dir) {
  # Nearest to target is the default and used if dir == 0 or as fall-back
  idx <- which.min(abs(target - values))
  if (dir != 0) {
    diffs <- sign(dir) * (target - values)
    if (sum(diffs <= 0) > 0) {
      diffs[diffs > 0] <- -Inf
      idx <- which.max(diffs)
    }
  }
  idx
}


## Package functions - get draws
#' Generic documentation for get_draws_* functions
#'
#' Used internally. See the [setup_trial()] function documentation for
#' additional details on how to specify functions to generate posterior draws.
#'
#' @param arms character vector, **currently active** `arms` as specified in
#'   [setup_trial()] / [setup_trial_binom()] / [setup_trial_norm()].
#' @param allocs character vector, allocations of all patients (including
#'   allocations to **currently inactive** `arms`).
#' @param ys numeric vector, outcomes of all patients in the same order
#'   as `alloc` (including outcomes of patients in **currently inactive**
#'   `arms`).
#' @param control unused argument in the built-in functions for
#'   [setup_trial_binom()] and [setup_trial_norm], but required as this
#'   argument is supplied by the [run_trial()] function, and may be used in
#'   user-defined functions used to generate posterior draws.
#' @param n_draws single integer, number of posterior draws.
#'
#' @return A `matrix` (with numeric values) with `length(arms)` columns and
#'   `n_draws` rows, with `arms` as column names.
#'
#' @name get_draws_generic
#' @keywords internal
#'
NULL


#' Generate binary outcomes from binomial distributions
#'
#' Used internally. Function factory used to generate a function that generates
#' binary outcomes from binomial distributions.
#'
#' @param arms character vector of `arms` as specified in [setup_trial_binom()].
#' @param event_probs numeric vector of true event probabilities in all `arms`
#'   as specified in [setup_trial_binom()].
#'
#' @return A function which takes the argument `allocs` (a character vector
#'   with the allocations) and returns a numeric vector of similar length with
#'   the corresponding, randomly generated outcomes (0 or 1, from binomial
#'   distribution).
#'
#' @importFrom stats rbinom
#'
#' @keywords internal
#'
get_ys_binom <- function(arms, event_probs) {
  function(allocs) {
    y <- integer(length(allocs))
    for (i in seq_along(arms)) {
      ii <- which(allocs == arms[i])
      y[ii] <- rbinom(length(ii), 1, event_probs[i])
    }
    y
  }
}


#' Generate draws from posterior beta-binomial distributions
#'
#' Used internally. This function generates draws from posterior distributions
#' using separate beta-binomial models (binomial outcome, conjugate beta prior)
#' for each arm, with flat (`beta(1, 1)`) priors.
#'
#' @inheritParams get_draws_generic
#'
#' @inherit get_draws_generic return
#'
#' @importFrom stats rbeta
#'
#' @keywords internal
#'
get_draws_binom <- function(arms, allocs, ys, control, n_draws) {
  draws <- list()
  for (a in arms) {
    ii <- which(allocs == a)
    n_events <- sum(ys[ii])
    draws[[a]] <- rbeta(n_draws, 1 + n_events, 1 + length(ii) - n_events)
  }
  do.call(cbind, draws)
}


#' Generate normally distributed continuous outcomes
#'
#' Used internally. Function factory used to generate a function that generates
#' outcomes from normal distributions.
#'
#' @param arms character vector, `arms` as specified in [setup_trial_norm()].
#' @param means numeric vector, true `means` in all `arms` as specified in
#'   [setup_trial_norm()].
#' @param sds numeric vector, true standard deviations (`sds`) in all `arms` as
#'   specified in [setup_trial_norm()].
#'
#' @return A function which takes the argument `allocs` (a character vector
#'   with the allocations) and returns a numeric vector of the same length with
#'   the corresponding, randomly generated outcomes (from normal distributions).
#'
#' @importFrom stats rnorm
#'
#' @keywords internal
#'
get_ys_norm <- function(arms, means, sds) {
  function(allocs) {
    y <- numeric(length(allocs))
    for (i in seq_along(arms)) {
      ii <- which(allocs == arms[i])
      y[ii] <- rnorm(length(ii), means[i], sds[i])
    }
    y
  }
}


#' Generate draws from posterior normal distributions
#'
#' Used internally. This function generates draws from posterior, normal
#' distributions for continuous outcomes. Technically, these posteriors use no
#' priors (for simulation speed), corresponding to the use of improper flat
#' priors. These posteriors correspond (and give similar results) to using
#' normal-normal models (normally distributed outcome, conjugate normal prior)
#' for each arm, assuming that a non-informative, flat prior is used. Thus, the
#' posteriors directly correspond to normal distributions with each groups' mean
#' as the mean and each groups' standard error as the standard deviation.
#' As it is necessary to always return valid draws, in cases where `< 2`
#' patients have been randomised to an `arm`, posterior draws will come from an
#' extremely wide normal distribution with mean corresponding to the mean of all
#' included patients with outcome data and a standard deviation corresponding to
#' the difference between the highest and lowest recorded outcomes for all
#' patients with available outcome data multiplied by `1000`.
#'
#' @inheritParams get_draws_generic
#'
#' @inherit get_draws_generic return
#'
#' @importFrom stats rnorm
#'
#' @keywords internal
#'
get_draws_norm <- function(arms, allocs, ys, control, n_draws) {
  draws <- list()
  for (a in arms) {
    ii <- which(allocs == a)
    n <- length(ii)
    if (n > 1){ # Necessary to avoid errors if too few patients have been randomised to this arm yet
      draws[[a]] <- rnorm(n_draws, mean = mean(ys[ii]), sd = sd(ys[ii]) / sqrt(n - 1))
    } else { # Too few patients randomised - extreme uncertainty
      draws[[a]] <- rnorm(n_draws, mean = mean(ys), sd = 1000 * (max(ys) - min(ys)))
    }
  }
  do.call(cbind, draws)
}


## Set-up trial function (without futility bound >0)
#' Validate trial specification
#'
#' Used internally. Validates the inputs common to all trial specifications, as
#' specified in [setup_trial()], [setup_trial_binom()] and [setup_trial_norm()].
#'
#' @inheritParams setup_trial
#'
#' @return An object of class `trial_spec` containing the validated trial
#'   specification.
#'
#' @keywords internal
#'
validate_trial <- function(arms, true_ys, start_probs = NULL,
                           fixed_probs = NULL,
                           min_probs = rep(NA, length(arms)),
                           max_probs = rep(NA, length(arms)),
                           data_looks = NULL,
                           max_n = NULL, look_after_every = NULL,
                           randomised_at_looks = NULL,
                           control = NULL, control_prob_fixed = NULL,
                           inferiority = 0.01, superiority = 0.99,
                           equivalence_prob = NULL, equivalence_diff = NULL,
                           equivalence_only_first = NULL, futility_prob = NULL,
                           futility_diff = NULL, futility_only_first = NULL,
                           highest_is_best = FALSE, soften_power = 1,
                           cri_width = 0.95, n_draws = 5000, robust = FALSE,
                           description = NULL, add_info = NULL,
                           fun_y_gen, fun_draws, fun_raw_est) {
  
  # Count arms before validating inputs and check that they are unique
  n_arms <- length(arms)
  match <- isTRUE(control_prob_fixed == "match")
  # Convert arms to characters
  if (isTRUE(is.numeric(arms) | is.logical(arms))) {
    arms <- as.character(arms)
  }
  if (isTRUE(is.numeric(control) | is.logical(control))) {
    control <- as.character(control)
  }
  if (length(unique(arms)) != length(arms)) {
    stop0("All arms must have unique names.")
  }
  
  # If control_prob_fixed is set to a valid non-numeric value, then set according to that
  if (!is.null(control_prob_fixed)) {
    if (is.null(control) | sum(control %in% arms) != 1) {
      stop0("control_prob_fixed is specified, but no single valid control is specified.")
    }
    if (isTRUE(length(control_prob_fixed) == 1 & control_prob_fixed %in% c("sqrt-based", "sqrt-based start", "sqrt-based fixed"))) {
      control_prob_fixed_orig <- control_prob_fixed
      if (!is.null(start_probs)) {
        stop0("When control_prob_fixed is set to 'sqrt-based', 'sqrt-based start', ",
              "or 'sqrt-based fixed', start_probs must be NULL.")
      }
      if (control_prob_fixed == "sqrt-based" | control_prob_fixed == "sqrt-based fixed") {
        control_prob_fixed <- vapply_num(n_arms:2, function(x) sqrt(x - 1) / (sqrt(x - 1) + x - 1))
      } else if (control_prob_fixed == "sqrt-based start") {
        control_prob_fixed <- sqrt(n_arms - 1) / (sqrt(n_arms - 1) + n_arms - 1)
      }
      start_probs <- ifelse(arms == control, control_prob_fixed[1], 1 / (sqrt(n_arms - 1) + n_arms - 1))
      if (control_prob_fixed_orig == "sqrt-based fixed") {
        if (!is.null(fixed_probs)) {
          stop0("When control_prob_fixed is set to 'sqrt-based fixed', fixed_probs must be NULL.")
        }
        fixed_probs <- start_probs
      } else {
        if (!isTRUE(is.null(fixed_probs) | isTRUE(is.na(fixed_probs[arms == control])))) {
          stop0("When control_prob_fixed is set to 'sqrt-based' or 'sqrt-based start', ",
                "fixed_probs must either be NULL or NA for the control arm.")
        }
        if (is.null(fixed_probs)) {
          fixed_probs <- rep(NA, n_arms)
        }
        fixed_probs[arms == control] <- start_probs[arms == control]
      }
    }
  }
  
  # Equal initial allocation if start_probs is not specified or set above
  if (is.null(start_probs)) {
    start_probs <- rep(1 / length(arms), length(arms))
  } else if(match) { # start_probs not null and 'match'
    if (!isTRUE(max(start_probs[!(arms %in% control)], na.rm = TRUE) == start_probs[which(arms %in% control)])) {
      stop0("If control_prob_fixed is set to 'match' and start_probs are specified, the control group starting ",
            "allocation probability must be similar to the highest specified non-control arm allocation probability.")
    }
  }
  
  # If no fixed_probs are specified, set to NA
  if (is.null(fixed_probs)) {
    fixed_probs <- rep(NA, length(arms))
  }
  
  # Check that all limits are of correct length
  if (!all(length(start_probs) == n_arms,
           length(fixed_probs) == n_arms,
           length(min_probs) == n_arms,
           length(max_probs) == n_arms)) {
    stop0("arms, start_probs, fixed_probs, min_probs and max_probs must of the same length.")
  }
  
  # Check that start_probs sum to 1 and that start_probs are not missing
  if (any(is.na(start_probs))) {
    stop0("start_probs values cannot be missing.")
  }
  if (abs(sum(start_probs) - 1) > .Machine$double.eps^0.5) {
    stop0("start_probs values do not sum to 1.")
  }
  
  # Check that the specified probabilities are valid
  if (any(start_probs > 1) | any(start_probs < 0) |
      any(fixed_probs > 1, na.rm = TRUE) | any(fixed_probs < 0, na.rm = TRUE) |
      any(min_probs > 1, na.rm = TRUE) | any(min_probs < 0, na.rm = TRUE) |
      any(max_probs > 1, na.rm = TRUE) | any(max_probs < 0, na.rm = TRUE)) {
    stop0("All allocation probability values/limits (start_probs, fixed_probs, ",
          "min_probs and max_probs) must be between 0 and 1.")
  }
  
  # fixed_probs and start_probs must be the same if both are specified, and start_probs must be between min_probs and max_probs if specified
  for (i in 1:n_arms) {
    if (!is.na(fixed_probs[i]) & fixed_probs[i] != start_probs[i]) {
      stop0("When fixed_probs is specified for an arm (including when set by using one of the ",
            "special arguments to control_prob_fixed), it has to equal start_probs for the same arm.")
    }
    if (!is.na(min_probs[i])) {
      if (start_probs[i] < min_probs[i]) {
        stop0("start_probs must be greater than or equal to corresponding min_probs when specified.")
      }
    }
    if (!is.na(max_probs[i])){
      if (start_probs[i] > max_probs[i]) {
        stop0("start_probs must be less than or equal to corresponding max_probs when specified.")
      }
    }
  }
  
  # Check that combined fixed/minimum probs are not too large or combined fixed/maximum probs
  # are not too small and that only 1 of min/max is specified
  min_check <- numeric(n_arms)
  max_check <- numeric(n_arms)
  for (i in 1:n_arms) {
    # If fixed_probs is specified, min_probs and max_probs must be NA for that arm
    if (!is.na(fixed_probs[i])) {
      if (!is.na(min_probs[i] | !is.na(max_probs[i]))) {
        stop0("When fixed_probs is specified, min_probs and/or max_probs cannot be specified for the ",
              "same arm (also applies if control_prob_fixed is set to 'sqrt-based', 'sqrt-based start', or 'sqrt-based fixed').")
      }
    }
    # If both min_probs and max_probs are specified, max_probs has to be larger than min_probs
    if (!is.na(min_probs[i]) & !is.na(max_probs[i])) {
      if (!(max_probs[i] > min_probs[i])) {
        stop0("When both min_probs and max_probs are specified, max_probs has to be larger than min_probs.")
      }
    }
    min_check[i] <- ifelse(is.na(fixed_probs[i]), min_probs[i], fixed_probs[i])
    max_check[i] <- ifelse(is.na(fixed_probs[i]), max_probs[i], fixed_probs[i])
  }
  
  if (sum(min_check, na.rm = TRUE) - 1 > .Machine$double.eps^0.5) {
    stop0("The combined fixed_probs/min_probs values specified exceed 1.")
  }
  
  if (sum(is.na(max_check)) == 0 & sum(max_check) - 1 < -.Machine$double.eps^0.5) {
    stop0("fixed_probs or max_probs specified for all arms, but they sum to less than 1.")
  }
  
  # Check or setup data looks
  if (!is.null(data_looks)) { # data_looks is specified, validate that
    n_data_looks <- length(data_looks)
    if (!is.numeric(data_looks) | any(data_looks != cummax(data_looks)) | any(data_looks <= c(0, data_looks[-n_data_looks])) | isTRUE(any(data_looks < 1)) | isTRUE(any(is.na(data_looks)))) {
      stop0("data_looks must be a numeric vector with values > 0 and of increasing size.")
    }
    if (!is.null(max_n) | !is.null(look_after_every)) {
      stop0("If data_looks is specified, both max_n and look_after_every must be NULL.")
    }
  } else { # data_looks is not specified, generate from max_n and look_after every and validate those
    if (is.null(max_n) | is.null(look_after_every)) {
      stop0("If data_looks is not specified, max_n and look_after_every each must be specified ",
            "as whole numbers of size 1.")
    }
    if (!verify_int(max_n, min_value = 1) | !verify_int(look_after_every, min_value = 1)) {
      stop0("If data_looks is not specified, max_n and look_after_every each must be specified ",
            "as whole numbers of size 1 with values > 0.")
    } else { # Values are OK - create data_looks
      n_data_looks <- ceiling(max_n/look_after_every)
      data_looks <- look_after_every * 1:n_data_looks
      data_looks[n_data_looks] <- ifelse(data_looks[n_data_looks] > max_n, max_n, data_looks[n_data_looks])
    }
  }
  data_looks <- round(data_looks, digits = 10) # Round to avoid floating point errors
  if (!all(vapply_lgl(data_looks, verify_int, min_value = 1))) {
    stop0("data_looks must only include whole numbers > 0.")
  }
  
  # Check or setup total number of patients randomised
  if (is.null(randomised_at_looks)) {
    randomised_at_looks <- data_looks
  } else if (!is.numeric(randomised_at_looks) | any(randomised_at_looks != cummax(randomised_at_looks)) | isTRUE(any(randomised_at_looks < 1)) |
             isTRUE(any(is.na(randomised_at_looks)))) {
    stop0("randomised_at_looks must be a numeric vector with values > 0 and of increasing size.")
  } else if (length(randomised_at_looks) != length(data_looks) | isTRUE(any(data_looks > randomised_at_looks))) {
    stop0("randomised_at_looks must match the number of adaptive analyses specified and ",
          "all numbers must be >= the number of patients with available outcome data ",
          "at each analysis, as specified by data_looks or max_n/look_after_every.")
  }
  randomised_at_looks <- round(randomised_at_looks, digits = 10) # Round to avoid floating point errors
  if (!all(vapply_lgl(randomised_at_looks, verify_int, min_value = 1))) {
    stop0("randomised_at_looks must only include whole numbers > 0.")
  }
  
  # Common control checks
  if (!is.null(control)) {
    if (!(control) %in% arms | length(control) != 1) {
      stop0("control must be a single character string matching one of the arms.")
    }
    if (!is.null(control_prob_fixed)) {
      if (!(length(control_prob_fixed) %in% c(1, n_arms - 1)) | any(control_prob_fixed > 1) | any(control_prob_fixed < 0)) {
        if (!isTRUE(control_prob_fixed == "match")) {
          stop0("control_prob_fixed must be either NULL, a numeric vector with values between 0 and 1 of length 1 ",
                "or (number of arms - 1), or one of the following: 'sqrt-based', 'sqrt-based start', 'sqrt-based fixed' or 'match'.")
        }
      }
      control_index <- arms == control
      if (!is.na(min_probs[control_index]) | !is.na(max_probs[control_index])) {
        stop0("When control_prob_fixed is specified, min_probs or max_probs cannot be specified for the same arm.")
      }
      if (!match) {
        if (is.na(fixed_probs[control_index])) {
          stop0("When control_prob_fixed is specified and is not 'match', fixed_probs for ",
                "the control arm must be set to the first value of control_prob_fixed.")
        } else if (abs(fixed_probs[control_index] - control_prob_fixed[1]) > .Machine$double.eps^0.5) {
          stop0("When control_prob_fixed is specified and is not 'match', fixed_probs for ",
                "the control arm must be set to the first value of control_prob_fixed.")
        }
      }
    }
  }
  
  # Check superiority/inferiority thresholds and correspondence
  if (!(length(inferiority) %in% c(1, n_data_looks)) | !all(is.numeric(inferiority)) | any(inferiority < 0) |
      any(inferiority > 1) | any(inferiority != cummax(inferiority))) {
    stop0("inferiority must be a single numeric value beween 0 and 1 or a numeric vector of the same length ",
          "as the maximum possible number of adaptive analyses, with all values between 0 and 1 and no ",
          "values lower than the previous value.")
  }
  if (!(length(superiority) %in% c(1, n_data_looks)) | !all(is.numeric(superiority)) | any(superiority < 0) |
      any(superiority > 1) | any(superiority != cummin(superiority))) {
    stop0("superiority must be a single numeric value beween 0 and 1 or a numeric vector of the same length ",
          "as the maximum possible number of adaptive analyses, with all values between 0 and 1 and no ",
          "values higher than the previous value.")
  }
  if (any(inferiority >= superiority)) {
    stop0("Invalid combination of inferiority/superiority thresholds - inferiority threshold(s) must be ",
          "lower than the corresponding superiority threshold(s) at all adaptive analyses.")
  }
  if (any(inferiority >= (1 / n_arms)) & is.null(control)) {
    stop0("All inferiority thresholds must be less than 1 divided by the number of arms when a ",
          "common control group is not used.")
  }
  
  # Check that highest_is_best is correct
  if (!(is.logical(highest_is_best) & length(highest_is_best) == 1)) {
    stop0("highest_is_best must be a single logical (TRUE/FALSE).")
  }
  
  # Checks equivalence settings
  if (!is.null(equivalence_prob) | !is.null(equivalence_diff)) {
    if (is.null(equivalence_prob) | is.null(equivalence_diff)) {
      stop0("Either equivalence_prob or equivalence_diff is specified - both need to be specified at the same time.")
    }
    if (!(length(equivalence_prob) %in% c(1, n_data_looks)) | !all(is.numeric(equivalence_prob)) | any(equivalence_prob <= 0) |
        any(equivalence_prob > 1) | any(equivalence_prob != cummin(equivalence_prob))) {
      stop0("equivalence_prob must be a single numeric value > 0 and <= 1 or a numeric vector of the same length ",
            "as the maximum possible number of adaptive analyses, with all values > 0 and < 1 and no values ",
            "higher than the previous value.")
    }
    if (isTRUE(length(equivalence_diff) != 1 | !is.numeric(equivalence_diff) | any(equivalence_diff <= 0))) {
      stop0("equivalence_diff must be a single numeric value > 0.")
    }
    if (is.null(control)) {
      if (!is.null(equivalence_only_first)) {
        stop0("For trials without a common control arm, equivalence_only_first must be NULL.")
      }
    } else if (!isTRUE(equivalence_only_first) & !isFALSE(equivalence_only_first)) {
      stop0("equivalence_prob and equivalence_diff are specified for a trial with a common control - ",
            "equivalence_only_first must be either TRUE or FALSE.")
    }
  }
  if (isTRUE(is.null(equivalence_prob) | is.null(equivalence_diff)) & !is.null(equivalence_only_first)) {
    stop0("equivalence_only_first specified, this requires that equivalence_prob and equivalence_diff are specified too.")
  }
  
  # Check futility settings
  if (any(!is.null(futility_prob), !is.null(futility_diff), !is.null(futility_only_first))) {
    if (is.null(control)) {
      stop0("Futility can only be assessed in trial designs with a common control.")
    }
    if (is.null(futility_prob) | is.null(futility_diff) | is.null(futility_only_first)) {
      stop0("Valid values for futility_prob, futility_diff and futility_only_first must all be specified for futility assessment.")
    }
    if (!(length(futility_prob) %in% c(1, n_data_looks)) | !all(is.numeric(futility_prob)) | any(futility_prob <= 0) |
        any(futility_prob > 1) | any(futility_prob != cummin(futility_prob))) {
      stop0("futility_prob must be a single numeric value > 0 and <= 1 or a numeric vector of the same length ",
            "as the maximum possible number of adaptive analyses, with all values > 0 and < 1 and no values ",
            "higher than the previous value.")
    }
    if (isTRUE(length(futility_diff) != 1 | !is.numeric(futility_diff))) {
      stop0("futility_diff must be a single numeric value > 0.")
    }
    if (isTRUE(length(futility_only_first) > 1 | !is.logical(futility_only_first) | is.na(futility_only_first))) {
      stop0("futility_only_first must be either TRUE or FALSE for futility assessment.")
    }
  }
  
  # Check softening
  if (length(soften_power) == 1) {
    soften_power <- rep(soften_power, n_data_looks)
  } else if (length(soften_power) != n_data_looks) {
    stop0("soften_power must be either a single numeric of a numeric vector of the same length as the number of data looks.")
  }
  
  if (!is.numeric(soften_power) | any(soften_power > 1) | any(soften_power < 0)) {
    stop0("soften_power must only include numeric values between 0 and 1.")
  }
  
  # Get best arm(s)
  best_arm <- arms[true_ys == ifelse(highest_is_best, max(true_ys), min(true_ys))]
  
  # Validate Bayesian settings
  if (isTRUE(is.null(cri_width) | is.na(cri_width) | !is.numeric(cri_width) | cri_width >= 1 | cri_width < 0) | length(cri_width) != 1) {
    stop0("cri_width must be a single numeric value >= 0 and < 1.")
  }
  if (!verify_int(n_draws, min_value = 100)) {
    stop0("n_draws must be a single integer >= 100 (values < 1000 not recommended and will result in a warning).")
  } else if (n_draws < 1000) {
    warning0("Values for n_draws < 1000 are not recommended, as they may cause instable results.")
  }
  if (isTRUE(!is.logical(robust) | is.na(robust)) | length(robust) != 1) {
    stop0("robust must be either TRUE or FALSE.")
  }
  
  # Ensure that global random seed is not affected by function validation below
  if (exists(".Random.seed", envir = globalenv(), inherits = FALSE)) {
    oldseed <- get(".Random.seed", envir = globalenv(), inherits = FALSE)
    on.exit(assign(".Random.seed", value = oldseed, envir = globalenv(), inherits = FALSE), add = TRUE, after = FALSE)
  }
  
  # Validate outcome generator function
  if (isTRUE(is.null(fun_y_gen) | !(class(fun_y_gen) == "function"))) {
    stop0("A valid function to generate outcomes (fun_y_gen) must be specified (see '?setup_trial').")
  } else {
    test_y <- fun_y_gen(c(arms, arms))
    if (isTRUE(any(is.na(test_y)) | is.null(test_y) | length(test_y) != length(arms) * 2) | !is.numeric(sum(test_y))) {
      stop0("A valid function to generate outcomes (fun_y_gen) must be specified (see '?setup_trial').")
    }
  }
  
  # Validate draws generator function
  if (isTRUE(is.null(fun_draws) | !(class(fun_draws) == "function"))) {
    stop0("A valid function to generate posterior draws (fun_draws) must be specified (see '?setup_trial').")
  } else {
    test_draws1 <- fun_draws(arms, c(arms, arms), test_y, control, n_draws) # Two patients in each arm
    test_draws2 <- fun_draws(arms, rep(c(arms[2:n_arms], arms[2]), 2), test_y, control, n_draws) # One arm without allocations, but should still work
    if (isTRUE(any(is.na(test_draws1)) | any(is.na(test_draws2)) | class(test_draws1)[1] != "matrix" | class(test_draws2)[1] != "matrix" |
               is.null(colnames(test_draws1)) | is.null(colnames(test_draws2)) | isTRUE(colnames(test_draws1) != arms) | isTRUE(colnames(test_draws2) != arms) |
               isTRUE(nrow(test_draws1) != n_draws) | isTRUE(nrow(test_draws2) != n_draws) | isTRUE(ncol(test_draws1) != n_arms) | isTRUE(ncol(test_draws2) != n_arms) |
               !is.numeric(test_draws1) | !is.numeric(test_draws2))) {
      stop0("A valid function to generate posterior draws (fun_draws) must be specified (see '?setup_trial').")
    }
    # For > 2 arms, verify that only columns for active arms are returned (this check is not relevant
    # for 2 arms only, as they will always be included in comparisons, and as this check could then
    # cause problems with more complex estimation methods, e.g., regression-based comparisons with only
    # one arm, depending on how such functions are specified)
    if (n_arms > 2) { # For >2 arms
      test_draws3 <- fun_draws(arms[2:n_arms], c(arms, arms), test_y, control, n_draws)
      if (isTRUE(any(is.na(test_draws3)) | class(test_draws3)[1] != "matrix" | is.null(colnames(test_draws3)) | isTRUE(colnames(test_draws3) != arms[2:n_arms]) |
                 isTRUE(nrow(test_draws3) != n_draws) | isTRUE(ncol(test_draws3) != n_arms-1) | !is.numeric(test_draws3))) {
        stop0("A valid function to generate posterior draws (fun_draws) must be specified (see '?setup_trial').\n",
              "fun_draws must return a matrix with named columns for currently active arms only.")
      }
    }
  }
  
  # Validate function that calculates raw summary estimates
  if (isTRUE(is.null(fun_raw_est) | !(class(fun_raw_est) == "function"))) {
    stop0("A valid function to summarise raw outcomes (fun_raw_est) must be specified (see '?setup_trial').")
  } else {
    test_raw_est <- vapply_num(arms, function(a) fun_raw_est(test_y[which(c(arms, arms) == a)]))
    if (isTRUE(any(is.na(test_raw_est)) | is.null(test_raw_est) | length(test_raw_est) != length(arms)) | !is.numeric(sum(test_y))) {
      stop0("A valid function to summarise raw outcomes (fun_raw_est) must be specified (see '?setup_trial').")
    }
  }
  
  # Check description and additional info
  if (!is.null(description)) {
    if (!is.character(description) | length(description) != 1) {
      stop0("description must be either NULL or a single character string.")
    }
  }
  if (!is.null(add_info)) {
    if (!is.character(add_info) | length(add_info) != 1) {
      stop0("add_info must be either NULL or a single character string.")
    }
  }
  
  # Everything validated - create and return trial_spec object
  trial_arms <- data.frame(arms, true_ys, start_probs, fixed_probs, min_probs, max_probs,
                           stringsAsFactors = FALSE)
  structure(list(trial_arms = trial_arms,
                 data_looks = data_looks,
                 max_n = max_n,
                 look_after_every = look_after_every,
                 n_data_looks = n_data_looks,
                 randomised_at_looks = randomised_at_looks,
                 control = control,
                 control_prob_fixed = if (match) "match" else control_prob_fixed,
                 inferiority = inferiority,
                 superiority = superiority,
                 equivalence_prob = equivalence_prob,
                 equivalence_diff = equivalence_diff,
                 equivalence_only_first = equivalence_only_first,
                 futility_prob = futility_prob,
                 futility_diff = futility_diff,
                 futility_only_first = futility_only_first,
                 highest_is_best = highest_is_best,
                 soften_power = soften_power,
                 best_arm = best_arm,
                 cri_width = cri_width,
                 n_draws = n_draws,
                 robust = robust,
                 description = description,
                 add_info = add_info,
                 fun_y_gen = fun_y_gen,
                 fun_draws = fun_draws,
                 fun_raw_est = fun_raw_est),
            class = c("trial_spec", "list"))
}


#' Setup a generic trial specification
#'
#' Specifies the design of an adaptive trial with any type of outcome and
#' validates all inputs. Use [calibrate_trial()] to calibrate the trial
#' specification to obtain a specific value for a certain performance metric
#' (e.g., the Bayesian type 1 error rate). Use [run_trial()] or [run_trials()]
#' to conduct single/multiple simulations of the specified trial, respectively.
#' \cr See [setup_trial_binom()] and [setup_trial_norm()] for simplified setup
#' of trial designs for common outcome types. For additional trial specification
#' examples, see the the **Basic examples** vignette
#' (`vignette("Basic-examples", package = "adaptr")`) and the
#' **Advanced example** vignette
#' (`vignette("Advanced-example", package = "adaptr")`).
#'
#'
#' @param arms character vector with unique names for the trial arms.
#' @param true_ys numeric vector specifying true outcomes (e.g., event
#'   probabilities, mean values, etc.) for all trial `arms`.
#' @param fun_y_gen function, generates outcomes. See [setup_trial()]
#'   **Details** for information on how to specify this function.\cr
#'   **Note:** this function is called once during setup to validate its output
#'   (with the global random seed restored afterwards).
#' @param fun_draws function, generates posterior draws. See [setup_trial()]
#'   **Details** for information on how to specify this function.\cr
#'   **Note:** this function is called up to three times during setup to
#'   validate its output (with the global random seed restored afterwards).
#' @param start_probs numeric vector, allocation probabilities for each arm at
#'   the beginning of the trial. The default (`NULL`) automatically generates
#'   equal randomisation probabilities for each arm.
#' @param fixed_probs numeric vector, fixed allocation probabilities for each
#'   arm. Must be either a numeric vector with `NA` for arms without fixed
#'   probabilities and values between `0` and `1` for the other arms or `NULL`
#'   (default), if adaptive randomisation is used for all arms or if one of the
#'   special settings (`"sqrt-based"`, `"sqrt-based start"`,
#'   `"sqrt-based fixed"`, or `"match"`) is specified for `control_prob_fixed`
#'   (described below).
#' @param min_probs numeric vector, lower threshold for adaptive allocation
#'   probabilities; lower probabilities will be rounded up to these values. Must
#'   be `NA` (default for all arms) if no lower threshold is wanted and for arms
#'   using fixed allocation probabilities.
#' @param max_probs numeric vector, upper threshold for adaptive allocation
#'   probabilities; higher probabilities will be rounded down to these values.
#'   Must be `NA` (default for all arms) if no threshold is wanted and for arms
#'   using fixed allocation probabilities.
#' @param data_looks vector of increasing integers, specifies when to conduct
#'   adaptive analyses (= the total number of patients with available outcome
#'   data at each adaptive analysis). The last number in the vector represents
#'   the final adaptive analysis, i.e., the final analysis where superiority,
#'   inferiority, practical equivalence, or futility can be claimed.
#'   Instead of specifying `data_looks`, the `max_n` and `look_after_every`
#'   arguments can be used in combination (in which case `data_looks` must be
#'   `NULL`, the default value).
#' @param max_n single integer, number of patients with available outcome data
#'   at the last possible adaptive analysis (defaults to `NULL`).
#'   Must only be specified if `data_looks` is `NULL`. Requires specification of
#'   the `look_after_every` argument.
#' @param look_after_every single integer, specified together with `max_n`.
#'   Adaptive analyses will be conducted after every `look_after_every`
#'   patients have available outcome data, and at the total sample size as
#'   specified by `max_n` (`max_n` does not need to be a multiple of
#'   `look_after_every`). If specified, `data_looks` must be `NULL` (default).
#' @param randomised_at_looks vector of increasing integers or `NULL`,
#'   specifying the number of patients randomised at the time of each adaptive
#'   analysis, with new patients randomised using the current allocation
#'   probabilities at said analysis.
#'   If `NULL` (the default), the number of patients randomised at each analysis
#'   will match the number of patients with available outcome data at said
#'   analysis, as specified by `data_looks` or `max_n` and `look_after_every`,
#'   i.e., outcome data will be available immediately after randomisation for
#'   all patients.\cr
#'   If not `NULL`, the vector must be of the same length as the number of
#'   adaptive analyses specified by `data_looks` or `max_n` and
#'   `look_after_every`, and all values must be larger than or equal to the
#'   number of patients with available outcome data at each analysis.
#' @param control single character string, name of one of the `arms` or `NULL`
#'   (default). If specified, this arm will serve as a common control arm, to
#'   which all other arms will be compared and the
#'   inferiority/superiority/equivalence thresholds (see below) will be for
#'   those comparisons. See [setup_trial()] **Details** for information on
#'   behaviour with respect to these comparisons.
#' @param control_prob_fixed if a common `control` arm is specified, this can
#'   be set `NULL` (the default), in which case the control arm allocation
#'   probability will not be fixed if control arms change (the allocation
#'   probability for the first control arm may still be fixed using
#'   `fixed_probs`). If not `NULL`, a vector of probabilities of either length
#'   `1` or `number of arms - 1` can be provided, or one of the special
#'   arguments `"sqrt-based"`, `"sqrt-based start"`, `"sqrt-based fixed"` or
#'   `"match"`. See [setup_trial()] **Details** for details on how this affects
#'   trial behaviour.
#' @param inferiority single numeric value or vector of numeric values of the
#'   same length as the maximum number of possible adaptive analyses, specifying
#'   the probability threshold(s) for inferiority (default is `0.01`). All
#'   values must be `>= 0` and `<= 1`, and if multiple values are supplied, no
#'   values may be lower than the preceding value. If a common `control`is not
#'   used, all values must be `< 1 / number of arms`. An arm will be considered
#'   inferior and dropped if the probability that it is best (when comparing all
#'   arms) or better than the control arm (when a common `control` is used)
#'   drops below the inferiority threshold at an adaptive analysis.
#' @param superiority single numeric value or vector of numeric values of the
#'   same length as the maximum number of possible adaptive analyses, specifying
#'   the probability threshold(s) for superiority (default is `0.99`). All
#'   values must be `>= 0` and `<= 1`, and if multiple values are supplied, no
#'   values may be higher than the preceding value. If the probability that an
#'   arm is best (when comparing all arms) or better than the control arm (when
#'   a common `control` is used) exceeds the superiority threshold at an
#'   adaptive analysis, said arm will be declared the winner and the trial will
#'   be stopped (if no common `control` is used or if the last comparator is
#'   dropped in a design with a common control) *or* become the new control and
#'   the trial will continue (if a common control is specified).
#' @param equivalence_prob single numeric value, vector of numeric values of the
#'   same length as the maximum number of possible adaptive analyses or `NULL`
#'   (default, corresponding to no equivalence assessment), specifying the
#'   probability threshold(s) for equivalence. If not `NULL`, all values must be
#'   `> 0` and `<= 1`, and if multiple values are supplied, no value may be
#'   higher than the preceding value. If not `NULL`, arms will be dropped for
#'   equivalence if the probability of either *(a)* equivalence compared to a
#'   common `control` or *(b)* equivalence between all arms remaining (designs
#'   without a common `control`) exceeds the equivalence threshold at an
#'   adaptive analysis. Requires specification of `equivalence_diff` and
#'   `equivalence_only_first`.
#' @param equivalence_diff single numeric value (`> 0`) or `NULL` (default,
#'   corresponding to no equivalence assessment). If a numeric value is
#'   specified, estimated absolute differences smaller than this threshold will
#'   be considered equivalent. For designs with a common `control` arm, the
#'   differences between each non-control arm and the `control` arm is used, and
#'   for trials without a common `control` arm, the difference between the
#'   highest and lowest estimated outcome rates are used and the trial is only
#'   stopped for equivalence if all remaining arms are equivalent.
#' @param equivalence_only_first single logical in trial specifications where
#'   `equivalence_prob` and `equivalence_diff` are specified and a common
#'   `control` arm is included, otherwise `NULL` (default). If a common
#'   `control` arm is used, this specifies whether equivalence will only be
#'   assessed for the first control (if `TRUE`) or also for subsequent `control`
#'   arms (if `FALSE`) if one arm is superior to the first control and becomes
#'   the new control.
#' @param futility_prob single numeric value, vector of numeric values of the
#'   same length as the maximum number of possible adaptive analyses or `NULL`
#'   (default, corresponding to no futility assessment), specifying the
#'   probability threshold(s) for futility. All values must be `> 0` and `<= 1`,
#'   and if multiple values are supplied, no value may be higher than the
#'   preceding value. If not `NULL`, arms will be dropped for futility if
#'   the probability for futility compared to the common `control` exceeds the
#'   futility threshold at an adaptive analysis. Requires a common `control`
#'   arm (otherwise this argument must be `NULL`), specification of
#'   `futility_diff`, and `futility_only_first`.
#' @param futility_diff single numeric value (`> 0`) or `NULL` (default,
#'   corresponding to no futility assessment). If a numeric value is specified,
#'   estimated differences below this threshold in the *beneficial* direction
#'   (as specified in `highest_is_best`) will be considered futile when
#'   assessing futility in designs with a common `control` arm. If only 1 arm
#'   remains after dropping arms for futility, the trial will be stopped without
#'   declaring the last arm superior.
#' @param futility_only_first single logical in trial specifications designs
#'   where `futility_prob` and `futility_diff` are specified, otherwise `NULL`
#'   (default and required in designs without a common `control` arm).
#'   Specifies whether futility will only be assessed against the first
#'   `control` (if `TRUE`) or also for subsequent control arms (if `FALSE`) if
#'   one arm is superior to the first control and becomes the new control.
#' @param highest_is_best single logical, specifies whether larger estimates of
#'   the outcome are favourable or not; defaults to `FALSE`, corresponding to,
#'   e.g., an undesirable binary outcomes (e.g., mortality) or a continuous
#'   outcome where lower numbers are preferred (e.g., hospital length of stay).
#' @param soften_power either a single numeric value or a numeric vector of
#'   exactly the same length as the maximum number of looks/adaptive analyses.
#'   Values must be between `0` and `1` (default); if `< 1`, then re-allocated
#'   non-fixed allocation probabilities are all raised to this power (followed
#'   by rescaling to sum to `1`) to make adaptive allocation probabilities
#'   less extreme, in turn used to redistribute remaining probability while
#'   respecting limits when defined by `min_probs` and/or `max_probs`. If `1`,
#'   then no *softening* is applied.
#' @param fun_raw_est function that takes a numeric vector and returns a
#'   single numeric value, used to calculate a raw summary estimate of the
#'   outcomes in each `arm`. Defaults to [mean()], which is always used in the
#'   [setup_trial_binom()] and [setup_trial_norm()] functions.\cr
#'   **Note:** the function is called one time per arm during setup to validate
#'   the output structure.
#' @param cri_width single numeric `>= 0` and `< 1`, the width of the
#'   percentile-based credible intervals used when summarising individual trial
#'   results. Defaults to `0.95`, corresponding to 95% credible intervals.
#' @param n_draws single integer, the number of draws from the posterior
#'   distributions for each arm used when running the trial. Defaults to
#'   `5000`; can be reduced for a speed gain (at the potential loss of stability
#'   of results if too low) or increased for increased precision (increasing
#'   simulation time). Values `< 100` are not allowed and values `< 1000` are
#'   not recommended and warned against.
#' @param robust single logical, if `TRUE` (default) the medians and median
#'   absolute deviations (scaled to be comparable to the standard deviation for
#'   normal distributions; MAD_SDs, see [stats::mad()]) are used to summarise
#'   the posterior distributions; if `FALSE`, the means and standard deviations
#'   (SDs) are used instead (slightly faster, but may be less appropriate for
#'   posteriors skewed on the natural scale).
#' @param description optional single character string describing the trial
#'   design, will only be used in print functions if not `NULL` (the default).
#' @param add_info optional single string containing additional information
#'   regarding the trial design or specifications, will only be used in print
#'   functions if not `NULL` (the default).
#'
#' @details
#'
#' \strong{How to specify the `fun_y_gen` function}
#'
#' The function must take the following arguments:
#' - `allocs`: character vector, the trial `arms` that new patients allocated
#' since the last adaptive analysis are randomised to.
#'
#' The function must return a single numeric vector, corresponding to the
#' outcomes for all patients allocated since the last adaptive analysis, in the
#' same order as `allocs`.\cr
#' See the **Advanced example** vignette
#' (`vignette("Advanced-example", package = "adaptr")`) for an example with
#' further details.
#'
#' \strong{How to specify the `fun_draws` function}
#'
#' The function must take the following arguments:
#' - `arms`: character vector, the unique trial `arms`, in the same order as
#' above, but only the **currently active** arms are included when the function
#' is called.
#' - `allocs`: a vector of allocations for all patients, corresponding to the
#' trial `arms`, including patients allocated to both
#' **currently active AND inactive** `arms` when called.
#' - `ys`: a vector of outcomes for all patients in the same order as `allocs`,
#' including outcomes for patients allocated to both
#' **currently active AND inactive** `arms` when called.
#' - `control`: single character, the current `control` arm, will be `NULL` for
#' designs without a common control arm, but required regardless as the argument
#' is supplied by [run_trial()]/[run_trials()].
#' - `n_draws`: single integer, the number of posterior draws for each arm.
#'
#' The function must return a `matrix` (containing numeric values) with `arms`
#' named columns and `n_draws` rows. The `matrix` must have columns
#' **only for currently active arms** (when called). Each row should contain a
#' single posterior draw for each arm on the original outcome
#' scale: if they are estimated as, e.g., the *log(odds)*, these estimates must
#' be transformed to probabilities and similarly for other measures.\cr
#' Important: the `matrix` cannot contain `NA`s, even if no patients have been
#' randomised to an arm yet. See the provided example for one way to alleviate
#' this.\cr
#' See the **Advanced examples** vignette
#' (`vignette("Advanced-example", package = "adaptr")`) for an example with
#' further details.
#'
#' _Notes_
#' - Different estimation methods and prior distributions may be used;
#' complex functions will lead to slower simulations compared to simpler
#' methods for obtaining posterior draws, including those specified using the
#' [setup_trial_binom()] and [setup_trial_norm()] functions.
#' - Technically, using log relative effect measures  e.g. log(odds ratios) or
#' log(risk ratios) - or differences compared to a reference arm (e.g., mean
#' differences or absolute risk differences) instead of absolute values in each
#' arm will work to some extent (**be cautious!**):
#' - Stopping for superiority/inferiority/max sample sizes will work.
#' - Stopping for equivalence/futility may be used with relative effect
#' measures on the log scale, but thresholds have to be adjusted accordingly.
#' - Several summary statistics from [run_trial()] (`sum_ys` and posterior
#' estimates) may be nonsensical if relative effect measures are used
#' (depending on calculation method; see the `raw_ests` argument in the
#' relevant functions).
#' - In the same vein, [extract_results()] (`sum_ys`, `sq_err`, and
#' `sq_err_te`), and [summary()] (`sum_ys_mean/sd/median/q25/q75/q0/q100`,
#' `rmse`, and `rmse_te`) may be equally nonsensical when calculated on
#' the relative scale (see the `raw_ests` argument in the relevant functions.
#'
#' \strong{Using additional custom or functions from loaded packages in the
#' custom functions}
#'
#' If the `fun_y_gen`, `fun_draws`, or `fun_raw_est` functions calls other
#' user-specified functions (or uses objects defined by the user outside these
#' functions or the [setup_trial()]-call) or functions from external packages
#' and simulations are conducted on multiple cores, these objects or functions
#' must be exported or prefixed with their namespaces, respectively, as
#' described in [setup_cluster()] and [run_trials()].
#'
#' \strong{More information on arguments}
#' - `control`: if one or more treatment arms are superior to the control arm
#' (i.e., passes the superiority threshold as defined above), this arm will
#' become the new control (if multiple arms are superior, the one with the
#' highest probability of being the overall best will become the new control),
#' the previous control will be dropped for inferiority, and all remaining arms
#' will be immediately compared to the new control in the same adaptive analysis
#' and dropped if inferior (or possibly equivalent/futile, see below) compared
#' to this new control arm. Only applies in trials with a common `control`.
#' - `control_prob_fixed`: If the length is 1, then this allocation probability
#' will be used for the `control` group (including if a new arm becomes the
#' control and the original control is dropped). If multiple values are specified
#' the first value will be used when all arms are active, the second when one
#' arm has been dropped, and so forth. If 1 or more values are specified,
#' previously set `fixed_probs`, `min_probs` or `max_probs` for new control arms
#' will be ignored. If all allocation probabilities do not sum to 1 (e.g, due to
#' multiple limits) they will be rescaled to do so.\cr
#' Can also be set to one of the special arguments `"sqrt-based"`,
#' `"sqrt-based start"`, `"sqrt-based fixed"` or `"match"` (written exactly as
#' one of those, case sensitive). This requires `start_probs` to be `NULL` and
#' relevant `fixed_probs` to be `NULL` (or `NA` for the control arm).\cr
#' If one of the `"sqrt-based"/"sqrt-based start"/"sqrt-based fixed"` options
#' are used, the function will set *square-root-transformation-based* starting
#' allocation probabilities. These are defined as:\cr
#' `square root of number of non-control arms to 1-ratio for other arms`\cr
#' scaled to sum to 1, which will generally increase power for comparisons
#' against the common `control`, as discussed in, e.g., *Park et al, 2020*
#' \doi{10.1016/j.jclinepi.2020.04.025}.\cr
#' If `"sqrt-based"`, square-root-transformation-based allocation probabilities
#' will also be used for new controls when arms are dropped. If
#' `"sqrt-based start"`, the control arm will be fixed to this allocation
#' probability at all times (also after arm dropping, with rescaling as
#' necessary, as specified above). If `"sqrt-based fixed"` is chosen,
#' square-root-transformation-based allocation probabilities will be used and
#' all allocation probabilities will be fixed throughout the trial (with
#' rescaling when arms are dropped).\cr
#' If `"match"` is specified, the control group allocation probability will
#' always be *matched* to be similar to the highest non-control arm allocation
#' probability.
#'
#' \strong{Superiority and inferiority}
#'
#' In trial designs without a common control arm, superiority and inferiority
#' are assessed by comparing all ***currently active*** groups. This means that
#' if a "final" analysis of a trial without a common control and `> 2 arms` is
#' conducted including all arms (as will often be done in practice) *after* an
#' adaptive trial has stopped, the final probabilities of the best arm being
#' superior may differ slightly.\cr
#' For example, in a trial with three arms and no common `control` arm, one arm
#' may be dropped early for inferiority defined as `< 1%` probability of being
#' the overall best `arm`. The trial may then continue with the two remaining
#' arms, and stopped when one is declared superior to the other defined as
#' `> 99%` probability of being the overall best `arm`. If a final analysis is
#' then conducted including all arms, the final probability of the best arm
#' being overall superior will generally be slightly lower as the probability
#' of the first dropped arm being the best will often be `> 0%`, even if very
#' low and below the inferiority threshold.\cr
#' This is less relevant trial designs *with* a common `control`, as pairwise
#' assessments of superiority/inferiority compared to the common `control` will
#' not be influenced similarly by previously dropped arms (and previously
#' dropped arms may be included in the analyses, even if posterior distributions
#' are not returned for those).
#' Similarly, in actual clinical trials and when `randomised_at_looks` is
#' specified with numbers higher than the number of patients with available
#' outcome data at each analysis, final probabilities may change somewhat when
#' the all patients are have completed follow-up and are included in a final
#' analysis.
#'
#' \strong{Equivalence}
#'
#' Equivalence is assessed ***after*** both inferiority and superiority have
#' been assessed (and in case of superiority, it will be assessed against the
#' new `control` arm in designs with a common `control`, if specified - see
#' above).
#'
#' \strong{Futility}
#'
#' Futility is assessed ***after*** inferiority, superiority, ***and***
#' equivalence have been assessed (and in case of superiority, it will be
#' assessed against the new control arm in designs with a common control, if
#' specified - see above). Arms will thus be dropped for equivalence before
#' futility.
#'
#' \strong{Varying probability thresholds}
#'
#' Different probability thresholds (for superiority, inferiority, equivalence,
#' and futility) may be specified for different adaptive analyses. This may be
#' used, e.g., to apply more strict probability thresholds at earlier analyses
#' (or make one or more stopping rules not apply at earlier analyses), similar
#' to the use of monitoring boundaries with different thresholds used for
#' interim analyses in conventional, frequentist group sequential trial designs.
#' See the **Basic examples** vignette
#' (`vignette("Basic-examples", package = "adaptr")`) for an example.
#'
#' @return A `trial_spec` object used to run simulations by [run_trial()] or
#'   [run_trials()]. The output is essentially a list containing the input
#'   values (some combined in a `data.frame` called `trial_arms`), but its class
#'   signals that these inputs have been validated and inappropriate
#'   combinations and settings have been ruled out. Also contains `best_arm`,
#'   holding the arm(s) with the best value(s) in `true_ys`. Use `str()` to
#'   peruse the actual content of the returned object.
#'
#' @examples
#' # Setup a custom trial specification with right-skewed, log-normally
#' # distributed continuous outcomes (higher values are worse)
#'
#' # Define the function that will generate the outcomes in each arm
#' # Notice: contents should match arms/true_ys in the setup_trial() call below
#' get_ys_lognorm <- function(allocs) {
#'   y <- numeric(length(allocs))
#'   # arms (names and order) and values (except for exponentiation) should match
#'   # those used in setup_trial (below)
#'   means <- c("Control" = 2.2, "Experimental A" = 2.1, "Experimental B" = 2.3)
#'   for (arm in names(means)) {
#'     ii <- which(allocs == arm)
#'     y[ii] <- rlnorm(length(ii), means[arm], 1.5)
#'   }
#'   y
#' }
#'
#' # Define the function that will generate posterior draws
#' # In this example, the function uses no priors (corresponding to improper
#' # flat priors) and calculates results on the log-scale, before exponentiating
#' # back to the natural scale, which is required for assessments of
#' # equivalence, futility and general interpretation
#' get_draws_lognorm <- function(arms, allocs, ys, control, n_draws) {
#'   draws <- list()
#'   logys <- log(ys)
#'   for (arm in arms){
#'     ii <- which(allocs == arm)
#'     n <- length(ii)
#'     if (n > 1) {
#'       # Necessary to avoid errors if too few patients randomised to this arm
#'       draws[[arm]] <- exp(rnorm(n_draws, mean = mean(logys[ii]), sd = sd(logys[ii])/sqrt(n - 1)))
#'     } else {
#'       # Too few patients randomised to this arm - extreme uncertainty
#'       draws[[arm]] <- exp(rnorm(n_draws, mean = mean(logys), sd = 1000 * (max(logys) - min(logys))))
#'     }
#'   }
#'   do.call(cbind, draws)
#' }
#'
#' # The actual trial specification is then defined
#' lognorm_trial <- setup_trial(
#'   # arms should match those above
#'   arms = c("Control", "Experimental A", "Experimental B"),
#'   # true_ys should match those above
#'   true_ys = exp(c(2.2, 2.1, 2.3)),
#'   fun_y_gen = get_ys_lognorm, # as specified above
#'   fun_draws = get_draws_lognorm, # as specified above
#'   max_n = 5000,
#'   look_after_every = 200,
#'   control = "Control",
#'   # Square-root-based, fixed control group allocation ratio
#'   # and response-adaptive randomisation for other arms
#'   control_prob_fixed = "sqrt-based",
#'   # Equivalence assessment
#'   equivalence_prob = 0.9,
#'   equivalence_diff = 0.5,
#'   equivalence_only_first = TRUE,
#'   highest_is_best = FALSE,
#'   # Summarise raw results by taking the mean on the
#'   # log scale and back-transforming
#'   fun_raw_est = function(x) exp(mean(log(x))) ,
#'   # Summarise posteriors using medians with MAD-SDs,
#'   # as distributions will not be normal on the actual scale
#'   robust = TRUE,
#'   # Description/additional info used when printing
#'   description = "continuous, log-normally distributed outcome",
#'   add_info = "SD on the log scale for all arms: 1.5"
#' )
#'
#' # Print trial specification with 3 digits for all probabilities
#' print(lognorm_trial, prob_digits = 3)
#'
#' @export
#'
setup_trial <- function(arms, true_ys, fun_y_gen = NULL, fun_draws = NULL,
                        start_probs = NULL, fixed_probs = NULL,
                        min_probs = rep(NA, length(arms)),
                        max_probs = rep(NA, length(arms)),
                        data_looks = NULL,
                        max_n = NULL, look_after_every = NULL,
                        randomised_at_looks = NULL,
                        control = NULL,
                        control_prob_fixed = NULL, inferiority = 0.01,
                        superiority = 0.99, equivalence_prob = NULL,
                        equivalence_diff = NULL, equivalence_only_first = NULL,
                        futility_prob = NULL, futility_diff = NULL,
                        futility_only_first = NULL, highest_is_best = FALSE,
                        soften_power = 1, fun_raw_est = mean, cri_width = 0.95,
                        n_draws = 5000, robust = TRUE, description = NULL,
                        add_info = NULL) {
  
  validate_trial(arms = arms, true_ys = true_ys, start_probs = start_probs, fixed_probs = fixed_probs,
                 min_probs = min_probs, max_probs = max_probs, data_looks = data_looks, max_n = max_n,
                 look_after_every = look_after_every, randomised_at_looks = randomised_at_looks,
                 control = control, control_prob_fixed = control_prob_fixed, inferiority = inferiority,
                 superiority = superiority, equivalence_prob = equivalence_prob,
                 equivalence_diff = equivalence_diff, equivalence_only_first = equivalence_only_first,
                 futility_prob = futility_prob, futility_diff = futility_diff, futility_only_first = futility_only_first,
                 highest_is_best = highest_is_best, soften_power = soften_power,
                 cri_width = cri_width, n_draws = n_draws, robust = robust,
                 description = description, add_info = add_info,
                 fun_y_gen = fun_y_gen, fun_draws = fun_draws, fun_raw_est = fun_raw_est)
}


#' Setup a trial specification using a binary, binomially distributed outcome
#'
#' Specifies the design of an adaptive trial with a binary, binomially
#' distributed outcome and validates all inputs. Uses *beta-binomial*
#' conjugate models with `beta(1, 1)` prior distributions, corresponding to a
#' uniform prior (or the addition of 2 patients, 1 with an event and 1 without,
#' in each `arm`) to the trial. Use [calibrate_trial()] to calibrate the trial
#' specification to obtain a specific value for a certain performance metric
#' (e.g., the Bayesian type 1 error rate). Use [run_trial()] or [run_trials()]
#' to conduct single/multiple simulations of the specified trial, respectively.
#' \cr
#' **Note:** `add_info` as specified in [setup_trial()] is set to `NULL` for
#' trial specifications setup by this function.\cr
#' **Further details:** please see [setup_trial()]. See [setup_trial_norm()] for
#' simplified setup of trials with a normally distributed continuous outcome.\cr
#' For additional trial specification examples, see the the **Basic examples**
#' vignette (`vignette("Basic-examples", package = "adaptr")`) and the
#' **Advanced example** vignette
#' (`vignette("Advanced-example", package = "adaptr")`).
#'
#' @inheritParams setup_trial
#' @param true_ys numeric vector, true probabilities (between `0` and `1`) of
#'   outcomes in all trial `arms`.
#' @param description character string, default is
#'   `"generic binomially distributed outcome trial"`. See arguments of
#'   [setup_trial()].
#'
#' @inherit setup_trial return
#'
#' @export
#'
#' @examples
#' # Setup a trial specification using a binary, binomially
#' # distributed, undesirable outcome
#' binom_trial <- setup_trial_binom(
#'   arms = c("Arm A", "Arm B", "Arm C"),
#'   true_ys = c(0.25, 0.20, 0.30),
#'   # Minimum allocation of 15% in all arms
#'   min_probs = rep(0.15, 3),
#'   data_looks = seq(from = 300, to = 2000, by = 100),
#'   # Stop for equivalence if > 90% probability of
#'   # absolute differences < 5 percentage points
#'   equivalence_prob = 0.9,
#'   equivalence_diff = 0.05,
#'   soften_power = 0.5 # Limit extreme allocation ratios
#' )
#'
#' # Print using 3 digits for probabilities
#' print(binom_trial, prob_digits = 3)
#'
setup_trial_binom <- function(arms, true_ys, start_probs = NULL,
                              fixed_probs = NULL,
                              min_probs = rep(NA, length(arms)),
                              max_probs = rep(NA, length(arms)),
                              data_looks = NULL,
                              max_n = NULL, look_after_every = NULL,
                              randomised_at_looks = NULL,
                              control = NULL, control_prob_fixed = NULL,
                              inferiority = 0.01, superiority = 0.99,
                              equivalence_prob = NULL, equivalence_diff = NULL,
                              equivalence_only_first = NULL,
                              futility_prob = NULL, futility_diff = NULL,
                              futility_only_first = NULL,
                              highest_is_best = FALSE, soften_power = 1,
                              cri_width = 0.95, n_draws = 5000, robust = TRUE,
                              description = "generic binomially distributed outcome trial") {
  
  # Validate specific arguments to trials with binary outcomes
  if (!isFALSE(length(arms) != length(true_ys) | any(is.na(true_ys)) | any(true_ys > 1) | any(true_ys < 0) | !is.numeric(true_ys))) {
    stop0("true_ys must be a vector of the same length as the number of arms containing ",
          "values (event probabilities) between 0 and 1 with no missing values.")
  }
  
  # General setup and validation
  trial <- validate_trial(arms = arms, true_ys = true_ys, start_probs = start_probs, fixed_probs = fixed_probs,
                          min_probs = min_probs, max_probs = max_probs, data_looks = data_looks, max_n = max_n,
                          look_after_every = look_after_every, randomised_at_looks = randomised_at_looks,
                          control = control, control_prob_fixed = control_prob_fixed, inferiority = inferiority,
                          superiority = superiority, equivalence_prob = equivalence_prob,
                          equivalence_diff = equivalence_diff, equivalence_only_first = equivalence_only_first,
                          futility_prob = futility_prob, futility_diff = futility_diff, futility_only_first = futility_only_first,
                          highest_is_best = highest_is_best, soften_power = soften_power,
                          cri_width = cri_width, n_draws = n_draws, robust = robust,
                          description = description, add_info = NULL,
                          fun_y_gen = get_ys_binom(arms, true_ys),
                          fun_draws = get_draws_binom,
                          fun_raw_est = mean)
  
  # Additional specific validation
  if (!is.null(equivalence_diff)) {
    if (equivalence_diff <= 0 | equivalence_diff >= 1) {
      stop0("equivalence_diff must be a single numeric value > 0 and < 1.")
    }
  }
  if (!is.null(futility_diff)) {
    if (futility_diff >= 1) {
      stop0("futility_diff must be a single numeric value > 0 and < 1.")
    }
  }
  
  # Return
  trial
}


#' Setup a trial specification using a continuous, normally distributed outcome
#'
#' Specifies the design of an adaptive trial with a continuous, normally
#' distributed outcome and validates all inputs. Uses normally distributed
#' posterior distributions for the mean values in each
#' trial arm; technically, no priors are used (as using *normal-normal*
#' conjugate prior models with extremely wide or uniform priors gives similar
#' results for these simple, unadjusted estimates). This corresponds to the use
#' of improper, flat priors, although not explicitly specified as such. Use
#' [calibrate_trial()] to calibrate the trial specification to obtain a specific
#' value for a certain performance metric (e.g., the Bayesian type 1 error
#' rate). Use [run_trial()] or [run_trials()] to conduct single/multiple
#' simulations of the specified trial, respectively.\cr
#' **Note:** `add_info` as specified in [setup_trial()] is set to the arms and
#' standard deviations used for trials specified using this function.\cr
#' **Further details:** please see [setup_trial()]. See [setup_trial_binom()]
#' for simplified setup of trials with binomially distributed binary outcomes.
#' \cr
#' For additional trial specification examples, see the the
#' **Basic examples** vignette
#' (`vignette("Basic-examples", package = "adaptr")`) and the
#' **Advanced example** vignette
#' (`vignette("Advanced-example", package = "adaptr")`).
#'
#' @inheritParams setup_trial
#' @param true_ys numeric vector, simulated means of the outcome in all trial
#'   `arms`.
#' @param sds numeric vector, true standard deviations (must be `> 0`) of the
#'   outcome in all trial `arms`.
#' @param description character string, default is
#' `"generic normally distributed outcome trial"`. See arguments of
#' [setup_trial()].
#'
#' @inherit setup_trial return
#'
#' @details
#' Because the posteriors used in this type of trial (with a generic,
#' continuous, normally distributed outcome) are by definition normally
#' distributed, `FALSE` is used as the default value for the `robust` argument.
#'
#' @export
#'
#' @examples
#' # Setup a trial specification using a continuous, normally distributed, desirable outcome
#' norm_trial <- setup_trial_norm(
#'   arms = c("Control", "New A", "New B", "New C"),
#'   true_ys = c(15, 20, 14, 13),
#'   sds = c(2, 2.5, 1.9, 1.8), # SDs in each arm
#'   max_n = 500,
#'   look_after_every = 50,
#'   control = "Control", # Common control arm
#'   # Square-root-based, fixed control group allocation ratios
#'   control_prob_fixed = "sqrt-based fixed",
#'   # Desirable outcome
#'   highest_is_best = TRUE,
#'   soften_power = 0.5 # Limit extreme allocation ratios
#' )
#'
#' # Print using 3 digits for probabilities
#' print(norm_trial, prob_digits = 3)
#'
setup_trial_norm <- function(arms, true_ys, sds, start_probs = NULL,
                             fixed_probs = NULL,
                             min_probs = rep(NA, length(arms)),
                             max_probs = rep(NA, length(arms)),
                             data_looks = NULL,
                             max_n = NULL, look_after_every = NULL,
                             randomised_at_looks = NULL,
                             control = NULL, control_prob_fixed = NULL,
                             inferiority = 0.01, superiority = 0.99,
                             equivalence_prob = NULL, equivalence_diff = NULL,
                             equivalence_only_first = NULL,
                             futility_prob = NULL, futility_diff = NULL,
                             futility_only_first = NULL,
                             highest_is_best = FALSE, soften_power = 1,
                             cri_width = 0.95, n_draws = 5000, robust = FALSE,
                             description = "generic normally distributed outcome trial") {
  
  # Validate specific arguments to generic continuous, normally distributed outcome trials
  if (!isFALSE(length(arms) != length(true_ys) | any(is.na(true_ys)) | !is.numeric(true_ys) |
               length(arms) != length(sds) | any(is.na(sds)) | !is.numeric(sds) | any(sds <= 0))) {
    stop0("true_ys and sds must be vectors of the same length as the number of arms and all sds must be > 0.")
  }
  
  # General setup and validation and return
  validate_trial(arms = arms, true_ys = true_ys, start_probs = start_probs, fixed_probs = fixed_probs,
                 min_probs = min_probs, max_probs = max_probs, data_looks = data_looks, max_n = max_n,
                 look_after_every = look_after_every, randomised_at_looks = randomised_at_looks,
                 control = control, control_prob_fixed = control_prob_fixed, inferiority = inferiority,
                 superiority = superiority, equivalence_prob = equivalence_prob,
                 equivalence_diff = equivalence_diff, equivalence_only_first = equivalence_only_first,
                 futility_prob = futility_prob, futility_diff = futility_diff, futility_only_first = futility_only_first,
                 highest_is_best = highest_is_best, soften_power = soften_power,
                 cri_width = cri_width, n_draws = n_draws, robust = robust,
                 description = description, add_info = paste0("Arm SDs - ", paste0(paste0(arms, ": ", sds), collapse = "; "), "."),
                 fun_y_gen = get_ys_norm(arms, true_ys, sds),
                 fun_draws = get_draws_norm,
                 fun_raw_est = mean)
}












### RESPONSE - DESIGN SIMULATIONS ###

# Simulation trial_1_1_1 - equivalent
response_trial_1_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_1a

response_trial_1_1_1a_sims <- run_trials(response_trial_1_1_1a, n_rep = 10000, base_seed = 123)
response_trial_1_1_1a_sims



# Simulation trial_1_1_1 - inferior
response_trial_1_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_1b

response_trial_1_1_1b_sims <- run_trials(response_trial_1_1_1b, n_rep = 10000, base_seed = 123)
response_trial_1_1_1b_sims



# Simulation trial_1_1_2 - equivalent
response_trial_1_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_2a

response_trial_1_1_2a_sims <- run_trials(response_trial_1_1_2a, n_rep = 10000, base_seed = 123)
response_trial_1_1_2a_sims




# Simulation trial_1_1_2 - inferior
response_trial_1_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_2b

response_trial_1_1_2b_sims <- run_trials(response_trial_1_1_2b, n_rep = 10000, base_seed = 123)
response_trial_1_1_2b_sims



# Simulation trial_1_1_3 - equivalent
response_trial_1_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_3a

response_trial_1_1_3a_sims <- run_trials(response_trial_1_1_3a, n_rep = 10000, base_seed = 123)
response_trial_1_1_3a_sims




# Simulation trial_1_1_3 - inferior
response_trial_1_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_3b

response_trial_1_1_3b_sims <- run_trials(response_trial_1_1_3b, n_rep = 10000, base_seed = 123)
response_trial_1_1_3b_sims




# Simulation trial_1_1_4 - equivalent
response_trial_1_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_4a

response_trial_1_1_4a_sims <- run_trials(response_trial_1_1_4a, n_rep = 10000, base_seed = 123)
response_trial_1_1_4a_sims




# Simulation trial_1_1_4 - inferior
response_trial_1_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_4b

response_trial_1_1_4b_sims <- run_trials(response_trial_1_1_4b, n_rep = 10000, base_seed = 123)
response_trial_1_1_4b_sims



# Simulation trial_1_1_5 - equivalent
response_trial_1_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_5a

response_trial_1_1_5a_sims <- run_trials(response_trial_1_1_5a, n_rep = 10000, base_seed = 123)
response_trial_1_1_5a_sims




# Simulation trial_1_1_5 - inferior
response_trial_1_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_5b

response_trial_1_1_5b_sims <- run_trials(response_trial_1_1_5b, n_rep = 10000, base_seed = 123)
response_trial_1_1_5b_sims



# Simulation trial_1_1_6 - equivalent
response_trial_1_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_6a

response_trial_1_1_6a_sims <- run_trials(response_trial_1_1_6a, n_rep = 10000, base_seed = 123)
response_trial_1_1_6a_sims




# Simulation trial_1_1_6 - inferior
response_trial_1_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_6b

response_trial_1_1_6b_sims <- run_trials(response_trial_1_1_6b, n_rep = 10000, base_seed = 123)
response_trial_1_1_6b_sims




# Simulation trial_1_1_7 - equivalent
response_trial_1_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_7a

response_trial_1_1_7a_sims <- run_trials(response_trial_1_1_7a, n_rep = 10000, base_seed = 123)
response_trial_1_1_7a_sims




# Simulation trial_1_1_7 - inferior
response_trial_1_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_7b

response_trial_1_1_7b_sims <- run_trials(response_trial_1_1_7b, n_rep = 10000, base_seed = 123)
response_trial_1_1_7b_sims



# Simulation trial_1_1_8 - equivalent
response_trial_1_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_8a

response_trial_1_1_8a_sims <- run_trials(response_trial_1_1_8a, n_rep = 10000, base_seed = 123)
response_trial_1_1_8a_sims




# Simulation trial_1_1_8 - inferior
response_trial_1_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_8b

response_trial_1_1_8b_sims <- run_trials(response_trial_1_1_8b, n_rep = 10000, base_seed = 123)
response_trial_1_1_8b_sims



# Simulation trial_1_1_9 - equivalent
response_trial_1_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_9a

response_trial_1_1_9a_sims <- run_trials(response_trial_1_1_9a, n_rep = 10000, base_seed = 123)
response_trial_1_1_9a_sims




# Simulation trial_1_1_9 - inferior
response_trial_1_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_1_9b

response_trial_1_1_9b_sims <- run_trials(response_trial_1_1_9b, n_rep = 10000, base_seed = 123)
response_trial_1_1_9b_sims






# Simulation trial_1_1_10 - equivalent
response_trial_1_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_10a

response_trial_1_1_10a_sims <- run_trials(response_trial_1_1_10a, n_rep = 10000, base_seed = 123)
response_trial_1_1_10a_sims




# Simulation trial_1_1_10 - inferior
response_trial_1_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_10b

response_trial_1_1_10b_sims <- run_trials(response_trial_1_1_10b, n_rep = 10000, base_seed = 123)
response_trial_1_1_10b_sims



# Simulation trial_1_1_11 - equivalent
response_trial_1_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_11a

response_trial_1_1_11a_sims <- run_trials(response_trial_1_1_11a, n_rep = 10000, base_seed = 123)
response_trial_1_1_11a_sims




# Simulation trial_1_1_11 - inferior
response_trial_1_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_11b

response_trial_1_1_11b_sims <- run_trials(response_trial_1_1_11b, n_rep = 10000, base_seed = 123)
response_trial_1_1_11b_sims



# Simulation trial_1_1_12 - equivalent
response_trial_1_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_12a

response_trial_1_1_12a_sims <- run_trials(response_trial_1_1_12a, n_rep = 10000, base_seed = 123)
response_trial_1_1_12a_sims




# Simulation trial_1_1_12 - inferior
response_trial_1_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_12b

response_trial_1_1_12b_sims <- run_trials(response_trial_1_1_12b, n_rep = 10000, base_seed = 123)
response_trial_1_1_12b_sims





# Simulation trial_1_1_13 - equivalent
response_trial_1_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_13a

response_trial_1_1_13a_sims <- run_trials(response_trial_1_1_13a, n_rep = 10000, base_seed = 123)
response_trial_1_1_13a_sims




# Simulation trial_1_1_13 - inferior
response_trial_1_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_13b

response_trial_1_1_13b_sims <- run_trials(response_trial_1_1_13b, n_rep = 10000, base_seed = 123)
response_trial_1_1_13b_sims



# Simulation trial_1_1_14 - equivalent
response_trial_1_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_14a

response_trial_1_1_14a_sims <- run_trials(response_trial_1_1_14a, n_rep = 10000, base_seed = 123)
response_trial_1_1_14a_sims




# Simulation trial_1_1_14 - inferior
response_trial_1_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_14b

response_trial_1_1_14b_sims <- run_trials(response_trial_1_1_14b, n_rep = 10000, base_seed = 123)
response_trial_1_1_14b_sims



# Simulation trial_1_1_15 - equivalent
response_trial_1_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_15a

response_trial_1_1_15a_sims <- run_trials(response_trial_1_1_15a, n_rep = 10000, base_seed = 123)
response_trial_1_1_15a_sims




# Simulation trial_1_1_15 - inferior
response_trial_1_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_15b

response_trial_1_1_15b_sims <- run_trials(response_trial_1_1_15b, n_rep = 10000, base_seed = 123)
response_trial_1_1_15b_sims






# Simulation trial_1_1_16 - equivalent
response_trial_1_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_16a

response_trial_1_1_16a_sims <- run_trials(response_trial_1_1_16a, n_rep = 10000, base_seed = 123)
response_trial_1_1_16a_sims




# Simulation trial_1_1_16 - inferior
response_trial_1_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_16b

response_trial_1_1_16b_sims <- run_trials(response_trial_1_1_16b, n_rep = 10000, base_seed = 123)
response_trial_1_1_16b_sims



# Simulation trial_1_1_17 - equivalent
response_trial_1_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_17a

response_trial_1_1_17a_sims <- run_trials(response_trial_1_1_17a, n_rep = 10000, base_seed = 123)
response_trial_1_1_17a_sims




# Simulation trial_1_1_17 - inferior
response_trial_1_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_17b

response_trial_1_1_17b_sims <- run_trials(response_trial_1_1_17b, n_rep = 10000, base_seed = 123)
response_trial_1_1_17b_sims



# Simulation trial_1_1_18 - equivalent
response_trial_1_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_18a

response_trial_1_1_18a_sims <- run_trials(response_trial_1_1_18a, n_rep = 10000, base_seed = 123)
response_trial_1_1_18a_sims




# Simulation trial_1_1_18 - inferior
response_trial_1_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_1_18b

response_trial_1_1_18b_sims <- run_trials(response_trial_1_1_18b, n_rep = 10000, base_seed = 123)
response_trial_1_1_18b_sims




###




# Simulation trial_1_2_1 - equivalent
response_trial_1_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_1a

response_trial_1_2_1a_sims <- run_trials(response_trial_1_2_1a, n_rep = 10000, base_seed = 123)
response_trial_1_2_1a_sims




# Simulation trial_1_2_1 - inferior
response_trial_1_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_1b

response_trial_1_2_1b_sims <- run_trials(response_trial_1_2_1b, n_rep = 10000, base_seed = 123)
response_trial_1_2_1b_sims



# Simulation trial_1_2_2 - equivalent
response_trial_1_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_2a

response_trial_1_2_2a_sims <- run_trials(response_trial_1_2_2a, n_rep = 10000, base_seed = 123)
response_trial_1_2_2a_sims




# Simulation trial_1_2_2 - inferior
response_trial_1_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_2b

response_trial_1_2_2b_sims <- run_trials(response_trial_1_2_2b, n_rep = 10000, base_seed = 123)
response_trial_1_2_2b_sims



# Simulation trial_1_2_3 - equivalent
response_trial_1_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_3a

response_trial_1_2_3a_sims <- run_trials(response_trial_1_2_3a, n_rep = 10000, base_seed = 123)
response_trial_1_2_3a_sims




# Simulation trial_1_2_3 - inferior
response_trial_1_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_3b

response_trial_1_2_3b_sims <- run_trials(response_trial_1_2_3b, n_rep = 10000, base_seed = 123)
response_trial_1_2_3b_sims




# Simulation trial_1_2_4 - equivalent
response_trial_1_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_4a

response_trial_1_2_4a_sims <- run_trials(response_trial_1_2_4a, n_rep = 10000, base_seed = 123)
response_trial_1_2_4a_sims




# Simulation trial_1_2_4 - inferior
response_trial_1_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_4b

response_trial_1_2_4b_sims <- run_trials(response_trial_1_2_4b, n_rep = 10000, base_seed = 123)
response_trial_1_2_4b_sims



# Simulation trial_1_2_5 - equivalent
response_trial_1_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_5a

response_trial_1_2_5a_sims <- run_trials(response_trial_1_2_5a, n_rep = 10000, base_seed = 123)
response_trial_1_2_5a_sims




# Simulation trial_1_2_5 - inferior
response_trial_1_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_5b

response_trial_1_2_5b_sims <- run_trials(response_trial_1_2_5b, n_rep = 10000, base_seed = 123)
response_trial_1_2_5b_sims



# Simulation trial_1_2_6 - equivalent
response_trial_1_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_6a

response_trial_1_2_6a_sims <- run_trials(response_trial_1_2_6a, n_rep = 10000, base_seed = 123)
response_trial_1_2_6a_sims




# Simulation trial_1_2_6 - inferior
response_trial_1_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_6b

response_trial_1_2_6b_sims <- run_trials(response_trial_1_2_6b, n_rep = 10000, base_seed = 123)
response_trial_1_2_6b_sims




# Simulation trial_1_2_7 - equivalent
response_trial_1_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_7a

response_trial_1_2_7a_sims <- run_trials(response_trial_1_2_7a, n_rep = 10000, base_seed = 123)
response_trial_1_2_7a_sims




# Simulation trial_1_2_7 - inferior
response_trial_1_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_7b

response_trial_1_2_7b_sims <- run_trials(response_trial_1_2_7b, n_rep = 10000, base_seed = 123)
response_trial_1_2_7b_sims



# Simulation trial_1_2_8 - equivalent
response_trial_1_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_8a

response_trial_1_2_8a_sims <- run_trials(response_trial_1_2_8a, n_rep = 10000, base_seed = 123)
response_trial_1_2_8a_sims




# Simulation trial_1_2_8 - inferior
response_trial_1_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_8b

response_trial_1_2_8b_sims <- run_trials(response_trial_1_2_8b, n_rep = 10000, base_seed = 123)
response_trial_1_2_8b_sims



# Simulation trial_1_2_9 - equivalent
response_trial_1_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_9a

response_trial_1_2_9a_sims <- run_trials(response_trial_1_2_9a, n_rep = 10000, base_seed = 123)
response_trial_1_2_9a_sims




# Simulation trial_1_2_9 - inferior
response_trial_1_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_2_9b

response_trial_1_2_9b_sims <- run_trials(response_trial_1_2_9b, n_rep = 10000, base_seed = 123)
response_trial_1_2_9b_sims






# Simulation trial_1_2_10 - equivalent
response_trial_1_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_10a

response_trial_1_2_10a_sims <- run_trials(response_trial_1_2_10a, n_rep = 10000, base_seed = 123)
response_trial_1_2_10a_sims




# Simulation trial_1_2_10 - inferior
response_trial_1_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_10b

response_trial_1_2_10b_sims <- run_trials(response_trial_1_2_10b, n_rep = 10000, base_seed = 123)
response_trial_1_2_10b_sims



# Simulation trial_1_2_11 - equivalent
response_trial_1_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_11a

response_trial_1_2_11a_sims <- run_trials(response_trial_1_2_11a, n_rep = 10000, base_seed = 123)
response_trial_1_2_11a_sims




# Simulation trial_1_2_11 - inferior
response_trial_1_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_11b

response_trial_1_2_11b_sims <- run_trials(response_trial_1_2_11b, n_rep = 10000, base_seed = 123)
response_trial_1_2_11b_sims



# Simulation trial_1_2_12 - equivalent
response_trial_1_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_12a

response_trial_1_2_12a_sims <- run_trials(response_trial_1_2_12a, n_rep = 10000, base_seed = 123)
response_trial_1_2_12a_sims




# Simulation trial_1_2_12 - inferior
response_trial_1_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_12b

response_trial_1_2_12b_sims <- run_trials(response_trial_1_2_12b, n_rep = 10000, base_seed = 123)
response_trial_1_2_12b_sims





# Simulation trial_1_2_13 - equivalent
response_trial_1_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_13a

response_trial_1_2_13a_sims <- run_trials(response_trial_1_2_13a, n_rep = 10000, base_seed = 123)
response_trial_1_2_13a_sims




# Simulation trial_1_2_13 - inferior
response_trial_1_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_13b

response_trial_1_2_13b_sims <- run_trials(response_trial_1_2_13b, n_rep = 10000, base_seed = 123)
response_trial_1_2_13b_sims



# Simulation trial_1_2_14 - equivalent
response_trial_1_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_14a

response_trial_1_2_14a_sims <- run_trials(response_trial_1_2_14a, n_rep = 10000, base_seed = 123)
response_trial_1_2_14a_sims




# Simulation trial_1_2_14 - inferior
response_trial_1_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_14b

response_trial_1_2_14b_sims <- run_trials(response_trial_1_2_14b, n_rep = 10000, base_seed = 123)
response_trial_1_2_14b_sims



# Simulation trial_1_2_15 - equivalent
response_trial_1_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_15a

response_trial_1_2_15a_sims <- run_trials(response_trial_1_2_15a, n_rep = 10000, base_seed = 123)
response_trial_1_2_15a_sims




# Simulation trial_1_2_15 - inferior
response_trial_1_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_15b

response_trial_1_2_15b_sims <- run_trials(response_trial_1_2_15b, n_rep = 10000, base_seed = 123)
response_trial_1_2_15b_sims






# Simulation trial_1_2_16 - equivalent
response_trial_1_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_16a

response_trial_1_2_16a_sims <- run_trials(response_trial_1_2_16a, n_rep = 10000, base_seed = 123)
response_trial_1_2_16a_sims




# Simulation trial_1_2_16 - inferior
response_trial_1_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_16b

response_trial_1_2_16b_sims <- run_trials(response_trial_1_2_16b, n_rep = 10000, base_seed = 123)
response_trial_1_2_16b_sims



# Simulation trial_1_2_17 - equivalent
response_trial_1_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_17a

response_trial_1_2_17a_sims <- run_trials(response_trial_1_2_17a, n_rep = 10000, base_seed = 123)
response_trial_1_2_17a_sims




# Simulation trial_1_2_17 - inferior
response_trial_1_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_17b

response_trial_1_2_17b_sims <- run_trials(response_trial_1_2_17b, n_rep = 10000, base_seed = 123)
response_trial_1_2_17b_sims



# Simulation trial_1_2_18 - equivalent
response_trial_1_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_18a

response_trial_1_2_18a_sims <- run_trials(response_trial_1_2_18a, n_rep = 10000, base_seed = 123)
response_trial_1_2_18a_sims




# Simulation trial_1_2_18 - inferior
response_trial_1_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_2_18b

response_trial_1_2_18b_sims <- run_trials(response_trial_1_2_18b, n_rep = 10000, base_seed = 123)
response_trial_1_2_18b_sims




# Simulation trial_1_3_1 - equivalent
response_trial_1_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_1a

response_trial_1_3_1a_sims <- run_trials(response_trial_1_3_1a, n_rep = 10000, base_seed = 123)
response_trial_1_3_1a_sims




# Simulation trial_1_3_1 - inferior
response_trial_1_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_1b

response_trial_1_3_1b_sims <- run_trials(response_trial_1_3_1b, n_rep = 10000, base_seed = 123)
response_trial_1_3_1b_sims



# Simulation trial_1_3_2 - equivalent
response_trial_1_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_2a

response_trial_1_3_2a_sims <- run_trials(response_trial_1_3_2a, n_rep = 10000, base_seed = 123)
response_trial_1_3_2a_sims




# Simulation trial_1_3_2 - inferior
response_trial_1_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_2b

response_trial_1_3_2b_sims <- run_trials(response_trial_1_3_2b, n_rep = 10000, base_seed = 123)
response_trial_1_3_2b_sims



# Simulation trial_1_3_3 - equivalent
response_trial_1_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_3a

response_trial_1_3_3a_sims <- run_trials(response_trial_1_3_3a, n_rep = 10000, base_seed = 123)
response_trial_1_3_3a_sims




# Simulation trial_1_3_3 - inferior
response_trial_1_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_3b

response_trial_1_3_3b_sims <- run_trials(response_trial_1_3_3b, n_rep = 10000, base_seed = 123)
response_trial_1_3_3b_sims




# Simulation trial_1_3_4 - equivalent
response_trial_1_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_4a

response_trial_1_3_4a_sims <- run_trials(response_trial_1_3_4a, n_rep = 10000, base_seed = 123)
response_trial_1_3_4a_sims




# Simulation trial_1_3_4 - inferior
response_trial_1_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_4b

response_trial_1_3_4b_sims <- run_trials(response_trial_1_3_4b, n_rep = 10000, base_seed = 123)
response_trial_1_3_4b_sims



# Simulation trial_1_3_5 - equivalent
response_trial_1_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_5a

response_trial_1_3_5a_sims <- run_trials(response_trial_1_3_5a, n_rep = 10000, base_seed = 123)
response_trial_1_3_5a_sims




# Simulation trial_1_3_5 - inferior
response_trial_1_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_5b

response_trial_1_3_5b_sims <- run_trials(response_trial_1_3_5b, n_rep = 10000, base_seed = 123)
response_trial_1_3_5b_sims



# Simulation trial_1_3_6 - equivalent
response_trial_1_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_6a

response_trial_1_3_6a_sims <- run_trials(response_trial_1_3_6a, n_rep = 10000, base_seed = 123)
response_trial_1_3_6a_sims




# Simulation trial_1_3_6 - inferior
response_trial_1_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_6b

response_trial_1_3_6b_sims <- run_trials(response_trial_1_3_6b, n_rep = 10000, base_seed = 123)
response_trial_1_3_6b_sims




# Simulation trial_1_3_7 - equivalent
response_trial_1_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_7a

response_trial_1_3_7a_sims <- run_trials(response_trial_1_3_7a, n_rep = 10000, base_seed = 123)
response_trial_1_3_7a_sims




# Simulation trial_1_3_7 - inferior
response_trial_1_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_7b

response_trial_1_3_7b_sims <- run_trials(response_trial_1_3_7b, n_rep = 10000, base_seed = 123)
response_trial_1_3_7b_sims



# Simulation trial_1_3_8 - equivalent
response_trial_1_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_8a

response_trial_1_3_8a_sims <- run_trials(response_trial_1_3_8a, n_rep = 10000, base_seed = 123)
response_trial_1_3_8a_sims




# Simulation trial_1_3_8 - inferior
response_trial_1_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_8b

response_trial_1_3_8b_sims <- run_trials(response_trial_1_3_8b, n_rep = 10000, base_seed = 123)
response_trial_1_3_8b_sims



# Simulation trial_1_3_9 - equivalent
response_trial_1_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_9a

response_trial_1_3_9a_sims <- run_trials(response_trial_1_3_9a, n_rep = 10000, base_seed = 123)
response_trial_1_3_9a_sims




# Simulation trial_1_3_9 - inferior
response_trial_1_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 30),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_1_3_9b

response_trial_1_3_9b_sims <- run_trials(response_trial_1_3_9b, n_rep = 10000, base_seed = 123)
response_trial_1_3_9b_sims






# Simulation trial_1_3_10 - equivalent
response_trial_1_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_10a

response_trial_1_3_10a_sims <- run_trials(response_trial_1_3_10a, n_rep = 10000, base_seed = 123)
response_trial_1_3_10a_sims




# Simulation trial_1_3_10 - inferior
response_trial_1_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_10b

response_trial_1_3_10b_sims <- run_trials(response_trial_1_3_10b, n_rep = 10000, base_seed = 123)
response_trial_1_3_10b_sims



# Simulation trial_1_3_11 - equivalent
response_trial_1_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_11a

response_trial_1_3_11a_sims <- run_trials(response_trial_1_3_11a, n_rep = 10000, base_seed = 123)
response_trial_1_3_11a_sims




# Simulation trial_1_3_11 - inferior
response_trial_1_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_11b

response_trial_1_3_11b_sims <- run_trials(response_trial_1_3_11b, n_rep = 10000, base_seed = 123)
response_trial_1_3_11b_sims



# Simulation trial_1_3_12 - equivalent
response_trial_1_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_12a

response_trial_1_3_12a_sims <- run_trials(response_trial_1_3_12a, n_rep = 10000, base_seed = 123)
response_trial_1_3_12a_sims




# Simulation trial_1_3_12 - inferior
response_trial_1_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_12b

response_trial_1_3_12b_sims <- run_trials(response_trial_1_3_12b, n_rep = 10000, base_seed = 123)
response_trial_1_3_12b_sims





# Simulation trial_1_3_13 - equivalent
response_trial_1_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_13a

response_trial_1_3_13a_sims <- run_trials(response_trial_1_3_13a, n_rep = 10000, base_seed = 123)
response_trial_1_3_13a_sims




# Simulation trial_1_3_13 - inferior
response_trial_1_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_13b

response_trial_1_3_13b_sims <- run_trials(response_trial_1_3_13b, n_rep = 10000, base_seed = 123)
response_trial_1_3_13b_sims



# Simulation trial_1_3_14 - equivalent
response_trial_1_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_14a

response_trial_1_3_14a_sims <- run_trials(response_trial_1_3_14a, n_rep = 10000, base_seed = 123)
response_trial_1_3_14a_sims




# Simulation trial_1_3_14 - inferior
response_trial_1_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_14b

response_trial_1_3_14b_sims <- run_trials(response_trial_1_3_14b, n_rep = 10000, base_seed = 123)
response_trial_1_3_14b_sims



# Simulation trial_1_3_15 - equivalent
response_trial_1_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_15a

response_trial_1_3_15a_sims <- run_trials(response_trial_1_3_15a, n_rep = 10000, base_seed = 123)
response_trial_1_3_15a_sims




# Simulation trial_1_3_15 - inferior
response_trial_1_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_15b

response_trial_1_3_15b_sims <- run_trials(response_trial_1_3_15b, n_rep = 10000, base_seed = 123)
response_trial_1_3_15b_sims






# Simulation trial_1_3_16 - equivalent
response_trial_1_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_16a

response_trial_1_3_16a_sims <- run_trials(response_trial_1_3_16a, n_rep = 10000, base_seed = 123)
response_trial_1_3_16a_sims




# Simulation trial_1_3_16 - inferior
response_trial_1_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_16b

response_trial_1_3_16b_sims <- run_trials(response_trial_1_3_16b, n_rep = 10000, base_seed = 123)
response_trial_1_3_16b_sims



# Simulation trial_1_3_17 - equivalent
response_trial_1_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_17a

response_trial_1_3_17a_sims <- run_trials(response_trial_1_3_17a, n_rep = 10000, base_seed = 123)
response_trial_1_3_17a_sims




# Simulation trial_1_3_17 - inferior
response_trial_1_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_17b

response_trial_1_3_17b_sims <- run_trials(response_trial_1_3_17b, n_rep = 10000, base_seed = 123)
response_trial_1_3_17b_sims



# Simulation trial_1_3_18 - equivalent
response_trial_1_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_18a

response_trial_1_3_18a_sims <- run_trials(response_trial_1_3_18a, n_rep = 10000, base_seed = 123)
response_trial_1_3_18a_sims




# Simulation trial_1_3_18 - inferior
response_trial_1_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_1_3_18b

response_trial_1_3_18b_sims <- run_trials(response_trial_1_3_18b, n_rep = 10000, base_seed = 123)
response_trial_1_3_18b_sims




# Simulation trial_2_1_1 - equivalent
response_trial_2_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_1a

response_trial_2_1_1a_sims <- run_trials(response_trial_2_1_1a, n_rep = 10000, base_seed = 123)
response_trial_2_1_1a_sims




# Simulation trial_2_1_1 - inferior
response_trial_2_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_1b

response_trial_2_1_1b_sims <- run_trials(response_trial_2_1_1b, n_rep = 10000, base_seed = 123)
response_trial_2_1_1b_sims



# Simulation trial_2_1_2 - equivalent
response_trial_2_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_2a

response_trial_2_1_2a_sims <- run_trials(response_trial_2_1_2a, n_rep = 10000, base_seed = 123)
response_trial_2_1_2a_sims




# Simulation trial_2_1_2 - inferior
response_trial_2_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_2b

response_trial_2_1_2b_sims <- run_trials(response_trial_2_1_2b, n_rep = 10000, base_seed = 123)
response_trial_2_1_2b_sims



# Simulation trial_2_1_3 - equivalent
response_trial_2_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_3a

response_trial_2_1_3a_sims <- run_trials(response_trial_2_1_3a, n_rep = 10000, base_seed = 123)
response_trial_2_1_3a_sims




# Simulation trial_2_1_3 - inferior
response_trial_2_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_3b

response_trial_2_1_3b_sims <- run_trials(response_trial_2_1_3b, n_rep = 10000, base_seed = 123)
response_trial_2_1_3b_sims




# Simulation trial_2_1_4 - equivalent
response_trial_2_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_4a

response_trial_2_1_4a_sims <- run_trials(response_trial_2_1_4a, n_rep = 10000, base_seed = 123)
response_trial_2_1_4a_sims




# Simulation trial_2_1_4 - inferior
response_trial_2_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_4b

response_trial_2_1_4b_sims <- run_trials(response_trial_2_1_4b, n_rep = 10000, base_seed = 123)
response_trial_2_1_4b_sims



# Simulation trial_2_1_5 - equivalent
response_trial_2_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_5a

response_trial_2_1_5a_sims <- run_trials(response_trial_2_1_5a, n_rep = 10000, base_seed = 123)
response_trial_2_1_5a_sims




# Simulation trial_2_1_5 - inferior
response_trial_2_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_5b

response_trial_2_1_5b_sims <- run_trials(response_trial_2_1_5b, n_rep = 10000, base_seed = 123)
response_trial_2_1_5b_sims



# Simulation trial_2_1_6 - equivalent
response_trial_2_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_6a

response_trial_2_1_6a_sims <- run_trials(response_trial_2_1_6a, n_rep = 10000, base_seed = 123)
response_trial_2_1_6a_sims




# Simulation trial_2_1_6 - inferior
response_trial_2_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_6b

response_trial_2_1_6b_sims <- run_trials(response_trial_2_1_6b, n_rep = 10000, base_seed = 123)
response_trial_2_1_6b_sims




# Simulation trial_2_1_7 - equivalent
response_trial_2_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_7a

response_trial_2_1_7a_sims <- run_trials(response_trial_2_1_7a, n_rep = 10000, base_seed = 123)
response_trial_2_1_7a_sims




# Simulation trial_2_1_7 - inferior
response_trial_2_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_7b

response_trial_2_1_7b_sims <- run_trials(response_trial_2_1_7b, n_rep = 10000, base_seed = 123)
response_trial_2_1_7b_sims



# Simulation trial_2_1_8 - equivalent
response_trial_2_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_8a

response_trial_2_1_8a_sims <- run_trials(response_trial_2_1_8a, n_rep = 10000, base_seed = 123)
response_trial_2_1_8a_sims




# Simulation trial_2_1_8 - inferior
response_trial_2_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_8b

response_trial_2_1_8b_sims <- run_trials(response_trial_2_1_8b, n_rep = 10000, base_seed = 123)
response_trial_2_1_8b_sims



# Simulation trial_2_1_9 - equivalent
response_trial_2_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_9a

response_trial_2_1_9a_sims <- run_trials(response_trial_2_1_9a, n_rep = 10000, base_seed = 123)
response_trial_2_1_9a_sims




# Simulation trial_2_1_9 - inferior
response_trial_2_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_1_9b

response_trial_2_1_9b_sims <- run_trials(response_trial_2_1_9b, n_rep = 10000, base_seed = 123)
response_trial_2_1_9b_sims






# Simulation trial_2_1_10 - equivalent
response_trial_2_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_10a

response_trial_2_1_10a_sims <- run_trials(response_trial_2_1_10a, n_rep = 10000, base_seed = 123)
response_trial_2_1_10a_sims




# Simulation trial_2_1_10 - inferior
response_trial_2_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_10b

response_trial_2_1_10b_sims <- run_trials(response_trial_2_1_10b, n_rep = 10000, base_seed = 123)
response_trial_2_1_10b_sims



# Simulation trial_2_1_11 - equivalent
response_trial_2_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_11a

response_trial_2_1_11a_sims <- run_trials(response_trial_2_1_11a, n_rep = 10000, base_seed = 123)
response_trial_2_1_11a_sims




# Simulation trial_2_1_11 - inferior
response_trial_2_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_11b

response_trial_2_1_11b_sims <- run_trials(response_trial_2_1_11b, n_rep = 10000, base_seed = 123)
response_trial_2_1_11b_sims



# Simulation trial_2_1_12 - equivalent
response_trial_2_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_12a

response_trial_2_1_12a_sims <- run_trials(response_trial_2_1_12a, n_rep = 10000, base_seed = 123)
response_trial_2_1_12a_sims




# Simulation trial_2_1_12 - inferior
response_trial_2_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_12b

response_trial_2_1_12b_sims <- run_trials(response_trial_2_1_12b, n_rep = 10000, base_seed = 123)
response_trial_2_1_12b_sims





# Simulation trial_2_1_13 - equivalent
response_trial_2_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_13a

response_trial_2_1_13a_sims <- run_trials(response_trial_2_1_13a, n_rep = 10000, base_seed = 123)
response_trial_2_1_13a_sims




# Simulation trial_2_1_13 - inferior
response_trial_2_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_13b

response_trial_2_1_13b_sims <- run_trials(response_trial_2_1_13b, n_rep = 10000, base_seed = 123)
response_trial_2_1_13b_sims



# Simulation trial_2_1_14 - equivalent
response_trial_2_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_14a

response_trial_2_1_14a_sims <- run_trials(response_trial_2_1_14a, n_rep = 10000, base_seed = 123)
response_trial_2_1_14a_sims




# Simulation trial_2_1_14 - inferior
response_trial_2_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_14b

response_trial_2_1_14b_sims <- run_trials(response_trial_2_1_14b, n_rep = 10000, base_seed = 123)
response_trial_2_1_14b_sims



# Simulation trial_2_1_15 - equivalent
response_trial_2_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_15a

response_trial_2_1_15a_sims <- run_trials(response_trial_2_1_15a, n_rep = 10000, base_seed = 123)
response_trial_2_1_15a_sims




# Simulation trial_2_1_15 - inferior
response_trial_2_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_15b

response_trial_2_1_15b_sims <- run_trials(response_trial_2_1_15b, n_rep = 10000, base_seed = 123)
response_trial_2_1_15b_sims






# Simulation trial_2_1_16 - equivalent
response_trial_2_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_16a

response_trial_2_1_16a_sims <- run_trials(response_trial_2_1_16a, n_rep = 10000, base_seed = 123)
response_trial_2_1_16a_sims




# Simulation trial_2_1_16 - inferior
response_trial_2_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_16b

response_trial_2_1_16b_sims <- run_trials(response_trial_2_1_16b, n_rep = 10000, base_seed = 123)
response_trial_2_1_16b_sims



# Simulation trial_2_1_17 - equivalent
response_trial_2_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_17a

response_trial_2_1_17a_sims <- run_trials(response_trial_2_1_17a, n_rep = 10000, base_seed = 123)
response_trial_2_1_17a_sims




# Simulation trial_2_1_17 - inferior
response_trial_2_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_17b

response_trial_2_1_17b_sims <- run_trials(response_trial_2_1_17b, n_rep = 10000, base_seed = 123)
response_trial_2_1_17b_sims



# Simulation trial_2_1_18 - equivalent
response_trial_2_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_18a

response_trial_2_1_18a_sims <- run_trials(response_trial_2_1_18a, n_rep = 10000, base_seed = 123)
response_trial_2_1_18a_sims




# Simulation trial_2_1_18 - inferior
response_trial_2_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_1_18b

response_trial_2_1_18b_sims <- run_trials(response_trial_2_1_18b, n_rep = 10000, base_seed = 123)
response_trial_2_1_18b_sims




# Simulation trial_2_2_1 - equivalent
response_trial_2_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_1a

response_trial_2_2_1a_sims <- run_trials(response_trial_2_2_1a, n_rep = 10000, base_seed = 123)
response_trial_2_2_1a_sims




# Simulation trial_2_2_1 - inferior
response_trial_2_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_1b

response_trial_2_2_1b_sims <- run_trials(response_trial_2_2_1b, n_rep = 10000, base_seed = 123)
response_trial_2_2_1b_sims



# Simulation trial_2_2_2 - equivalent
response_trial_2_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_2a

response_trial_2_2_2a_sims <- run_trials(response_trial_2_2_2a, n_rep = 10000, base_seed = 123)
response_trial_2_2_2a_sims




# Simulation trial_2_2_2 - inferior
response_trial_2_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_2b

response_trial_2_2_2b_sims <- run_trials(response_trial_2_2_2b, n_rep = 10000, base_seed = 123)
response_trial_2_2_2b_sims



# Simulation trial_2_2_3 - equivalent
response_trial_2_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_3a

response_trial_2_2_3a_sims <- run_trials(response_trial_2_2_3a, n_rep = 10000, base_seed = 123)
response_trial_2_2_3a_sims




# Simulation trial_2_2_3 - inferior
response_trial_2_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_3b

response_trial_2_2_3b_sims <- run_trials(response_trial_2_2_3b, n_rep = 10000, base_seed = 123)
response_trial_2_2_3b_sims




# Simulation trial_2_2_4 - equivalent
response_trial_2_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_4a

response_trial_2_2_4a_sims <- run_trials(response_trial_2_2_4a, n_rep = 10000, base_seed = 123)
response_trial_2_2_4a_sims




# Simulation trial_2_2_4 - inferior
response_trial_2_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_4b

response_trial_2_2_4b_sims <- run_trials(response_trial_2_2_4b, n_rep = 10000, base_seed = 123)
response_trial_2_2_4b_sims



# Simulation trial_2_2_5 - equivalent
response_trial_2_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_5a

response_trial_2_2_5a_sims <- run_trials(response_trial_2_2_5a, n_rep = 10000, base_seed = 123)
response_trial_2_2_5a_sims




# Simulation trial_2_2_5 - inferior
response_trial_2_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_5b

response_trial_2_2_5b_sims <- run_trials(response_trial_2_2_5b, n_rep = 10000, base_seed = 123)
response_trial_2_2_5b_sims



# Simulation trial_2_2_6 - equivalent
response_trial_2_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_6a

response_trial_2_2_6a_sims <- run_trials(response_trial_2_2_6a, n_rep = 10000, base_seed = 123)
response_trial_2_2_6a_sims




# Simulation trial_2_2_6 - inferior
response_trial_2_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_6b

response_trial_2_2_6b_sims <- run_trials(response_trial_2_2_6b, n_rep = 10000, base_seed = 123)
response_trial_2_2_6b_sims




# Simulation trial_2_2_7 - equivalent
response_trial_2_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_7a

response_trial_2_2_7a_sims <- run_trials(response_trial_2_2_7a, n_rep = 10000, base_seed = 123)
response_trial_2_2_7a_sims




# Simulation trial_2_2_7 - inferior
response_trial_2_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_7b

response_trial_2_2_7b_sims <- run_trials(response_trial_2_2_7b, n_rep = 10000, base_seed = 123)
response_trial_2_2_7b_sims



# Simulation trial_2_2_8 - equivalent
response_trial_2_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_8a

response_trial_2_2_8a_sims <- run_trials(response_trial_2_2_8a, n_rep = 10000, base_seed = 123)
response_trial_2_2_8a_sims




# Simulation trial_2_2_8 - inferior
response_trial_2_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_8b

response_trial_2_2_8b_sims <- run_trials(response_trial_2_2_8b, n_rep = 10000, base_seed = 123)
response_trial_2_2_8b_sims



# Simulation trial_2_2_9 - equivalent
response_trial_2_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_9a

response_trial_2_2_9a_sims <- run_trials(response_trial_2_2_9a, n_rep = 10000, base_seed = 123)
response_trial_2_2_9a_sims




# Simulation trial_2_2_9 - inferior
response_trial_2_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_2_9b

response_trial_2_2_9b_sims <- run_trials(response_trial_2_2_9b, n_rep = 10000, base_seed = 123)
response_trial_2_2_9b_sims






# Simulation trial_2_2_10 - equivalent
response_trial_2_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_10a

response_trial_2_2_10a_sims <- run_trials(response_trial_2_2_10a, n_rep = 10000, base_seed = 123)
response_trial_2_2_10a_sims




# Simulation trial_2_2_10 - inferior
response_trial_2_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_10b

response_trial_2_2_10b_sims <- run_trials(response_trial_2_2_10b, n_rep = 10000, base_seed = 123)
response_trial_2_2_10b_sims



# Simulation trial_2_2_11 - equivalent
response_trial_2_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_11a

response_trial_2_2_11a_sims <- run_trials(response_trial_2_2_11a, n_rep = 10000, base_seed = 123)
response_trial_2_2_11a_sims




# Simulation trial_2_2_11 - inferior
response_trial_2_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_11b

response_trial_2_2_11b_sims <- run_trials(response_trial_2_2_11b, n_rep = 10000, base_seed = 123)
response_trial_2_2_11b_sims



# Simulation trial_2_2_12 - equivalent
response_trial_2_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_12a

response_trial_2_2_12a_sims <- run_trials(response_trial_2_2_12a, n_rep = 10000, base_seed = 123)
response_trial_2_2_12a_sims




# Simulation trial_2_2_12 - inferior
response_trial_2_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_12b

response_trial_2_2_12b_sims <- run_trials(response_trial_2_2_12b, n_rep = 10000, base_seed = 123)
response_trial_2_2_12b_sims





# Simulation trial_2_2_13 - equivalent
response_trial_2_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_13a

response_trial_2_2_13a_sims <- run_trials(response_trial_2_2_13a, n_rep = 10000, base_seed = 123)
response_trial_2_2_13a_sims




# Simulation trial_2_2_13 - inferior
response_trial_2_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_13b

response_trial_2_2_13b_sims <- run_trials(response_trial_2_2_13b, n_rep = 10000, base_seed = 123)
response_trial_2_2_13b_sims



# Simulation trial_2_2_14 - equivalent
response_trial_2_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_14a

response_trial_2_2_14a_sims <- run_trials(response_trial_2_2_14a, n_rep = 10000, base_seed = 123)
response_trial_2_2_14a_sims




# Simulation trial_2_2_14 - inferior
response_trial_2_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_14b

response_trial_2_2_14b_sims <- run_trials(response_trial_2_2_14b, n_rep = 10000, base_seed = 123)
response_trial_2_2_14b_sims



# Simulation trial_2_2_15 - equivalent
response_trial_2_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_15a

response_trial_2_2_15a_sims <- run_trials(response_trial_2_2_15a, n_rep = 10000, base_seed = 123)
response_trial_2_2_15a_sims




# Simulation trial_2_2_15 - inferior
response_trial_2_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_15b

response_trial_2_2_15b_sims <- run_trials(response_trial_2_2_15b, n_rep = 10000, base_seed = 123)
response_trial_2_2_15b_sims






# Simulation trial_2_2_16 - equivalent
response_trial_2_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_16a

response_trial_2_2_16a_sims <- run_trials(response_trial_2_2_16a, n_rep = 10000, base_seed = 123)
response_trial_2_2_16a_sims




# Simulation trial_2_2_16 - inferior
response_trial_2_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_16b

response_trial_2_2_16b_sims <- run_trials(response_trial_2_2_16b, n_rep = 10000, base_seed = 123)
response_trial_2_2_16b_sims



# Simulation trial_2_2_17 - equivalent
response_trial_2_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_17a

response_trial_2_2_17a_sims <- run_trials(response_trial_2_2_17a, n_rep = 10000, base_seed = 123)
response_trial_2_2_17a_sims




# Simulation trial_2_2_17 - inferior
response_trial_2_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_17b

response_trial_2_2_17b_sims <- run_trials(response_trial_2_2_17b, n_rep = 10000, base_seed = 123)
response_trial_2_2_17b_sims



# Simulation trial_2_2_18 - equivalent
response_trial_2_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_18a

response_trial_2_2_18a_sims <- run_trials(response_trial_2_2_18a, n_rep = 10000, base_seed = 123)
response_trial_2_2_18a_sims




# Simulation trial_2_2_18 - inferior
response_trial_2_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_2_18b

response_trial_2_2_18b_sims <- run_trials(response_trial_2_2_18b, n_rep = 10000, base_seed = 123)
response_trial_2_2_18b_sims




# Simulation trial_2_3_1 - equivalent
response_trial_2_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_1a

response_trial_2_3_1a_sims <- run_trials(response_trial_2_3_1a, n_rep = 10000, base_seed = 123)
response_trial_2_3_1a_sims




# Simulation trial_2_3_1 - inferior
response_trial_2_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_1b

response_trial_2_3_1b_sims <- run_trials(response_trial_2_3_1b, n_rep = 10000, base_seed = 123)
response_trial_2_3_1b_sims



# Simulation trial_2_3_2 - equivalent
response_trial_2_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_2a

response_trial_2_3_2a_sims <- run_trials(response_trial_2_3_2a, n_rep = 10000, base_seed = 123)
response_trial_2_3_2a_sims




# Simulation trial_2_3_2 - inferior
response_trial_2_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_2b

response_trial_2_3_2b_sims <- run_trials(response_trial_2_3_2b, n_rep = 10000, base_seed = 123)
response_trial_2_3_2b_sims



# Simulation trial_2_3_3 - equivalent
response_trial_2_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_3a

response_trial_2_3_3a_sims <- run_trials(response_trial_2_3_3a, n_rep = 10000, base_seed = 123)
response_trial_2_3_3a_sims




# Simulation trial_2_3_3 - inferior
response_trial_2_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_3b

response_trial_2_3_3b_sims <- run_trials(response_trial_2_3_3b, n_rep = 10000, base_seed = 123)
response_trial_2_3_3b_sims




# Simulation trial_2_3_4 - equivalent
response_trial_2_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_4a

response_trial_2_3_4a_sims <- run_trials(response_trial_2_3_4a, n_rep = 10000, base_seed = 123)
response_trial_2_3_4a_sims




# Simulation trial_2_3_4 - inferior
response_trial_2_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_4b

response_trial_2_3_4b_sims <- run_trials(response_trial_2_3_4b, n_rep = 10000, base_seed = 123)
response_trial_2_3_4b_sims



# Simulation trial_2_3_5 - equivalent
response_trial_2_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_5a

response_trial_2_3_5a_sims <- run_trials(response_trial_2_3_5a, n_rep = 10000, base_seed = 123)
response_trial_2_3_5a_sims




# Simulation trial_2_3_5 - inferior
response_trial_2_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_5b

response_trial_2_3_5b_sims <- run_trials(response_trial_2_3_5b, n_rep = 10000, base_seed = 123)
response_trial_2_3_5b_sims



# Simulation trial_2_3_6 - equivalent
response_trial_2_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_6a

response_trial_2_3_6a_sims <- run_trials(response_trial_2_3_6a, n_rep = 10000, base_seed = 123)
response_trial_2_3_6a_sims




# Simulation trial_2_3_6 - inferior
response_trial_2_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_6b

response_trial_2_3_6b_sims <- run_trials(response_trial_2_3_6b, n_rep = 10000, base_seed = 123)
response_trial_2_3_6b_sims




# Simulation trial_2_3_7 - equivalent
response_trial_2_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_7a

response_trial_2_3_7a_sims <- run_trials(response_trial_2_3_7a, n_rep = 10000, base_seed = 123)
response_trial_2_3_7a_sims




# Simulation trial_2_3_7 - inferior
response_trial_2_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_7b

response_trial_2_3_7b_sims <- run_trials(response_trial_2_3_7b, n_rep = 10000, base_seed = 123)
response_trial_2_3_7b_sims



# Simulation trial_2_3_8 - equivalent
response_trial_2_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_8a

response_trial_2_3_8a_sims <- run_trials(response_trial_2_3_8a, n_rep = 10000, base_seed = 123)
response_trial_2_3_8a_sims




# Simulation trial_2_3_8 - inferior
response_trial_2_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_8b

response_trial_2_3_8b_sims <- run_trials(response_trial_2_3_8b, n_rep = 10000, base_seed = 123)
response_trial_2_3_8b_sims



# Simulation trial_2_3_9 - equivalent
response_trial_2_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_9a

response_trial_2_3_9a_sims <- run_trials(response_trial_2_3_9a, n_rep = 10000, base_seed = 123)
response_trial_2_3_9a_sims




# Simulation trial_2_3_9 - inferior
response_trial_2_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 405, by = 30),
                                           randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_2_3_9b

response_trial_2_3_9b_sims <- run_trials(response_trial_2_3_9b, n_rep = 10000, base_seed = 123)
response_trial_2_3_9b_sims






# Simulation trial_2_3_10 - equivalent
response_trial_2_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_10a

response_trial_2_3_10a_sims <- run_trials(response_trial_2_3_10a, n_rep = 10000, base_seed = 123)
response_trial_2_3_10a_sims




# Simulation trial_2_3_10 - inferior
response_trial_2_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_10b

response_trial_2_3_10b_sims <- run_trials(response_trial_2_3_10b, n_rep = 10000, base_seed = 123)
response_trial_2_3_10b_sims



# Simulation trial_2_3_11 - equivalent
response_trial_2_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_11a

response_trial_2_3_11a_sims <- run_trials(response_trial_2_3_11a, n_rep = 10000, base_seed = 123)
response_trial_2_3_11a_sims




# Simulation trial_2_3_11 - inferior
response_trial_2_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_11b

response_trial_2_3_11b_sims <- run_trials(response_trial_2_3_11b, n_rep = 10000, base_seed = 123)
response_trial_2_3_11b_sims



# Simulation trial_2_3_12 - equivalent
response_trial_2_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_12a

response_trial_2_3_12a_sims <- run_trials(response_trial_2_3_12a, n_rep = 10000, base_seed = 123)
response_trial_2_3_12a_sims




# Simulation trial_2_3_12 - inferior
response_trial_2_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_12b

response_trial_2_3_12b_sims <- run_trials(response_trial_2_3_12b, n_rep = 10000, base_seed = 123)
response_trial_2_3_12b_sims





# Simulation trial_2_3_13 - equivalent
response_trial_2_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_13a

response_trial_2_3_13a_sims <- run_trials(response_trial_2_3_13a, n_rep = 10000, base_seed = 123)
response_trial_2_3_13a_sims




# Simulation trial_2_3_13 - inferior
response_trial_2_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_13b

response_trial_2_3_13b_sims <- run_trials(response_trial_2_3_13b, n_rep = 10000, base_seed = 123)
response_trial_2_3_13b_sims



# Simulation trial_2_3_14 - equivalent
response_trial_2_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_14a

response_trial_2_3_14a_sims <- run_trials(response_trial_2_3_14a, n_rep = 10000, base_seed = 123)
response_trial_2_3_14a_sims




# Simulation trial_2_3_14 - inferior
response_trial_2_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_14b

response_trial_2_3_14b_sims <- run_trials(response_trial_2_3_14b, n_rep = 10000, base_seed = 123)
response_trial_2_3_14b_sims



# Simulation trial_2_3_15 - equivalent
response_trial_2_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_15a

response_trial_2_3_15a_sims <- run_trials(response_trial_2_3_15a, n_rep = 10000, base_seed = 123)
response_trial_2_3_15a_sims




# Simulation trial_2_3_15 - inferior
response_trial_2_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_15b

response_trial_2_3_15b_sims <- run_trials(response_trial_2_3_15b, n_rep = 10000, base_seed = 123)
response_trial_2_3_15b_sims






# Simulation trial_2_3_16 - equivalent
response_trial_2_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_16a

response_trial_2_3_16a_sims <- run_trials(response_trial_2_3_16a, n_rep = 10000, base_seed = 123)
response_trial_2_3_16a_sims




# Simulation trial_2_3_16 - inferior
response_trial_2_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_16b

response_trial_2_3_16b_sims <- run_trials(response_trial_2_3_16b, n_rep = 10000, base_seed = 123)
response_trial_2_3_16b_sims



# Simulation trial_2_3_17 - equivalent
response_trial_2_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_17a

response_trial_2_3_17a_sims <- run_trials(response_trial_2_3_17a, n_rep = 10000, base_seed = 123)
response_trial_2_3_17a_sims




# Simulation trial_2_3_17 - inferior
response_trial_2_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_17b

response_trial_2_3_17b_sims <- run_trials(response_trial_2_3_17b, n_rep = 10000, base_seed = 123)
response_trial_2_3_17b_sims



# Simulation trial_2_3_18 - equivalent
response_trial_2_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_18a

response_trial_2_3_18a_sims <- run_trials(response_trial_2_3_18a, n_rep = 10000, base_seed = 123)
response_trial_2_3_18a_sims




# Simulation trial_2_3_18 - inferior
response_trial_2_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_2_3_18b

response_trial_2_3_18b_sims <- run_trials(response_trial_2_3_18b, n_rep = 10000, base_seed = 123)
response_trial_2_3_18b_sims




# Simulation trial_3_1_1 - equivalent
response_trial_3_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_1a

response_trial_3_1_1a_sims <- run_trials(response_trial_3_1_1a, n_rep = 10000, base_seed = 123)
response_trial_3_1_1a_sims




# Simulation trial_3_1_1 - inferior
response_trial_3_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_1b

response_trial_3_1_1b_sims <- run_trials(response_trial_3_1_1b, n_rep = 10000, base_seed = 123)
response_trial_3_1_1b_sims



# Simulation trial_3_1_2 - equivalent
response_trial_3_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_2a

response_trial_3_1_2a_sims <- run_trials(response_trial_3_1_2a, n_rep = 10000, base_seed = 123)
response_trial_3_1_2a_sims




# Simulation trial_3_1_2 - inferior
response_trial_3_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_2b

response_trial_3_1_2b_sims <- run_trials(response_trial_3_1_2b, n_rep = 10000, base_seed = 123)
response_trial_3_1_2b_sims



# Simulation trial_3_1_3 - equivalent
response_trial_3_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_3a

response_trial_3_1_3a_sims <- run_trials(response_trial_3_1_3a, n_rep = 10000, base_seed = 123)
response_trial_3_1_3a_sims




# Simulation trial_3_1_3 - inferior
response_trial_3_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_3b

response_trial_3_1_3b_sims <- run_trials(response_trial_3_1_3b, n_rep = 10000, base_seed = 123)
response_trial_3_1_3b_sims




# Simulation trial_3_1_4 - equivalent
response_trial_3_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_4a

response_trial_3_1_4a_sims <- run_trials(response_trial_3_1_4a, n_rep = 10000, base_seed = 123)
response_trial_3_1_4a_sims




# Simulation trial_3_1_4 - inferior
response_trial_3_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_4b

response_trial_3_1_4b_sims <- run_trials(response_trial_3_1_4b, n_rep = 10000, base_seed = 123)
response_trial_3_1_4b_sims



# Simulation trial_3_1_5 - equivalent
response_trial_3_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_5a

response_trial_3_1_5a_sims <- run_trials(response_trial_3_1_5a, n_rep = 10000, base_seed = 123)
response_trial_3_1_5a_sims




# Simulation trial_3_1_5 - inferior
response_trial_3_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_5b

response_trial_3_1_5b_sims <- run_trials(response_trial_3_1_5b, n_rep = 10000, base_seed = 123)
response_trial_3_1_5b_sims



# Simulation trial_3_1_6 - equivalent
response_trial_3_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_6a

response_trial_3_1_6a_sims <- run_trials(response_trial_3_1_6a, n_rep = 10000, base_seed = 123)
response_trial_3_1_6a_sims




# Simulation trial_3_1_6 - inferior
response_trial_3_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_6b

response_trial_3_1_6b_sims <- run_trials(response_trial_3_1_6b, n_rep = 10000, base_seed = 123)
response_trial_3_1_6b_sims




# Simulation trial_3_1_7 - equivalent
response_trial_3_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_7a

response_trial_3_1_7a_sims <- run_trials(response_trial_3_1_7a, n_rep = 10000, base_seed = 123)
response_trial_3_1_7a_sims




# Simulation trial_3_1_7 - inferior
response_trial_3_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_7b

response_trial_3_1_7b_sims <- run_trials(response_trial_3_1_7b, n_rep = 10000, base_seed = 123)
response_trial_3_1_7b_sims



# Simulation trial_3_1_8 - equivalent
response_trial_3_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_8a

response_trial_3_1_8a_sims <- run_trials(response_trial_3_1_8a, n_rep = 10000, base_seed = 123)
response_trial_3_1_8a_sims




# Simulation trial_3_1_8 - inferior
response_trial_3_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_8b

response_trial_3_1_8b_sims <- run_trials(response_trial_3_1_8b, n_rep = 10000, base_seed = 123)
response_trial_3_1_8b_sims



# Simulation trial_3_1_9 - equivalent
response_trial_3_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_9a

response_trial_3_1_9a_sims <- run_trials(response_trial_3_1_9a, n_rep = 10000, base_seed = 123)
response_trial_3_1_9a_sims




# Simulation trial_3_1_9 - inferior
response_trial_3_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_1_9b

response_trial_3_1_9b_sims <- run_trials(response_trial_3_1_9b, n_rep = 10000, base_seed = 123)
response_trial_3_1_9b_sims






# Simulation trial_3_1_10 - equivalent
response_trial_3_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_10a

response_trial_3_1_10a_sims <- run_trials(response_trial_3_1_10a, n_rep = 10000, base_seed = 123)
response_trial_3_1_10a_sims




# Simulation trial_3_1_10 - inferior
response_trial_3_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_10b

response_trial_3_1_10b_sims <- run_trials(response_trial_3_1_10b, n_rep = 10000, base_seed = 123)
response_trial_3_1_10b_sims



# Simulation trial_3_1_11 - equivalent
response_trial_3_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_11a

response_trial_3_1_11a_sims <- run_trials(response_trial_3_1_11a, n_rep = 10000, base_seed = 123)
response_trial_3_1_11a_sims




# Simulation trial_3_1_11 - inferior
response_trial_3_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_11b

response_trial_3_1_11b_sims <- run_trials(response_trial_3_1_11b, n_rep = 10000, base_seed = 123)
response_trial_3_1_11b_sims



# Simulation trial_3_1_12 - equivalent
response_trial_3_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_12a

response_trial_3_1_12a_sims <- run_trials(response_trial_3_1_12a, n_rep = 10000, base_seed = 123)
response_trial_3_1_12a_sims




# Simulation trial_3_1_12 - inferior
response_trial_3_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_12b

response_trial_3_1_12b_sims <- run_trials(response_trial_3_1_12b, n_rep = 10000, base_seed = 123)
response_trial_3_1_12b_sims





# Simulation trial_3_1_13 - equivalent
response_trial_3_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_13a

response_trial_3_1_13a_sims <- run_trials(response_trial_3_1_13a, n_rep = 10000, base_seed = 123)
response_trial_3_1_13a_sims




# Simulation trial_3_1_13 - inferior
response_trial_3_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_13b

response_trial_3_1_13b_sims <- run_trials(response_trial_3_1_13b, n_rep = 10000, base_seed = 123)
response_trial_3_1_13b_sims



# Simulation trial_3_1_14 - equivalent
response_trial_3_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_14a

response_trial_3_1_14a_sims <- run_trials(response_trial_3_1_14a, n_rep = 10000, base_seed = 123)
response_trial_3_1_14a_sims




# Simulation trial_3_1_14 - inferior
response_trial_3_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_14b

response_trial_3_1_14b_sims <- run_trials(response_trial_3_1_14b, n_rep = 10000, base_seed = 123)
response_trial_3_1_14b_sims



# Simulation trial_3_1_15 - equivalent
response_trial_3_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_15a

response_trial_3_1_15a_sims <- run_trials(response_trial_3_1_15a, n_rep = 10000, base_seed = 123)
response_trial_3_1_15a_sims




# Simulation trial_3_1_15 - inferior
response_trial_3_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_15b

response_trial_3_1_15b_sims <- run_trials(response_trial_3_1_15b, n_rep = 10000, base_seed = 123)
response_trial_3_1_15b_sims






# Simulation trial_3_1_16 - equivalent
response_trial_3_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_16a

response_trial_3_1_16a_sims <- run_trials(response_trial_3_1_16a, n_rep = 10000, base_seed = 123)
response_trial_3_1_16a_sims




# Simulation trial_3_1_16 - inferior
response_trial_3_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_16b

response_trial_3_1_16b_sims <- run_trials(response_trial_3_1_16b, n_rep = 10000, base_seed = 123)
response_trial_3_1_16b_sims



# Simulation trial_3_1_17 - equivalent
response_trial_3_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_17a

response_trial_3_1_17a_sims <- run_trials(response_trial_3_1_17a, n_rep = 10000, base_seed = 123)
response_trial_3_1_17a_sims




# Simulation trial_3_1_17 - inferior
response_trial_3_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_17b

response_trial_3_1_17b_sims <- run_trials(response_trial_3_1_17b, n_rep = 10000, base_seed = 123)
response_trial_3_1_17b_sims



# Simulation trial_3_1_18 - equivalent
response_trial_3_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_18a

response_trial_3_1_18a_sims <- run_trials(response_trial_3_1_18a, n_rep = 10000, base_seed = 123)
response_trial_3_1_18a_sims




# Simulation trial_3_1_18 - inferior
response_trial_3_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_1_18b

response_trial_3_1_18b_sims <- run_trials(response_trial_3_1_18b, n_rep = 10000, base_seed = 123)
response_trial_3_1_18b_sims




# Simulation trial_3_2_1 - equivalent
response_trial_3_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_1a

response_trial_3_2_1a_sims <- run_trials(response_trial_3_2_1a, n_rep = 10000, base_seed = 123)
response_trial_3_2_1a_sims




# Simulation trial_3_2_1 - inferior
response_trial_3_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_1b

response_trial_3_2_1b_sims <- run_trials(response_trial_3_2_1b, n_rep = 10000, base_seed = 123)
response_trial_3_2_1b_sims



# Simulation trial_3_2_2 - equivalent
response_trial_3_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_2a

response_trial_3_2_2a_sims <- run_trials(response_trial_3_2_2a, n_rep = 10000, base_seed = 123)
response_trial_3_2_2a_sims




# Simulation trial_3_2_2 - inferior
response_trial_3_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_2b

response_trial_3_2_2b_sims <- run_trials(response_trial_3_2_2b, n_rep = 10000, base_seed = 123)
response_trial_3_2_2b_sims



# Simulation trial_3_2_3 - equivalent
response_trial_3_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_3a

response_trial_3_2_3a_sims <- run_trials(response_trial_3_2_3a, n_rep = 10000, base_seed = 123)
response_trial_3_2_3a_sims




# Simulation trial_3_2_3 - inferior
response_trial_3_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_3b

response_trial_3_2_3b_sims <- run_trials(response_trial_3_2_3b, n_rep = 10000, base_seed = 123)
response_trial_3_2_3b_sims




# Simulation trial_3_2_4 - equivalent
response_trial_3_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_4a

response_trial_3_2_4a_sims <- run_trials(response_trial_3_2_4a, n_rep = 10000, base_seed = 123)
response_trial_3_2_4a_sims




# Simulation trial_3_2_4 - inferior
response_trial_3_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_4b

response_trial_3_2_4b_sims <- run_trials(response_trial_3_2_4b, n_rep = 10000, base_seed = 123)
response_trial_3_2_4b_sims



# Simulation trial_3_2_5 - equivalent
response_trial_3_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_5a

response_trial_3_2_5a_sims <- run_trials(response_trial_3_2_5a, n_rep = 10000, base_seed = 123)
response_trial_3_2_5a_sims




# Simulation trial_3_2_5 - inferior
response_trial_3_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_5b

response_trial_3_2_5b_sims <- run_trials(response_trial_3_2_5b, n_rep = 10000, base_seed = 123)
response_trial_3_2_5b_sims



# Simulation trial_3_2_6 - equivalent
response_trial_3_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_6a

response_trial_3_2_6a_sims <- run_trials(response_trial_3_2_6a, n_rep = 10000, base_seed = 123)
response_trial_3_2_6a_sims




# Simulation trial_3_2_6 - inferior
response_trial_3_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_6b

response_trial_3_2_6b_sims <- run_trials(response_trial_3_2_6b, n_rep = 10000, base_seed = 123)
response_trial_3_2_6b_sims




# Simulation trial_3_2_7 - equivalent
response_trial_3_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_7a

response_trial_3_2_7a_sims <- run_trials(response_trial_3_2_7a, n_rep = 10000, base_seed = 123)
response_trial_3_2_7a_sims




# Simulation trial_3_2_7 - inferior
response_trial_3_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_7b

response_trial_3_2_7b_sims <- run_trials(response_trial_3_2_7b, n_rep = 10000, base_seed = 123)
response_trial_3_2_7b_sims



# Simulation trial_3_2_8 - equivalent
response_trial_3_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_8a

response_trial_3_2_8a_sims <- run_trials(response_trial_3_2_8a, n_rep = 10000, base_seed = 123)
response_trial_3_2_8a_sims




# Simulation trial_3_2_8 - inferior
response_trial_3_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_8b

response_trial_3_2_8b_sims <- run_trials(response_trial_3_2_8b, n_rep = 10000, base_seed = 123)
response_trial_3_2_8b_sims



# Simulation trial_3_2_9 - equivalent
response_trial_3_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_9a

response_trial_3_2_9a_sims <- run_trials(response_trial_3_2_9a, n_rep = 10000, base_seed = 123)
response_trial_3_2_9a_sims




# Simulation trial_3_2_9 - inferior
response_trial_3_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_2_9b

response_trial_3_2_9b_sims <- run_trials(response_trial_3_2_9b, n_rep = 10000, base_seed = 123)
response_trial_3_2_9b_sims






# Simulation trial_3_2_10 - equivalent
response_trial_3_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_10a

response_trial_3_2_10a_sims <- run_trials(response_trial_3_2_10a, n_rep = 10000, base_seed = 123)
response_trial_3_2_10a_sims




# Simulation trial_3_2_10 - inferior
response_trial_3_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_10b

response_trial_3_2_10b_sims <- run_trials(response_trial_3_2_10b, n_rep = 10000, base_seed = 123)
response_trial_3_2_10b_sims



# Simulation trial_3_2_11 - equivalent
response_trial_3_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_11a

response_trial_3_2_11a_sims <- run_trials(response_trial_3_2_11a, n_rep = 10000, base_seed = 123)
response_trial_3_2_11a_sims




# Simulation trial_3_2_11 - inferior
response_trial_3_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_11b

response_trial_3_2_11b_sims <- run_trials(response_trial_3_2_11b, n_rep = 10000, base_seed = 123)
response_trial_3_2_11b_sims



# Simulation trial_3_2_12 - equivalent
response_trial_3_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_12a

response_trial_3_2_12a_sims <- run_trials(response_trial_3_2_12a, n_rep = 10000, base_seed = 123)
response_trial_3_2_12a_sims




# Simulation trial_3_2_12 - inferior
response_trial_3_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_12b

response_trial_3_2_12b_sims <- run_trials(response_trial_3_2_12b, n_rep = 10000, base_seed = 123)
response_trial_3_2_12b_sims





# Simulation trial_3_2_13 - equivalent
response_trial_3_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_13a

response_trial_3_2_13a_sims <- run_trials(response_trial_3_2_13a, n_rep = 10000, base_seed = 123)
response_trial_3_2_13a_sims




# Simulation trial_3_2_13 - inferior
response_trial_3_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_13b

response_trial_3_2_13b_sims <- run_trials(response_trial_3_2_13b, n_rep = 10000, base_seed = 123)
response_trial_3_2_13b_sims



# Simulation trial_3_2_14 - equivalent
response_trial_3_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_14a

response_trial_3_2_14a_sims <- run_trials(response_trial_3_2_14a, n_rep = 10000, base_seed = 123)
response_trial_3_2_14a_sims




# Simulation trial_3_2_14 - inferior
response_trial_3_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_14b

response_trial_3_2_14b_sims <- run_trials(response_trial_3_2_14b, n_rep = 10000, base_seed = 123)
response_trial_3_2_14b_sims



# Simulation trial_3_2_15 - equivalent
response_trial_3_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_15a

response_trial_3_2_15a_sims <- run_trials(response_trial_3_2_15a, n_rep = 10000, base_seed = 123)
response_trial_3_2_15a_sims




# Simulation trial_3_2_15 - inferior
response_trial_3_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_15b

response_trial_3_2_15b_sims <- run_trials(response_trial_3_2_15b, n_rep = 10000, base_seed = 123)
response_trial_3_2_15b_sims






# Simulation trial_3_2_16 - equivalent
response_trial_3_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_16a

response_trial_3_2_16a_sims <- run_trials(response_trial_3_2_16a, n_rep = 10000, base_seed = 123)
response_trial_3_2_16a_sims




# Simulation trial_3_2_16 - inferior
response_trial_3_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_16b

response_trial_3_2_16b_sims <- run_trials(response_trial_3_2_16b, n_rep = 10000, base_seed = 123)
response_trial_3_2_16b_sims



# Simulation trial_3_2_17 - equivalent
response_trial_3_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_17a

response_trial_3_2_17a_sims <- run_trials(response_trial_3_2_17a, n_rep = 10000, base_seed = 123)
response_trial_3_2_17a_sims




# Simulation trial_3_2_17 - inferior
response_trial_3_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_17b

response_trial_3_2_17b_sims <- run_trials(response_trial_3_2_17b, n_rep = 10000, base_seed = 123)
response_trial_3_2_17b_sims



# Simulation trial_3_2_18 - equivalent
response_trial_3_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_18a

response_trial_3_2_18a_sims <- run_trials(response_trial_3_2_18a, n_rep = 10000, base_seed = 123)
response_trial_3_2_18a_sims




# Simulation trial_3_2_18 - inferior
response_trial_3_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_2_18b

response_trial_3_2_18b_sims <- run_trials(response_trial_3_2_18b, n_rep = 10000, base_seed = 123)
response_trial_3_2_18b_sims




# Simulation trial_3_3_1 - equivalent
response_trial_3_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_1a

response_trial_3_3_1a_sims <- run_trials(response_trial_3_3_1a, n_rep = 10000, base_seed = 123)
response_trial_3_3_1a_sims




# Simulation trial_3_3_1 - inferior
response_trial_3_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_1b

response_trial_3_3_1b_sims <- run_trials(response_trial_3_3_1b, n_rep = 10000, base_seed = 123)
response_trial_3_3_1b_sims



# Simulation trial_3_3_2 - equivalent
response_trial_3_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_2a

response_trial_3_3_2a_sims <- run_trials(response_trial_3_3_2a, n_rep = 10000, base_seed = 123)
response_trial_3_3_2a_sims




# Simulation trial_3_3_2 - inferior
response_trial_3_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_2b

response_trial_3_3_2b_sims <- run_trials(response_trial_3_3_2b, n_rep = 10000, base_seed = 123)
response_trial_3_3_2b_sims



# Simulation trial_3_3_3 - equivalent
response_trial_3_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_3a

response_trial_3_3_3a_sims <- run_trials(response_trial_3_3_3a, n_rep = 10000, base_seed = 123)
response_trial_3_3_3a_sims




# Simulation trial_3_3_3 - inferior
response_trial_3_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_3b

response_trial_3_3_3b_sims <- run_trials(response_trial_3_3_3b, n_rep = 10000, base_seed = 123)
response_trial_3_3_3b_sims




# Simulation trial_3_3_4 - equivalent
response_trial_3_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_4a

response_trial_3_3_4a_sims <- run_trials(response_trial_3_3_4a, n_rep = 10000, base_seed = 123)
response_trial_3_3_4a_sims




# Simulation trial_3_3_4 - inferior
response_trial_3_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_4b

response_trial_3_3_4b_sims <- run_trials(response_trial_3_3_4b, n_rep = 10000, base_seed = 123)
response_trial_3_3_4b_sims



# Simulation trial_3_3_5 - equivalent
response_trial_3_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_5a

response_trial_3_3_5a_sims <- run_trials(response_trial_3_3_5a, n_rep = 10000, base_seed = 123)
response_trial_3_3_5a_sims




# Simulation trial_3_3_5 - inferior
response_trial_3_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_5b

response_trial_3_3_5b_sims <- run_trials(response_trial_3_3_5b, n_rep = 10000, base_seed = 123)
response_trial_3_3_5b_sims



# Simulation trial_3_3_6 - equivalent
response_trial_3_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_6a

response_trial_3_3_6a_sims <- run_trials(response_trial_3_3_6a, n_rep = 10000, base_seed = 123)
response_trial_3_3_6a_sims




# Simulation trial_3_3_6 - inferior
response_trial_3_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_6b

response_trial_3_3_6b_sims <- run_trials(response_trial_3_3_6b, n_rep = 10000, base_seed = 123)
response_trial_3_3_6b_sims




# Simulation trial_3_3_7 - equivalent
response_trial_3_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_7a

response_trial_3_3_7a_sims <- run_trials(response_trial_3_3_7a, n_rep = 10000, base_seed = 123)
response_trial_3_3_7a_sims




# Simulation trial_3_3_7 - inferior
response_trial_3_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_7b

response_trial_3_3_7b_sims <- run_trials(response_trial_3_3_7b, n_rep = 10000, base_seed = 123)
response_trial_3_3_7b_sims



# Simulation trial_3_3_8 - equivalent
response_trial_3_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_8a

response_trial_3_3_8a_sims <- run_trials(response_trial_3_3_8a, n_rep = 10000, base_seed = 123)
response_trial_3_3_8a_sims




# Simulation trial_3_3_8 - inferior
response_trial_3_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_8b

response_trial_3_3_8b_sims <- run_trials(response_trial_3_3_8b, n_rep = 10000, base_seed = 123)
response_trial_3_3_8b_sims



# Simulation trial_3_3_9 - equivalent
response_trial_3_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_9a

response_trial_3_3_9a_sims <- run_trials(response_trial_3_3_9a, n_rep = 10000, base_seed = 123)
response_trial_3_3_9a_sims




# Simulation trial_3_3_9 - inferior
response_trial_3_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 30),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_3_3_9b

response_trial_3_3_9b_sims <- run_trials(response_trial_3_3_9b, n_rep = 10000, base_seed = 123)
response_trial_3_3_9b_sims






# Simulation trial_3_3_10 - equivalent
response_trial_3_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_10a

response_trial_3_3_10a_sims <- run_trials(response_trial_3_3_10a, n_rep = 10000, base_seed = 123)
response_trial_3_3_10a_sims




# Simulation trial_3_3_10 - inferior
response_trial_3_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_10b

response_trial_3_3_10b_sims <- run_trials(response_trial_3_3_10b, n_rep = 10000, base_seed = 123)
response_trial_3_3_10b_sims



# Simulation trial_3_3_11 - equivalent
response_trial_3_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_11a

response_trial_3_3_11a_sims <- run_trials(response_trial_3_3_11a, n_rep = 10000, base_seed = 123)
response_trial_3_3_11a_sims




# Simulation trial_3_3_11 - inferior
response_trial_3_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_11b

response_trial_3_3_11b_sims <- run_trials(response_trial_3_3_11b, n_rep = 10000, base_seed = 123)
response_trial_3_3_11b_sims



# Simulation trial_3_3_12 - equivalent
response_trial_3_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_12a

response_trial_3_3_12a_sims <- run_trials(response_trial_3_3_12a, n_rep = 10000, base_seed = 123)
response_trial_3_3_12a_sims




# Simulation trial_3_3_12 - inferior
response_trial_3_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_12b

response_trial_3_3_12b_sims <- run_trials(response_trial_3_3_12b, n_rep = 10000, base_seed = 123)
response_trial_3_3_12b_sims





# Simulation trial_3_3_13 - equivalent
response_trial_3_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_13a

response_trial_3_3_13a_sims <- run_trials(response_trial_3_3_13a, n_rep = 10000, base_seed = 123)
response_trial_3_3_13a_sims




# Simulation trial_3_3_13 - inferior
response_trial_3_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_13b

response_trial_3_3_13b_sims <- run_trials(response_trial_3_3_13b, n_rep = 10000, base_seed = 123)
response_trial_3_3_13b_sims



# Simulation trial_3_3_14 - equivalent
response_trial_3_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_14a

response_trial_3_3_14a_sims <- run_trials(response_trial_3_3_14a, n_rep = 10000, base_seed = 123)
response_trial_3_3_14a_sims




# Simulation trial_3_3_14 - inferior
response_trial_3_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_14b

response_trial_3_3_14b_sims <- run_trials(response_trial_3_3_14b, n_rep = 10000, base_seed = 123)
response_trial_3_3_14b_sims



# Simulation trial_3_3_15 - equivalent
response_trial_3_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_15a

response_trial_3_3_15a_sims <- run_trials(response_trial_3_3_15a, n_rep = 10000, base_seed = 123)
response_trial_3_3_15a_sims




# Simulation trial_3_3_15 - inferior
response_trial_3_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_15b

response_trial_3_3_15b_sims <- run_trials(response_trial_3_3_15b, n_rep = 10000, base_seed = 123)
response_trial_3_3_15b_sims






# Simulation trial_3_3_16 - equivalent
response_trial_3_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_16a

response_trial_3_3_16a_sims <- run_trials(response_trial_3_3_16a, n_rep = 10000, base_seed = 123)
response_trial_3_3_16a_sims




# Simulation trial_3_3_16 - inferior
response_trial_3_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_16b

response_trial_3_3_16b_sims <- run_trials(response_trial_3_3_16b, n_rep = 10000, base_seed = 123)
response_trial_3_3_16b_sims



# Simulation trial_3_3_17 - equivalent
response_trial_3_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_17a

response_trial_3_3_17a_sims <- run_trials(response_trial_3_3_17a, n_rep = 10000, base_seed = 123)
response_trial_3_3_17a_sims




# Simulation trial_3_3_17 - inferior
response_trial_3_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_17b

response_trial_3_3_17b_sims <- run_trials(response_trial_3_3_17b, n_rep = 10000, base_seed = 123)
response_trial_3_3_17b_sims



# Simulation trial_3_3_18 - equivalent
response_trial_3_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_18a

response_trial_3_3_18a_sims <- run_trials(response_trial_3_3_18a, n_rep = 10000, base_seed = 123)
response_trial_3_3_18a_sims




# Simulation trial_3_3_18 - inferior
response_trial_3_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_3_3_18b

response_trial_3_3_18b_sims <- run_trials(response_trial_3_3_18b, n_rep = 10000, base_seed = 123)
response_trial_3_3_18b_sims




# Simulation trial_4_1_1 - equivalent
response_trial_4_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_1a

response_trial_4_1_1a_sims <- run_trials(response_trial_4_1_1a, n_rep = 10000, base_seed = 123)
response_trial_4_1_1a_sims




# Simulation trial_4_1_1 - inferior
response_trial_4_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_1b

response_trial_4_1_1b_sims <- run_trials(response_trial_4_1_1b, n_rep = 10000, base_seed = 123)
response_trial_4_1_1b_sims



# Simulation trial_4_1_2 - equivalent
response_trial_4_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_2a

response_trial_4_1_2a_sims <- run_trials(response_trial_4_1_2a, n_rep = 10000, base_seed = 123)
response_trial_4_1_2a_sims




# Simulation trial_4_1_2 - inferior
response_trial_4_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_2b

response_trial_4_1_2b_sims <- run_trials(response_trial_4_1_2b, n_rep = 10000, base_seed = 123)
response_trial_4_1_2b_sims



# Simulation trial_4_1_3 - equivalent
response_trial_4_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_3a

response_trial_4_1_3a_sims <- run_trials(response_trial_4_1_3a, n_rep = 10000, base_seed = 123)
response_trial_4_1_3a_sims




# Simulation trial_4_1_3 - inferior
response_trial_4_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_3b

response_trial_4_1_3b_sims <- run_trials(response_trial_4_1_3b, n_rep = 10000, base_seed = 123)
response_trial_4_1_3b_sims




# Simulation trial_4_1_4 - equivalent
response_trial_4_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_4a

response_trial_4_1_4a_sims <- run_trials(response_trial_4_1_4a, n_rep = 10000, base_seed = 123)
response_trial_4_1_4a_sims




# Simulation trial_4_1_4 - inferior
response_trial_4_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_4b

response_trial_4_1_4b_sims <- run_trials(response_trial_4_1_4b, n_rep = 10000, base_seed = 123)
response_trial_4_1_4b_sims



# Simulation trial_4_1_5 - equivalent
response_trial_4_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_5a

response_trial_4_1_5a_sims <- run_trials(response_trial_4_1_5a, n_rep = 10000, base_seed = 123)
response_trial_4_1_5a_sims




# Simulation trial_4_1_5 - inferior
response_trial_4_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_5b

response_trial_4_1_5b_sims <- run_trials(response_trial_4_1_5b, n_rep = 10000, base_seed = 123)
response_trial_4_1_5b_sims



# Simulation trial_4_1_6 - equivalent
response_trial_4_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_6a

response_trial_4_1_6a_sims <- run_trials(response_trial_4_1_6a, n_rep = 10000, base_seed = 123)
response_trial_4_1_6a_sims




# Simulation trial_4_1_6 - inferior
response_trial_4_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_6b

response_trial_4_1_6b_sims <- run_trials(response_trial_4_1_6b, n_rep = 10000, base_seed = 123)
response_trial_4_1_6b_sims




# Simulation trial_4_1_7 - equivalent
response_trial_4_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_7a

response_trial_4_1_7a_sims <- run_trials(response_trial_4_1_7a, n_rep = 10000, base_seed = 123)
response_trial_4_1_7a_sims




# Simulation trial_4_1_7 - inferior
response_trial_4_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_7b

response_trial_4_1_7b_sims <- run_trials(response_trial_4_1_7b, n_rep = 10000, base_seed = 123)
response_trial_4_1_7b_sims



# Simulation trial_4_1_8 - equivalent
response_trial_4_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_8a

response_trial_4_1_8a_sims <- run_trials(response_trial_4_1_8a, n_rep = 10000, base_seed = 123)
response_trial_4_1_8a_sims




# Simulation trial_4_1_8 - inferior
response_trial_4_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_8b

response_trial_4_1_8b_sims <- run_trials(response_trial_4_1_8b, n_rep = 10000, base_seed = 123)
response_trial_4_1_8b_sims



# Simulation trial_4_1_9 - equivalent
response_trial_4_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_9a

response_trial_4_1_9a_sims <- run_trials(response_trial_4_1_9a, n_rep = 10000, base_seed = 123)
response_trial_4_1_9a_sims




# Simulation trial_4_1_9 - inferior
response_trial_4_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_1_9b

response_trial_4_1_9b_sims <- run_trials(response_trial_4_1_9b, n_rep = 10000, base_seed = 123)
response_trial_4_1_9b_sims






# Simulation trial_4_1_10 - equivalent
response_trial_4_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_10a

response_trial_4_1_10a_sims <- run_trials(response_trial_4_1_10a, n_rep = 10000, base_seed = 123)
response_trial_4_1_10a_sims




# Simulation trial_4_1_10 - inferior
response_trial_4_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_10b

response_trial_4_1_10b_sims <- run_trials(response_trial_4_1_10b, n_rep = 10000, base_seed = 123)
response_trial_4_1_10b_sims



# Simulation trial_4_1_11 - equivalent
response_trial_4_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_11a

response_trial_4_1_11a_sims <- run_trials(response_trial_4_1_11a, n_rep = 10000, base_seed = 123)
response_trial_4_1_11a_sims




# Simulation trial_4_1_11 - inferior
response_trial_4_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_11b

response_trial_4_1_11b_sims <- run_trials(response_trial_4_1_11b, n_rep = 10000, base_seed = 123)
response_trial_4_1_11b_sims



# Simulation trial_4_1_12 - equivalent
response_trial_4_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_12a

response_trial_4_1_12a_sims <- run_trials(response_trial_4_1_12a, n_rep = 10000, base_seed = 123)
response_trial_4_1_12a_sims




# Simulation trial_4_1_12 - inferior
response_trial_4_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_12b

response_trial_4_1_12b_sims <- run_trials(response_trial_4_1_12b, n_rep = 10000, base_seed = 123)
response_trial_4_1_12b_sims





# Simulation trial_4_1_13 - equivalent
response_trial_4_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_13a

response_trial_4_1_13a_sims <- run_trials(response_trial_4_1_13a, n_rep = 10000, base_seed = 123)
response_trial_4_1_13a_sims




# Simulation trial_4_1_13 - inferior
response_trial_4_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_13b

response_trial_4_1_13b_sims <- run_trials(response_trial_4_1_13b, n_rep = 10000, base_seed = 123)
response_trial_4_1_13b_sims



# Simulation trial_4_1_14 - equivalent
response_trial_4_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_14a

response_trial_4_1_14a_sims <- run_trials(response_trial_4_1_14a, n_rep = 10000, base_seed = 123)
response_trial_4_1_14a_sims




# Simulation trial_4_1_14 - inferior
response_trial_4_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_14b

response_trial_4_1_14b_sims <- run_trials(response_trial_4_1_14b, n_rep = 10000, base_seed = 123)
response_trial_4_1_14b_sims



# Simulation trial_4_1_15 - equivalent
response_trial_4_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_15a

response_trial_4_1_15a_sims <- run_trials(response_trial_4_1_15a, n_rep = 10000, base_seed = 123)
response_trial_4_1_15a_sims




# Simulation trial_4_1_15 - inferior
response_trial_4_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_15b

response_trial_4_1_15b_sims <- run_trials(response_trial_4_1_15b, n_rep = 10000, base_seed = 123)
response_trial_4_1_15b_sims






# Simulation trial_4_1_16 - equivalent
response_trial_4_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_16a

response_trial_4_1_16a_sims <- run_trials(response_trial_4_1_16a, n_rep = 10000, base_seed = 123)
response_trial_4_1_16a_sims




# Simulation trial_4_1_16 - inferior
response_trial_4_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_16b

response_trial_4_1_16b_sims <- run_trials(response_trial_4_1_16b, n_rep = 10000, base_seed = 123)
response_trial_4_1_16b_sims



# Simulation trial_4_1_17 - equivalent
response_trial_4_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_17a

response_trial_4_1_17a_sims <- run_trials(response_trial_4_1_17a, n_rep = 10000, base_seed = 123)
response_trial_4_1_17a_sims




# Simulation trial_4_1_17 - inferior
response_trial_4_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_17b

response_trial_4_1_17b_sims <- run_trials(response_trial_4_1_17b, n_rep = 10000, base_seed = 123)
response_trial_4_1_17b_sims



# Simulation trial_4_1_18 - equivalent
response_trial_4_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_18a

response_trial_4_1_18a_sims <- run_trials(response_trial_4_1_18a, n_rep = 10000, base_seed = 123)
response_trial_4_1_18a_sims




# Simulation trial_4_1_18 - inferior
response_trial_4_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_1_18b

response_trial_4_1_18b_sims <- run_trials(response_trial_4_1_18b, n_rep = 10000, base_seed = 123)
response_trial_4_1_18b_sims




# Simulation trial_4_2_1 - equivalent
response_trial_4_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_1a

response_trial_4_2_1a_sims <- run_trials(response_trial_4_2_1a, n_rep = 10000, base_seed = 123)
response_trial_4_2_1a_sims




# Simulation trial_4_2_1 - inferior
response_trial_4_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_1b

response_trial_4_2_1b_sims <- run_trials(response_trial_4_2_1b, n_rep = 10000, base_seed = 123)
response_trial_4_2_1b_sims



# Simulation trial_4_2_2 - equivalent
response_trial_4_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_2a

response_trial_4_2_2a_sims <- run_trials(response_trial_4_2_2a, n_rep = 10000, base_seed = 123)
response_trial_4_2_2a_sims




# Simulation trial_4_2_2 - inferior
response_trial_4_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_2b

response_trial_4_2_2b_sims <- run_trials(response_trial_4_2_2b, n_rep = 10000, base_seed = 123)
response_trial_4_2_2b_sims



# Simulation trial_4_2_3 - equivalent
response_trial_4_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_3a

response_trial_4_2_3a_sims <- run_trials(response_trial_4_2_3a, n_rep = 10000, base_seed = 123)
response_trial_4_2_3a_sims




# Simulation trial_4_2_3 - inferior
response_trial_4_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_3b

response_trial_4_2_3b_sims <- run_trials(response_trial_4_2_3b, n_rep = 10000, base_seed = 123)
response_trial_4_2_3b_sims




# Simulation trial_4_2_4 - equivalent
response_trial_4_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_4a

response_trial_4_2_4a_sims <- run_trials(response_trial_4_2_4a, n_rep = 10000, base_seed = 123)
response_trial_4_2_4a_sims




# Simulation trial_4_2_4 - inferior
response_trial_4_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_4b

response_trial_4_2_4b_sims <- run_trials(response_trial_4_2_4b, n_rep = 10000, base_seed = 123)
response_trial_4_2_4b_sims



# Simulation trial_4_2_5 - equivalent
response_trial_4_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_5a

response_trial_4_2_5a_sims <- run_trials(response_trial_4_2_5a, n_rep = 10000, base_seed = 123)
response_trial_4_2_5a_sims




# Simulation trial_4_2_5 - inferior
response_trial_4_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_5b

response_trial_4_2_5b_sims <- run_trials(response_trial_4_2_5b, n_rep = 10000, base_seed = 123)
response_trial_4_2_5b_sims



# Simulation trial_4_2_6 - equivalent
response_trial_4_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_6a

response_trial_4_2_6a_sims <- run_trials(response_trial_4_2_6a, n_rep = 10000, base_seed = 123)
response_trial_4_2_6a_sims




# Simulation trial_4_2_6 - inferior
response_trial_4_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_6b

response_trial_4_2_6b_sims <- run_trials(response_trial_4_2_6b, n_rep = 10000, base_seed = 123)
response_trial_4_2_6b_sims




# Simulation trial_4_2_7 - equivalent
response_trial_4_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_7a

response_trial_4_2_7a_sims <- run_trials(response_trial_4_2_7a, n_rep = 10000, base_seed = 123)
response_trial_4_2_7a_sims




# Simulation trial_4_2_7 - inferior
response_trial_4_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_7b

response_trial_4_2_7b_sims <- run_trials(response_trial_4_2_7b, n_rep = 10000, base_seed = 123)
response_trial_4_2_7b_sims



# Simulation trial_4_2_8 - equivalent
response_trial_4_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_8a

response_trial_4_2_8a_sims <- run_trials(response_trial_4_2_8a, n_rep = 10000, base_seed = 123)
response_trial_4_2_8a_sims




# Simulation trial_4_2_8 - inferior
response_trial_4_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_8b

response_trial_4_2_8b_sims <- run_trials(response_trial_4_2_8b, n_rep = 10000, base_seed = 123)
response_trial_4_2_8b_sims



# Simulation trial_4_2_9 - equivalent
response_trial_4_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_9a

response_trial_4_2_9a_sims <- run_trials(response_trial_4_2_9a, n_rep = 10000, base_seed = 123)
response_trial_4_2_9a_sims




# Simulation trial_4_2_9 - inferior
response_trial_4_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_2_9b

response_trial_4_2_9b_sims <- run_trials(response_trial_4_2_9b, n_rep = 10000, base_seed = 123)
response_trial_4_2_9b_sims






# Simulation trial_4_2_10 - equivalent
response_trial_4_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_10a

response_trial_4_2_10a_sims <- run_trials(response_trial_4_2_10a, n_rep = 10000, base_seed = 123)
response_trial_4_2_10a_sims




# Simulation trial_4_2_10 - inferior
response_trial_4_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_10b

response_trial_4_2_10b_sims <- run_trials(response_trial_4_2_10b, n_rep = 10000, base_seed = 123)
response_trial_4_2_10b_sims



# Simulation trial_4_2_11 - equivalent
response_trial_4_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_11a

response_trial_4_2_11a_sims <- run_trials(response_trial_4_2_11a, n_rep = 10000, base_seed = 123)
response_trial_4_2_11a_sims




# Simulation trial_4_2_11 - inferior
response_trial_4_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_11b

response_trial_4_2_11b_sims <- run_trials(response_trial_4_2_11b, n_rep = 10000, base_seed = 123)
response_trial_4_2_11b_sims



# Simulation trial_4_2_12 - equivalent
response_trial_4_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_12a

response_trial_4_2_12a_sims <- run_trials(response_trial_4_2_12a, n_rep = 10000, base_seed = 123)
response_trial_4_2_12a_sims




# Simulation trial_4_2_12 - inferior
response_trial_4_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_12b

response_trial_4_2_12b_sims <- run_trials(response_trial_4_2_12b, n_rep = 10000, base_seed = 123)
response_trial_4_2_12b_sims





# Simulation trial_4_2_13 - equivalent
response_trial_4_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_13a

response_trial_4_2_13a_sims <- run_trials(response_trial_4_2_13a, n_rep = 10000, base_seed = 123)
response_trial_4_2_13a_sims




# Simulation trial_4_2_13 - inferior
response_trial_4_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_13b

response_trial_4_2_13b_sims <- run_trials(response_trial_4_2_13b, n_rep = 10000, base_seed = 123)
response_trial_4_2_13b_sims



# Simulation trial_4_2_14 - equivalent
response_trial_4_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_14a

response_trial_4_2_14a_sims <- run_trials(response_trial_4_2_14a, n_rep = 10000, base_seed = 123)
response_trial_4_2_14a_sims




# Simulation trial_4_2_14 - inferior
response_trial_4_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_14b

response_trial_4_2_14b_sims <- run_trials(response_trial_4_2_14b, n_rep = 10000, base_seed = 123)
response_trial_4_2_14b_sims



# Simulation trial_4_2_15 - equivalent
response_trial_4_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_15a

response_trial_4_2_15a_sims <- run_trials(response_trial_4_2_15a, n_rep = 10000, base_seed = 123)
response_trial_4_2_15a_sims




# Simulation trial_4_2_15 - inferior
response_trial_4_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_15b

response_trial_4_2_15b_sims <- run_trials(response_trial_4_2_15b, n_rep = 10000, base_seed = 123)
response_trial_4_2_15b_sims






# Simulation trial_4_2_16 - equivalent
response_trial_4_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_16a

response_trial_4_2_16a_sims <- run_trials(response_trial_4_2_16a, n_rep = 10000, base_seed = 123)
response_trial_4_2_16a_sims




# Simulation trial_4_2_16 - inferior
response_trial_4_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_16b

response_trial_4_2_16b_sims <- run_trials(response_trial_4_2_16b, n_rep = 10000, base_seed = 123)
response_trial_4_2_16b_sims



# Simulation trial_4_2_17 - equivalent
response_trial_4_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_17a

response_trial_4_2_17a_sims <- run_trials(response_trial_4_2_17a, n_rep = 10000, base_seed = 123)
response_trial_4_2_17a_sims




# Simulation trial_4_2_17 - inferior
response_trial_4_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_17b

response_trial_4_2_17b_sims <- run_trials(response_trial_4_2_17b, n_rep = 10000, base_seed = 123)
response_trial_4_2_17b_sims



# Simulation trial_4_2_18 - equivalent
response_trial_4_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_18a

response_trial_4_2_18a_sims <- run_trials(response_trial_4_2_18a, n_rep = 10000, base_seed = 123)
response_trial_4_2_18a_sims




# Simulation trial_4_2_18 - inferior
response_trial_4_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_2_18b

response_trial_4_2_18b_sims <- run_trials(response_trial_4_2_18b, n_rep = 10000, base_seed = 123)
response_trial_4_2_18b_sims




# Simulation trial_4_3_1 - equivalent
response_trial_4_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_1a

response_trial_4_3_1a_sims <- run_trials(response_trial_4_3_1a, n_rep = 10000, base_seed = 123)
response_trial_4_3_1a_sims




# Simulation trial_4_3_1 - inferior
response_trial_4_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_1b

response_trial_4_3_1b_sims <- run_trials(response_trial_4_3_1b, n_rep = 10000, base_seed = 123)
response_trial_4_3_1b_sims



# Simulation trial_4_3_2 - equivalent
response_trial_4_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_2a

response_trial_4_3_2a_sims <- run_trials(response_trial_4_3_2a, n_rep = 10000, base_seed = 123)
response_trial_4_3_2a_sims




# Simulation trial_4_3_2 - inferior
response_trial_4_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_2b

response_trial_4_3_2b_sims <- run_trials(response_trial_4_3_2b, n_rep = 10000, base_seed = 123)
response_trial_4_3_2b_sims



# Simulation trial_4_3_3 - equivalent
response_trial_4_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_3a

response_trial_4_3_3a_sims <- run_trials(response_trial_4_3_3a, n_rep = 10000, base_seed = 123)
response_trial_4_3_3a_sims




# Simulation trial_4_3_3 - inferior
response_trial_4_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_3b

response_trial_4_3_3b_sims <- run_trials(response_trial_4_3_3b, n_rep = 10000, base_seed = 123)
response_trial_4_3_3b_sims




# Simulation trial_4_3_4 - equivalent
response_trial_4_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_4a

response_trial_4_3_4a_sims <- run_trials(response_trial_4_3_4a, n_rep = 10000, base_seed = 123)
response_trial_4_3_4a_sims




# Simulation trial_4_3_4 - inferior
response_trial_4_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_4b

response_trial_4_3_4b_sims <- run_trials(response_trial_4_3_4b, n_rep = 10000, base_seed = 123)
response_trial_4_3_4b_sims



# Simulation trial_4_3_5 - equivalent
response_trial_4_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_5a

response_trial_4_3_5a_sims <- run_trials(response_trial_4_3_5a, n_rep = 10000, base_seed = 123)
response_trial_4_3_5a_sims




# Simulation trial_4_3_5 - inferior
response_trial_4_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_5b

response_trial_4_3_5b_sims <- run_trials(response_trial_4_3_5b, n_rep = 10000, base_seed = 123)
response_trial_4_3_5b_sims



# Simulation trial_4_3_6 - equivalent
response_trial_4_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_6a

response_trial_4_3_6a_sims <- run_trials(response_trial_4_3_6a, n_rep = 10000, base_seed = 123)
response_trial_4_3_6a_sims




# Simulation trial_4_3_6 - inferior
response_trial_4_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_6b

response_trial_4_3_6b_sims <- run_trials(response_trial_4_3_6b, n_rep = 10000, base_seed = 123)
response_trial_4_3_6b_sims




# Simulation trial_4_3_7 - equivalent
response_trial_4_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_7a

response_trial_4_3_7a_sims <- run_trials(response_trial_4_3_7a, n_rep = 10000, base_seed = 123)
response_trial_4_3_7a_sims




# Simulation trial_4_3_7 - inferior
response_trial_4_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_7b

response_trial_4_3_7b_sims <- run_trials(response_trial_4_3_7b, n_rep = 10000, base_seed = 123)
response_trial_4_3_7b_sims



# Simulation trial_4_3_8 - equivalent
response_trial_4_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_8a

response_trial_4_3_8a_sims <- run_trials(response_trial_4_3_8a, n_rep = 10000, base_seed = 123)
response_trial_4_3_8a_sims




# Simulation trial_4_3_8 - inferior
response_trial_4_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_8b

response_trial_4_3_8b_sims <- run_trials(response_trial_4_3_8b, n_rep = 10000, base_seed = 123)
response_trial_4_3_8b_sims



# Simulation trial_4_3_9 - equivalent
response_trial_4_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_9a

response_trial_4_3_9a_sims <- run_trials(response_trial_4_3_9a, n_rep = 10000, base_seed = 123)
response_trial_4_3_9a_sims




# Simulation trial_4_3_9 - inferior
response_trial_4_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 410, by = 40),
                                           randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_4_3_9b

response_trial_4_3_9b_sims <- run_trials(response_trial_4_3_9b, n_rep = 10000, base_seed = 123)
response_trial_4_3_9b_sims






# Simulation trial_4_3_10 - equivalent
response_trial_4_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_10a

response_trial_4_3_10a_sims <- run_trials(response_trial_4_3_10a, n_rep = 10000, base_seed = 123)
response_trial_4_3_10a_sims




# Simulation trial_4_3_10 - inferior
response_trial_4_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_10b

response_trial_4_3_10b_sims <- run_trials(response_trial_4_3_10b, n_rep = 10000, base_seed = 123)
response_trial_4_3_10b_sims



# Simulation trial_4_3_11 - equivalent
response_trial_4_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_11a

response_trial_4_3_11a_sims <- run_trials(response_trial_4_3_11a, n_rep = 10000, base_seed = 123)
response_trial_4_3_11a_sims




# Simulation trial_4_3_11 - inferior
response_trial_4_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_11b

response_trial_4_3_11b_sims <- run_trials(response_trial_4_3_11b, n_rep = 10000, base_seed = 123)
response_trial_4_3_11b_sims



# Simulation trial_4_3_12 - equivalent
response_trial_4_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_12a

response_trial_4_3_12a_sims <- run_trials(response_trial_4_3_12a, n_rep = 10000, base_seed = 123)
response_trial_4_3_12a_sims




# Simulation trial_4_3_12 - inferior
response_trial_4_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_12b

response_trial_4_3_12b_sims <- run_trials(response_trial_4_3_12b, n_rep = 10000, base_seed = 123)
response_trial_4_3_12b_sims





# Simulation trial_4_3_13 - equivalent
response_trial_4_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_13a

response_trial_4_3_13a_sims <- run_trials(response_trial_4_3_13a, n_rep = 10000, base_seed = 123)
response_trial_4_3_13a_sims




# Simulation trial_4_3_13 - inferior
response_trial_4_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_13b

response_trial_4_3_13b_sims <- run_trials(response_trial_4_3_13b, n_rep = 10000, base_seed = 123)
response_trial_4_3_13b_sims



# Simulation trial_4_3_14 - equivalent
response_trial_4_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_14a

response_trial_4_3_14a_sims <- run_trials(response_trial_4_3_14a, n_rep = 10000, base_seed = 123)
response_trial_4_3_14a_sims




# Simulation trial_4_3_14 - inferior
response_trial_4_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_14b

response_trial_4_3_14b_sims <- run_trials(response_trial_4_3_14b, n_rep = 10000, base_seed = 123)
response_trial_4_3_14b_sims



# Simulation trial_4_3_15 - equivalent
response_trial_4_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_15a

response_trial_4_3_15a_sims <- run_trials(response_trial_4_3_15a, n_rep = 10000, base_seed = 123)
response_trial_4_3_15a_sims




# Simulation trial_4_3_15 - inferior
response_trial_4_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_15b

response_trial_4_3_15b_sims <- run_trials(response_trial_4_3_15b, n_rep = 10000, base_seed = 123)
response_trial_4_3_15b_sims






# Simulation trial_4_3_16 - equivalent
response_trial_4_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_16a

response_trial_4_3_16a_sims <- run_trials(response_trial_4_3_16a, n_rep = 10000, base_seed = 123)
response_trial_4_3_16a_sims




# Simulation trial_4_3_16 - inferior
response_trial_4_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_16b

response_trial_4_3_16b_sims <- run_trials(response_trial_4_3_16b, n_rep = 10000, base_seed = 123)
response_trial_4_3_16b_sims



# Simulation trial_4_3_17 - equivalent
response_trial_4_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_17a

response_trial_4_3_17a_sims <- run_trials(response_trial_4_3_17a, n_rep = 10000, base_seed = 123)
response_trial_4_3_17a_sims




# Simulation trial_4_3_17 - inferior
response_trial_4_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_17b

response_trial_4_3_17b_sims <- run_trials(response_trial_4_3_17b, n_rep = 10000, base_seed = 123)
response_trial_4_3_17b_sims



# Simulation trial_4_3_18 - equivalent
response_trial_4_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_18a

response_trial_4_3_18a_sims <- run_trials(response_trial_4_3_18a, n_rep = 10000, base_seed = 123)
response_trial_4_3_18a_sims




# Simulation trial_4_3_18 - inferior
response_trial_4_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 40),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_4_3_18b

response_trial_4_3_18b_sims <- run_trials(response_trial_4_3_18b, n_rep = 10000, base_seed = 123)
response_trial_4_3_18b_sims




# Simulation trial_5_1_1 - equivalent
response_trial_5_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_1a

response_trial_5_1_1a_sims <- run_trials(response_trial_5_1_1a, n_rep = 10000, base_seed = 123)
response_trial_5_1_1a_sims




# Simulation trial_5_1_1 - inferior
response_trial_5_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_1b

response_trial_5_1_1b_sims <- run_trials(response_trial_5_1_1b, n_rep = 10000, base_seed = 123)
response_trial_5_1_1b_sims



# Simulation trial_5_1_2 - equivalent
response_trial_5_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_2a

response_trial_5_1_2a_sims <- run_trials(response_trial_5_1_2a, n_rep = 10000, base_seed = 123)
response_trial_5_1_2a_sims




# Simulation trial_5_1_2 - inferior
response_trial_5_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_2b

response_trial_5_1_2b_sims <- run_trials(response_trial_5_1_2b, n_rep = 10000, base_seed = 123)
response_trial_5_1_2b_sims



# Simulation trial_5_1_3 - equivalent
response_trial_5_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_3a

response_trial_5_1_3a_sims <- run_trials(response_trial_5_1_3a, n_rep = 10000, base_seed = 123)
response_trial_5_1_3a_sims




# Simulation trial_5_1_3 - inferior
response_trial_5_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_3b

response_trial_5_1_3b_sims <- run_trials(response_trial_5_1_3b, n_rep = 10000, base_seed = 123)
response_trial_5_1_3b_sims




# Simulation trial_5_1_4 - equivalent
response_trial_5_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_4a

response_trial_5_1_4a_sims <- run_trials(response_trial_5_1_4a, n_rep = 10000, base_seed = 123)
response_trial_5_1_4a_sims




# Simulation trial_5_1_4 - inferior
response_trial_5_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_4b

response_trial_5_1_4b_sims <- run_trials(response_trial_5_1_4b, n_rep = 10000, base_seed = 123)
response_trial_5_1_4b_sims



# Simulation trial_5_1_5 - equivalent
response_trial_5_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_5a

response_trial_5_1_5a_sims <- run_trials(response_trial_5_1_5a, n_rep = 10000, base_seed = 123)
response_trial_5_1_5a_sims




# Simulation trial_5_1_5 - inferior
response_trial_5_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_5b

response_trial_5_1_5b_sims <- run_trials(response_trial_5_1_5b, n_rep = 10000, base_seed = 123)
response_trial_5_1_5b_sims



# Simulation trial_5_1_6 - equivalent
response_trial_5_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_6a

response_trial_5_1_6a_sims <- run_trials(response_trial_5_1_6a, n_rep = 10000, base_seed = 123)
response_trial_5_1_6a_sims




# Simulation trial_5_1_6 - inferior
response_trial_5_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_6b

response_trial_5_1_6b_sims <- run_trials(response_trial_5_1_6b, n_rep = 10000, base_seed = 123)
response_trial_5_1_6b_sims




# Simulation trial_5_1_7 - equivalent
response_trial_5_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_7a

response_trial_5_1_7a_sims <- run_trials(response_trial_5_1_7a, n_rep = 10000, base_seed = 123)
response_trial_5_1_7a_sims




# Simulation trial_5_1_7 - inferior
response_trial_5_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_7b

response_trial_5_1_7b_sims <- run_trials(response_trial_5_1_7b, n_rep = 10000, base_seed = 123)
response_trial_5_1_7b_sims



# Simulation trial_5_1_8 - equivalent
response_trial_5_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_8a

response_trial_5_1_8a_sims <- run_trials(response_trial_5_1_8a, n_rep = 10000, base_seed = 123)
response_trial_5_1_8a_sims




# Simulation trial_5_1_8 - inferior
response_trial_5_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_8b

response_trial_5_1_8b_sims <- run_trials(response_trial_5_1_8b, n_rep = 10000, base_seed = 123)
response_trial_5_1_8b_sims



# Simulation trial_5_1_9 - equivalent
response_trial_5_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_9a

response_trial_5_1_9a_sims <- run_trials(response_trial_5_1_9a, n_rep = 10000, base_seed = 123)
response_trial_5_1_9a_sims




# Simulation trial_5_1_9 - inferior
response_trial_5_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_1_9b

response_trial_5_1_9b_sims <- run_trials(response_trial_5_1_9b, n_rep = 10000, base_seed = 123)
response_trial_5_1_9b_sims






# Simulation trial_5_1_10 - equivalent
response_trial_5_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_10a

response_trial_5_1_10a_sims <- run_trials(response_trial_5_1_10a, n_rep = 10000, base_seed = 123)
response_trial_5_1_10a_sims




# Simulation trial_5_1_10 - inferior
response_trial_5_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_10b

response_trial_5_1_10b_sims <- run_trials(response_trial_5_1_10b, n_rep = 10000, base_seed = 123)
response_trial_5_1_10b_sims



# Simulation trial_5_1_11 - equivalent
response_trial_5_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_11a

response_trial_5_1_11a_sims <- run_trials(response_trial_5_1_11a, n_rep = 10000, base_seed = 123)
response_trial_5_1_11a_sims




# Simulation trial_5_1_11 - inferior
response_trial_5_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_11b

response_trial_5_1_11b_sims <- run_trials(response_trial_5_1_11b, n_rep = 10000, base_seed = 123)
response_trial_5_1_11b_sims



# Simulation trial_5_1_12 - equivalent
response_trial_5_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_12a

response_trial_5_1_12a_sims <- run_trials(response_trial_5_1_12a, n_rep = 10000, base_seed = 123)
response_trial_5_1_12a_sims




# Simulation trial_5_1_12 - inferior
response_trial_5_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_12b

response_trial_5_1_12b_sims <- run_trials(response_trial_5_1_12b, n_rep = 10000, base_seed = 123)
response_trial_5_1_12b_sims





# Simulation trial_5_1_13 - equivalent
response_trial_5_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_13a

response_trial_5_1_13a_sims <- run_trials(response_trial_5_1_13a, n_rep = 10000, base_seed = 123)
response_trial_5_1_13a_sims




# Simulation trial_5_1_13 - inferior
response_trial_5_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_13b

response_trial_5_1_13b_sims <- run_trials(response_trial_5_1_13b, n_rep = 10000, base_seed = 123)
response_trial_5_1_13b_sims



# Simulation trial_5_1_14 - equivalent
response_trial_5_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_14a

response_trial_5_1_14a_sims <- run_trials(response_trial_5_1_14a, n_rep = 10000, base_seed = 123)
response_trial_5_1_14a_sims




# Simulation trial_5_1_14 - inferior
response_trial_5_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_14b

response_trial_5_1_14b_sims <- run_trials(response_trial_5_1_14b, n_rep = 10000, base_seed = 123)
response_trial_5_1_14b_sims



# Simulation trial_5_1_15 - equivalent
response_trial_5_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_15a

response_trial_5_1_15a_sims <- run_trials(response_trial_5_1_15a, n_rep = 10000, base_seed = 123)
response_trial_5_1_15a_sims




# Simulation trial_5_1_15 - inferior
response_trial_5_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_15b

response_trial_5_1_15b_sims <- run_trials(response_trial_5_1_15b, n_rep = 10000, base_seed = 123)
response_trial_5_1_15b_sims






# Simulation trial_5_1_16 - equivalent
response_trial_5_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_16a

response_trial_5_1_16a_sims <- run_trials(response_trial_5_1_16a, n_rep = 10000, base_seed = 123)
response_trial_5_1_16a_sims




# Simulation trial_5_1_16 - inferior
response_trial_5_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_16b

response_trial_5_1_16b_sims <- run_trials(response_trial_5_1_16b, n_rep = 10000, base_seed = 123)
response_trial_5_1_16b_sims



# Simulation trial_5_1_17 - equivalent
response_trial_5_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_17a

response_trial_5_1_17a_sims <- run_trials(response_trial_5_1_17a, n_rep = 10000, base_seed = 123)
response_trial_5_1_17a_sims




# Simulation trial_5_1_17 - inferior
response_trial_5_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_17b

response_trial_5_1_17b_sims <- run_trials(response_trial_5_1_17b, n_rep = 10000, base_seed = 123)
response_trial_5_1_17b_sims



# Simulation trial_5_1_18 - equivalent
response_trial_5_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_18a

response_trial_5_1_18a_sims <- run_trials(response_trial_5_1_18a, n_rep = 10000, base_seed = 123)
response_trial_5_1_18a_sims




# Simulation trial_5_1_18 - inferior
response_trial_5_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_1_18b

response_trial_5_1_18b_sims <- run_trials(response_trial_5_1_18b, n_rep = 10000, base_seed = 123)
response_trial_5_1_18b_sims




# Simulation trial_5_2_1 - equivalent
response_trial_5_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_1a

response_trial_5_2_1a_sims <- run_trials(response_trial_5_2_1a, n_rep = 10000, base_seed = 123)
response_trial_5_2_1a_sims




# Simulation trial_5_2_1 - inferior
response_trial_5_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_1b

response_trial_5_2_1b_sims <- run_trials(response_trial_5_2_1b, n_rep = 10000, base_seed = 123)
response_trial_5_2_1b_sims



# Simulation trial_5_2_2 - equivalent
response_trial_5_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_2a

response_trial_5_2_2a_sims <- run_trials(response_trial_5_2_2a, n_rep = 10000, base_seed = 123)
response_trial_5_2_2a_sims




# Simulation trial_5_2_2 - inferior
response_trial_5_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_2b

response_trial_5_2_2b_sims <- run_trials(response_trial_5_2_2b, n_rep = 10000, base_seed = 123)
response_trial_5_2_2b_sims



# Simulation trial_5_2_3 - equivalent
response_trial_5_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_3a

response_trial_5_2_3a_sims <- run_trials(response_trial_5_2_3a, n_rep = 10000, base_seed = 123)
response_trial_5_2_3a_sims




# Simulation trial_5_2_3 - inferior
response_trial_5_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_3b

response_trial_5_2_3b_sims <- run_trials(response_trial_5_2_3b, n_rep = 10000, base_seed = 123)
response_trial_5_2_3b_sims




# Simulation trial_5_2_4 - equivalent
response_trial_5_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_4a

response_trial_5_2_4a_sims <- run_trials(response_trial_5_2_4a, n_rep = 10000, base_seed = 123)
response_trial_5_2_4a_sims




# Simulation trial_5_2_4 - inferior
response_trial_5_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_4b

response_trial_5_2_4b_sims <- run_trials(response_trial_5_2_4b, n_rep = 10000, base_seed = 123)
response_trial_5_2_4b_sims



# Simulation trial_5_2_5 - equivalent
response_trial_5_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_5a

response_trial_5_2_5a_sims <- run_trials(response_trial_5_2_5a, n_rep = 10000, base_seed = 123)
response_trial_5_2_5a_sims




# Simulation trial_5_2_5 - inferior
response_trial_5_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_5b

response_trial_5_2_5b_sims <- run_trials(response_trial_5_2_5b, n_rep = 10000, base_seed = 123)
response_trial_5_2_5b_sims



# Simulation trial_5_2_6 - equivalent
response_trial_5_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_6a

response_trial_5_2_6a_sims <- run_trials(response_trial_5_2_6a, n_rep = 10000, base_seed = 123)
response_trial_5_2_6a_sims




# Simulation trial_5_2_6 - inferior
response_trial_5_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_6b

response_trial_5_2_6b_sims <- run_trials(response_trial_5_2_6b, n_rep = 10000, base_seed = 123)
response_trial_5_2_6b_sims




# Simulation trial_5_2_7 - equivalent
response_trial_5_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_7a

response_trial_5_2_7a_sims <- run_trials(response_trial_5_2_7a, n_rep = 10000, base_seed = 123)
response_trial_5_2_7a_sims




# Simulation trial_5_2_7 - inferior
response_trial_5_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_7b

response_trial_5_2_7b_sims <- run_trials(response_trial_5_2_7b, n_rep = 10000, base_seed = 123)
response_trial_5_2_7b_sims



# Simulation trial_5_2_8 - equivalent
response_trial_5_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_8a

response_trial_5_2_8a_sims <- run_trials(response_trial_5_2_8a, n_rep = 10000, base_seed = 123)
response_trial_5_2_8a_sims




# Simulation trial_5_2_8 - inferior
response_trial_5_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_8b

response_trial_5_2_8b_sims <- run_trials(response_trial_5_2_8b, n_rep = 10000, base_seed = 123)
response_trial_5_2_8b_sims



# Simulation trial_5_2_9 - equivalent
response_trial_5_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_9a

response_trial_5_2_9a_sims <- run_trials(response_trial_5_2_9a, n_rep = 10000, base_seed = 123)
response_trial_5_2_9a_sims




# Simulation trial_5_2_9 - inferior
response_trial_5_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_2_9b

response_trial_5_2_9b_sims <- run_trials(response_trial_5_2_9b, n_rep = 10000, base_seed = 123)
response_trial_5_2_9b_sims






# Simulation trial_5_2_10 - equivalent
response_trial_5_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_10a

response_trial_5_2_10a_sims <- run_trials(response_trial_5_2_10a, n_rep = 10000, base_seed = 123)
response_trial_5_2_10a_sims




# Simulation trial_5_2_10 - inferior
response_trial_5_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_10b

response_trial_5_2_10b_sims <- run_trials(response_trial_5_2_10b, n_rep = 10000, base_seed = 123)
response_trial_5_2_10b_sims



# Simulation trial_5_2_11 - equivalent
response_trial_5_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_11a

response_trial_5_2_11a_sims <- run_trials(response_trial_5_2_11a, n_rep = 10000, base_seed = 123)
response_trial_5_2_11a_sims




# Simulation trial_5_2_11 - inferior
response_trial_5_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_11b

response_trial_5_2_11b_sims <- run_trials(response_trial_5_2_11b, n_rep = 10000, base_seed = 123)
response_trial_5_2_11b_sims



# Simulation trial_5_2_12 - equivalent
response_trial_5_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_12a

response_trial_5_2_12a_sims <- run_trials(response_trial_5_2_12a, n_rep = 10000, base_seed = 123)
response_trial_5_2_12a_sims




# Simulation trial_5_2_12 - inferior
response_trial_5_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_12b

response_trial_5_2_12b_sims <- run_trials(response_trial_5_2_12b, n_rep = 10000, base_seed = 123)
response_trial_5_2_12b_sims





# Simulation trial_5_2_13 - equivalent
response_trial_5_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_13a

response_trial_5_2_13a_sims <- run_trials(response_trial_5_2_13a, n_rep = 10000, base_seed = 123)
response_trial_5_2_13a_sims




# Simulation trial_5_2_13 - inferior
response_trial_5_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_13b

response_trial_5_2_13b_sims <- run_trials(response_trial_5_2_13b, n_rep = 10000, base_seed = 123)
response_trial_5_2_13b_sims



# Simulation trial_5_2_14 - equivalent
response_trial_5_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_14a

response_trial_5_2_14a_sims <- run_trials(response_trial_5_2_14a, n_rep = 10000, base_seed = 123)
response_trial_5_2_14a_sims




# Simulation trial_5_2_14 - inferior
response_trial_5_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_14b

response_trial_5_2_14b_sims <- run_trials(response_trial_5_2_14b, n_rep = 10000, base_seed = 123)
response_trial_5_2_14b_sims



# Simulation trial_5_2_15 - equivalent
response_trial_5_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_15a

response_trial_5_2_15a_sims <- run_trials(response_trial_5_2_15a, n_rep = 10000, base_seed = 123)
response_trial_5_2_15a_sims




# Simulation trial_5_2_15 - inferior
response_trial_5_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_15b

response_trial_5_2_15b_sims <- run_trials(response_trial_5_2_15b, n_rep = 10000, base_seed = 123)
response_trial_5_2_15b_sims






# Simulation trial_5_2_16 - equivalent
response_trial_5_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_16a

response_trial_5_2_16a_sims <- run_trials(response_trial_5_2_16a, n_rep = 10000, base_seed = 123)
response_trial_5_2_16a_sims




# Simulation trial_5_2_16 - inferior
response_trial_5_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_16b

response_trial_5_2_16b_sims <- run_trials(response_trial_5_2_16b, n_rep = 10000, base_seed = 123)
response_trial_5_2_16b_sims



# Simulation trial_5_2_17 - equivalent
response_trial_5_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_17a

response_trial_5_2_17a_sims <- run_trials(response_trial_5_2_17a, n_rep = 10000, base_seed = 123)
response_trial_5_2_17a_sims




# Simulation trial_5_2_17 - inferior
response_trial_5_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_17b

response_trial_5_2_17b_sims <- run_trials(response_trial_5_2_17b, n_rep = 10000, base_seed = 123)
response_trial_5_2_17b_sims



# Simulation trial_5_2_18 - equivalent
response_trial_5_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_18a

response_trial_5_2_18a_sims <- run_trials(response_trial_5_2_18a, n_rep = 10000, base_seed = 123)
response_trial_5_2_18a_sims




# Simulation trial_5_2_18 - inferior
response_trial_5_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_2_18b

response_trial_5_2_18b_sims <- run_trials(response_trial_5_2_18b, n_rep = 10000, base_seed = 123)
response_trial_5_2_18b_sims




# Simulation trial_5_3_1 - equivalent
response_trial_5_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_1a

response_trial_5_3_1a_sims <- run_trials(response_trial_5_3_1a, n_rep = 10000, base_seed = 123)
response_trial_5_3_1a_sims




# Simulation trial_5_3_1 - inferior
response_trial_5_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_1b

response_trial_5_3_1b_sims <- run_trials(response_trial_5_3_1b, n_rep = 10000, base_seed = 123)
response_trial_5_3_1b_sims



# Simulation trial_5_3_2 - equivalent
response_trial_5_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_2a

response_trial_5_3_2a_sims <- run_trials(response_trial_5_3_2a, n_rep = 10000, base_seed = 123)
response_trial_5_3_2a_sims




# Simulation trial_5_3_2 - inferior
response_trial_5_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_2b

response_trial_5_3_2b_sims <- run_trials(response_trial_5_3_2b, n_rep = 10000, base_seed = 123)
response_trial_5_3_2b_sims



# Simulation trial_5_3_3 - equivalent
response_trial_5_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_3a

response_trial_5_3_3a_sims <- run_trials(response_trial_5_3_3a, n_rep = 10000, base_seed = 123)
response_trial_5_3_3a_sims




# Simulation trial_5_3_3 - inferior
response_trial_5_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_3b

response_trial_5_3_3b_sims <- run_trials(response_trial_5_3_3b, n_rep = 10000, base_seed = 123)
response_trial_5_3_3b_sims




# Simulation trial_5_3_4 - equivalent
response_trial_5_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_4a

response_trial_5_3_4a_sims <- run_trials(response_trial_5_3_4a, n_rep = 10000, base_seed = 123)
response_trial_5_3_4a_sims




# Simulation trial_5_3_4 - inferior
response_trial_5_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_4b

response_trial_5_3_4b_sims <- run_trials(response_trial_5_3_4b, n_rep = 10000, base_seed = 123)
response_trial_5_3_4b_sims



# Simulation trial_5_3_5 - equivalent
response_trial_5_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_5a

response_trial_5_3_5a_sims <- run_trials(response_trial_5_3_5a, n_rep = 10000, base_seed = 123)
response_trial_5_3_5a_sims




# Simulation trial_5_3_5 - inferior
response_trial_5_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_5b

response_trial_5_3_5b_sims <- run_trials(response_trial_5_3_5b, n_rep = 10000, base_seed = 123)
response_trial_5_3_5b_sims



# Simulation trial_5_3_6 - equivalent
response_trial_5_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_6a

response_trial_5_3_6a_sims <- run_trials(response_trial_5_3_6a, n_rep = 10000, base_seed = 123)
response_trial_5_3_6a_sims




# Simulation trial_5_3_6 - inferior
response_trial_5_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_6b

response_trial_5_3_6b_sims <- run_trials(response_trial_5_3_6b, n_rep = 10000, base_seed = 123)
response_trial_5_3_6b_sims




# Simulation trial_5_3_7 - equivalent
response_trial_5_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_7a

response_trial_5_3_7a_sims <- run_trials(response_trial_5_3_7a, n_rep = 10000, base_seed = 123)
response_trial_5_3_7a_sims




# Simulation trial_5_3_7 - inferior
response_trial_5_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_7b

response_trial_5_3_7b_sims <- run_trials(response_trial_5_3_7b, n_rep = 10000, base_seed = 123)
response_trial_5_3_7b_sims



# Simulation trial_5_3_8 - equivalent
response_trial_5_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_8a

response_trial_5_3_8a_sims <- run_trials(response_trial_5_3_8a, n_rep = 10000, base_seed = 123)
response_trial_5_3_8a_sims




# Simulation trial_5_3_8 - inferior
response_trial_5_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_8b

response_trial_5_3_8b_sims <- run_trials(response_trial_5_3_8b, n_rep = 10000, base_seed = 123)
response_trial_5_3_8b_sims



# Simulation trial_5_3_9 - equivalent
response_trial_5_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_9a

response_trial_5_3_9a_sims <- run_trials(response_trial_5_3_9a, n_rep = 10000, base_seed = 123)
response_trial_5_3_9a_sims




# Simulation trial_5_3_9 - inferior
response_trial_5_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 435, by = 40),
                                           randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_5_3_9b

response_trial_5_3_9b_sims <- run_trials(response_trial_5_3_9b, n_rep = 10000, base_seed = 123)
response_trial_5_3_9b_sims






# Simulation trial_5_3_10 - equivalent
response_trial_5_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_10a

response_trial_5_3_10a_sims <- run_trials(response_trial_5_3_10a, n_rep = 10000, base_seed = 123)
response_trial_5_3_10a_sims




# Simulation trial_5_3_10 - inferior
response_trial_5_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_10b

response_trial_5_3_10b_sims <- run_trials(response_trial_5_3_10b, n_rep = 10000, base_seed = 123)
response_trial_5_3_10b_sims



# Simulation trial_5_3_11 - equivalent
response_trial_5_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_11a

response_trial_5_3_11a_sims <- run_trials(response_trial_5_3_11a, n_rep = 10000, base_seed = 123)
response_trial_5_3_11a_sims




# Simulation trial_5_3_11 - inferior
response_trial_5_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_11b

response_trial_5_3_11b_sims <- run_trials(response_trial_5_3_11b, n_rep = 10000, base_seed = 123)
response_trial_5_3_11b_sims



# Simulation trial_5_3_12 - equivalent
response_trial_5_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_12a

response_trial_5_3_12a_sims <- run_trials(response_trial_5_3_12a, n_rep = 10000, base_seed = 123)
response_trial_5_3_12a_sims




# Simulation trial_5_3_12 - inferior
response_trial_5_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_12b

response_trial_5_3_12b_sims <- run_trials(response_trial_5_3_12b, n_rep = 10000, base_seed = 123)
response_trial_5_3_12b_sims





# Simulation trial_5_3_13 - equivalent
response_trial_5_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_13a

response_trial_5_3_13a_sims <- run_trials(response_trial_5_3_13a, n_rep = 10000, base_seed = 123)
response_trial_5_3_13a_sims




# Simulation trial_5_3_13 - inferior
response_trial_5_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_13b

response_trial_5_3_13b_sims <- run_trials(response_trial_5_3_13b, n_rep = 10000, base_seed = 123)
response_trial_5_3_13b_sims



# Simulation trial_5_3_14 - equivalent
response_trial_5_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_14a

response_trial_5_3_14a_sims <- run_trials(response_trial_5_3_14a, n_rep = 10000, base_seed = 123)
response_trial_5_3_14a_sims




# Simulation trial_5_3_14 - inferior
response_trial_5_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_14b

response_trial_5_3_14b_sims <- run_trials(response_trial_5_3_14b, n_rep = 10000, base_seed = 123)
response_trial_5_3_14b_sims



# Simulation trial_5_3_15 - equivalent
response_trial_5_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_15a

response_trial_5_3_15a_sims <- run_trials(response_trial_5_3_15a, n_rep = 10000, base_seed = 123)
response_trial_5_3_15a_sims




# Simulation trial_5_3_15 - inferior
response_trial_5_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_15b

response_trial_5_3_15b_sims <- run_trials(response_trial_5_3_15b, n_rep = 10000, base_seed = 123)
response_trial_5_3_15b_sims






# Simulation trial_5_3_16 - equivalent
response_trial_5_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_16a

response_trial_5_3_16a_sims <- run_trials(response_trial_5_3_16a, n_rep = 10000, base_seed = 123)
response_trial_5_3_16a_sims




# Simulation trial_5_3_16 - inferior
response_trial_5_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_16b

response_trial_5_3_16b_sims <- run_trials(response_trial_5_3_16b, n_rep = 10000, base_seed = 123)
response_trial_5_3_16b_sims



# Simulation trial_5_3_17 - equivalent
response_trial_5_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_17a

response_trial_5_3_17a_sims <- run_trials(response_trial_5_3_17a, n_rep = 10000, base_seed = 123)
response_trial_5_3_17a_sims




# Simulation trial_5_3_17 - inferior
response_trial_5_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_17b

response_trial_5_3_17b_sims <- run_trials(response_trial_5_3_17b, n_rep = 10000, base_seed = 123)
response_trial_5_3_17b_sims



# Simulation trial_5_3_18 - equivalent
response_trial_5_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_18a

response_trial_5_3_18a_sims <- run_trials(response_trial_5_3_18a, n_rep = 10000, base_seed = 123)
response_trial_5_3_18a_sims




# Simulation trial_5_3_18 - inferior
response_trial_5_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 435, by = 40),
                                            randomised_at_looks = seq(from = 78, to = 438, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_5_3_18b

response_trial_5_3_18b_sims <- run_trials(response_trial_5_3_18b, n_rep = 10000, base_seed = 123)
response_trial_5_3_18b_sims




# Simulation trial_6_1_1 - equivalent
response_trial_6_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_1a

response_trial_6_1_1a_sims <- run_trials(response_trial_6_1_1a, n_rep = 10000, base_seed = 123)
response_trial_6_1_1a_sims




# Simulation trial_6_1_1 - inferior
response_trial_6_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_1b

response_trial_6_1_1b_sims <- run_trials(response_trial_6_1_1b, n_rep = 10000, base_seed = 123)
response_trial_6_1_1b_sims



# Simulation trial_6_1_2 - equivalent
response_trial_6_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_2a

response_trial_6_1_2a_sims <- run_trials(response_trial_6_1_2a, n_rep = 10000, base_seed = 123)
response_trial_6_1_2a_sims




# Simulation trial_6_1_2 - inferior
response_trial_6_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_2b

response_trial_6_1_2b_sims <- run_trials(response_trial_6_1_2b, n_rep = 10000, base_seed = 123)
response_trial_6_1_2b_sims



# Simulation trial_6_1_3 - equivalent
response_trial_6_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_3a

response_trial_6_1_3a_sims <- run_trials(response_trial_6_1_3a, n_rep = 10000, base_seed = 123)
response_trial_6_1_3a_sims




# Simulation trial_6_1_3 - inferior
response_trial_6_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_3b

response_trial_6_1_3b_sims <- run_trials(response_trial_6_1_3b, n_rep = 10000, base_seed = 123)
response_trial_6_1_3b_sims




# Simulation trial_6_1_4 - equivalent
response_trial_6_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_4a

response_trial_6_1_4a_sims <- run_trials(response_trial_6_1_4a, n_rep = 10000, base_seed = 123)
response_trial_6_1_4a_sims




# Simulation trial_6_1_4 - inferior
response_trial_6_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_4b

response_trial_6_1_4b_sims <- run_trials(response_trial_6_1_4b, n_rep = 10000, base_seed = 123)
response_trial_6_1_4b_sims



# Simulation trial_6_1_5 - equivalent
response_trial_6_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_5a

response_trial_6_1_5a_sims <- run_trials(response_trial_6_1_5a, n_rep = 10000, base_seed = 123)
response_trial_6_1_5a_sims




# Simulation trial_6_1_5 - inferior
response_trial_6_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_5b

response_trial_6_1_5b_sims <- run_trials(response_trial_6_1_5b, n_rep = 10000, base_seed = 123)
response_trial_6_1_5b_sims



# Simulation trial_6_1_6 - equivalent
response_trial_6_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_6a

response_trial_6_1_6a_sims <- run_trials(response_trial_6_1_6a, n_rep = 10000, base_seed = 123)
response_trial_6_1_6a_sims




# Simulation trial_6_1_6 - inferior
response_trial_6_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_6b

response_trial_6_1_6b_sims <- run_trials(response_trial_6_1_6b, n_rep = 10000, base_seed = 123)
response_trial_6_1_6b_sims




# Simulation trial_6_1_7 - equivalent
response_trial_6_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_7a

response_trial_6_1_7a_sims <- run_trials(response_trial_6_1_7a, n_rep = 10000, base_seed = 123)
response_trial_6_1_7a_sims




# Simulation trial_6_1_7 - inferior
response_trial_6_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_7b

response_trial_6_1_7b_sims <- run_trials(response_trial_6_1_7b, n_rep = 10000, base_seed = 123)
response_trial_6_1_7b_sims



# Simulation trial_6_1_8 - equivalent
response_trial_6_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_8a

response_trial_6_1_8a_sims <- run_trials(response_trial_6_1_8a, n_rep = 10000, base_seed = 123)
response_trial_6_1_8a_sims




# Simulation trial_6_1_8 - inferior
response_trial_6_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_8b

response_trial_6_1_8b_sims <- run_trials(response_trial_6_1_8b, n_rep = 10000, base_seed = 123)
response_trial_6_1_8b_sims



# Simulation trial_6_1_9 - equivalent
response_trial_6_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_9a

response_trial_6_1_9a_sims <- run_trials(response_trial_6_1_9a, n_rep = 10000, base_seed = 123)
response_trial_6_1_9a_sims




# Simulation trial_6_1_9 - inferior
response_trial_6_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_1_9b

response_trial_6_1_9b_sims <- run_trials(response_trial_6_1_9b, n_rep = 10000, base_seed = 123)
response_trial_6_1_9b_sims






# Simulation trial_6_1_10 - equivalent
response_trial_6_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_10a

response_trial_6_1_10a_sims <- run_trials(response_trial_6_1_10a, n_rep = 10000, base_seed = 123)
response_trial_6_1_10a_sims




# Simulation trial_6_1_10 - inferior
response_trial_6_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_10b

response_trial_6_1_10b_sims <- run_trials(response_trial_6_1_10b, n_rep = 10000, base_seed = 123)
response_trial_6_1_10b_sims



# Simulation trial_6_1_11 - equivalent
response_trial_6_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_11a

response_trial_6_1_11a_sims <- run_trials(response_trial_6_1_11a, n_rep = 10000, base_seed = 123)
response_trial_6_1_11a_sims




# Simulation trial_6_1_11 - inferior
response_trial_6_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_11b

response_trial_6_1_11b_sims <- run_trials(response_trial_6_1_11b, n_rep = 10000, base_seed = 123)
response_trial_6_1_11b_sims



# Simulation trial_6_1_12 - equivalent
response_trial_6_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_12a

response_trial_6_1_12a_sims <- run_trials(response_trial_6_1_12a, n_rep = 10000, base_seed = 123)
response_trial_6_1_12a_sims




# Simulation trial_6_1_12 - inferior
response_trial_6_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_12b

response_trial_6_1_12b_sims <- run_trials(response_trial_6_1_12b, n_rep = 10000, base_seed = 123)
response_trial_6_1_12b_sims





# Simulation trial_6_1_13 - equivalent
response_trial_6_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_13a

response_trial_6_1_13a_sims <- run_trials(response_trial_6_1_13a, n_rep = 10000, base_seed = 123)
response_trial_6_1_13a_sims




# Simulation trial_6_1_13 - inferior
response_trial_6_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_13b

response_trial_6_1_13b_sims <- run_trials(response_trial_6_1_13b, n_rep = 10000, base_seed = 123)
response_trial_6_1_13b_sims



# Simulation trial_6_1_14 - equivalent
response_trial_6_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_14a

response_trial_6_1_14a_sims <- run_trials(response_trial_6_1_14a, n_rep = 10000, base_seed = 123)
response_trial_6_1_14a_sims




# Simulation trial_6_1_14 - inferior
response_trial_6_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_14b

response_trial_6_1_14b_sims <- run_trials(response_trial_6_1_14b, n_rep = 10000, base_seed = 123)
response_trial_6_1_14b_sims



# Simulation trial_6_1_15 - equivalent
response_trial_6_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_15a

response_trial_6_1_15a_sims <- run_trials(response_trial_6_1_15a, n_rep = 10000, base_seed = 123)
response_trial_6_1_15a_sims




# Simulation trial_6_1_15 - inferior
response_trial_6_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_15b

response_trial_6_1_15b_sims <- run_trials(response_trial_6_1_15b, n_rep = 10000, base_seed = 123)
response_trial_6_1_15b_sims






# Simulation trial_6_1_16 - equivalent
response_trial_6_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_16a

response_trial_6_1_16a_sims <- run_trials(response_trial_6_1_16a, n_rep = 10000, base_seed = 123)
response_trial_6_1_16a_sims




# Simulation trial_6_1_16 - inferior
response_trial_6_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_16b

response_trial_6_1_16b_sims <- run_trials(response_trial_6_1_16b, n_rep = 10000, base_seed = 123)
response_trial_6_1_16b_sims



# Simulation trial_6_1_17 - equivalent
response_trial_6_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_17a

response_trial_6_1_17a_sims <- run_trials(response_trial_6_1_17a, n_rep = 10000, base_seed = 123)
response_trial_6_1_17a_sims




# Simulation trial_6_1_17 - inferior
response_trial_6_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_17b

response_trial_6_1_17b_sims <- run_trials(response_trial_6_1_17b, n_rep = 10000, base_seed = 123)
response_trial_6_1_17b_sims



# Simulation trial_6_1_18 - equivalent
response_trial_6_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_18a

response_trial_6_1_18a_sims <- run_trials(response_trial_6_1_18a, n_rep = 10000, base_seed = 123)
response_trial_6_1_18a_sims




# Simulation trial_6_1_18 - inferior
response_trial_6_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_1_18b

response_trial_6_1_18b_sims <- run_trials(response_trial_6_1_18b, n_rep = 10000, base_seed = 123)
response_trial_6_1_18b_sims




# Simulation trial_6_2_1 - equivalent
response_trial_6_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_1a

response_trial_6_2_1a_sims <- run_trials(response_trial_6_2_1a, n_rep = 10000, base_seed = 123)
response_trial_6_2_1a_sims




# Simulation trial_6_2_1 - inferior
response_trial_6_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_1b

response_trial_6_2_1b_sims <- run_trials(response_trial_6_2_1b, n_rep = 10000, base_seed = 123)
response_trial_6_2_1b_sims



# Simulation trial_6_2_2 - equivalent
response_trial_6_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_2a

response_trial_6_2_2a_sims <- run_trials(response_trial_6_2_2a, n_rep = 10000, base_seed = 123)
response_trial_6_2_2a_sims




# Simulation trial_6_2_2 - inferior
response_trial_6_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_2b

response_trial_6_2_2b_sims <- run_trials(response_trial_6_2_2b, n_rep = 10000, base_seed = 123)
response_trial_6_2_2b_sims



# Simulation trial_6_2_3 - equivalent
response_trial_6_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_3a

response_trial_6_2_3a_sims <- run_trials(response_trial_6_2_3a, n_rep = 10000, base_seed = 123)
response_trial_6_2_3a_sims




# Simulation trial_6_2_3 - inferior
response_trial_6_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_3b

response_trial_6_2_3b_sims <- run_trials(response_trial_6_2_3b, n_rep = 10000, base_seed = 123)
response_trial_6_2_3b_sims




# Simulation trial_6_2_4 - equivalent
response_trial_6_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_4a

response_trial_6_2_4a_sims <- run_trials(response_trial_6_2_4a, n_rep = 10000, base_seed = 123)
response_trial_6_2_4a_sims




# Simulation trial_6_2_4 - inferior
response_trial_6_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_4b

response_trial_6_2_4b_sims <- run_trials(response_trial_6_2_4b, n_rep = 10000, base_seed = 123)
response_trial_6_2_4b_sims



# Simulation trial_6_2_5 - equivalent
response_trial_6_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_5a

response_trial_6_2_5a_sims <- run_trials(response_trial_6_2_5a, n_rep = 10000, base_seed = 123)
response_trial_6_2_5a_sims




# Simulation trial_6_2_5 - inferior
response_trial_6_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_5b

response_trial_6_2_5b_sims <- run_trials(response_trial_6_2_5b, n_rep = 10000, base_seed = 123)
response_trial_6_2_5b_sims



# Simulation trial_6_2_6 - equivalent
response_trial_6_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_6a

response_trial_6_2_6a_sims <- run_trials(response_trial_6_2_6a, n_rep = 10000, base_seed = 123)
response_trial_6_2_6a_sims




# Simulation trial_6_2_6 - inferior
response_trial_6_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_6b

response_trial_6_2_6b_sims <- run_trials(response_trial_6_2_6b, n_rep = 10000, base_seed = 123)
response_trial_6_2_6b_sims




# Simulation trial_6_2_7 - equivalent
response_trial_6_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_7a

response_trial_6_2_7a_sims <- run_trials(response_trial_6_2_7a, n_rep = 10000, base_seed = 123)
response_trial_6_2_7a_sims




# Simulation trial_6_2_7 - inferior
response_trial_6_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_7b

response_trial_6_2_7b_sims <- run_trials(response_trial_6_2_7b, n_rep = 10000, base_seed = 123)
response_trial_6_2_7b_sims



# Simulation trial_6_2_8 - equivalent
response_trial_6_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_8a

response_trial_6_2_8a_sims <- run_trials(response_trial_6_2_8a, n_rep = 10000, base_seed = 123)
response_trial_6_2_8a_sims




# Simulation trial_6_2_8 - inferior
response_trial_6_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_8b

response_trial_6_2_8b_sims <- run_trials(response_trial_6_2_8b, n_rep = 10000, base_seed = 123)
response_trial_6_2_8b_sims



# Simulation trial_6_2_9 - equivalent
response_trial_6_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_9a

response_trial_6_2_9a_sims <- run_trials(response_trial_6_2_9a, n_rep = 10000, base_seed = 123)
response_trial_6_2_9a_sims




# Simulation trial_6_2_9 - inferior
response_trial_6_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_2_9b

response_trial_6_2_9b_sims <- run_trials(response_trial_6_2_9b, n_rep = 10000, base_seed = 123)
response_trial_6_2_9b_sims






# Simulation trial_6_2_10 - equivalent
response_trial_6_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_10a

response_trial_6_2_10a_sims <- run_trials(response_trial_6_2_10a, n_rep = 10000, base_seed = 123)
response_trial_6_2_10a_sims




# Simulation trial_6_2_10 - inferior
response_trial_6_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_10b

response_trial_6_2_10b_sims <- run_trials(response_trial_6_2_10b, n_rep = 10000, base_seed = 123)
response_trial_6_2_10b_sims



# Simulation trial_6_2_11 - equivalent
response_trial_6_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_11a

response_trial_6_2_11a_sims <- run_trials(response_trial_6_2_11a, n_rep = 10000, base_seed = 123)
response_trial_6_2_11a_sims




# Simulation trial_6_2_11 - inferior
response_trial_6_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_11b

response_trial_6_2_11b_sims <- run_trials(response_trial_6_2_11b, n_rep = 10000, base_seed = 123)
response_trial_6_2_11b_sims



# Simulation trial_6_2_12 - equivalent
response_trial_6_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_12a

response_trial_6_2_12a_sims <- run_trials(response_trial_6_2_12a, n_rep = 10000, base_seed = 123)
response_trial_6_2_12a_sims




# Simulation trial_6_2_12 - inferior
response_trial_6_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_12b

response_trial_6_2_12b_sims <- run_trials(response_trial_6_2_12b, n_rep = 10000, base_seed = 123)
response_trial_6_2_12b_sims





# Simulation trial_6_2_13 - equivalent
response_trial_6_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_13a

response_trial_6_2_13a_sims <- run_trials(response_trial_6_2_13a, n_rep = 10000, base_seed = 123)
response_trial_6_2_13a_sims




# Simulation trial_6_2_13 - inferior
response_trial_6_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_13b

response_trial_6_2_13b_sims <- run_trials(response_trial_6_2_13b, n_rep = 10000, base_seed = 123)
response_trial_6_2_13b_sims



# Simulation trial_6_2_14 - equivalent
response_trial_6_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_14a

response_trial_6_2_14a_sims <- run_trials(response_trial_6_2_14a, n_rep = 10000, base_seed = 123)
response_trial_6_2_14a_sims




# Simulation trial_6_2_14 - inferior
response_trial_6_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_14b

response_trial_6_2_14b_sims <- run_trials(response_trial_6_2_14b, n_rep = 10000, base_seed = 123)
response_trial_6_2_14b_sims



# Simulation trial_6_2_15 - equivalent
response_trial_6_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_15a

response_trial_6_2_15a_sims <- run_trials(response_trial_6_2_15a, n_rep = 10000, base_seed = 123)
response_trial_6_2_15a_sims




# Simulation trial_6_2_15 - inferior
response_trial_6_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_15b

response_trial_6_2_15b_sims <- run_trials(response_trial_6_2_15b, n_rep = 10000, base_seed = 123)
response_trial_6_2_15b_sims






# Simulation trial_6_2_16 - equivalent
response_trial_6_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_16a

response_trial_6_2_16a_sims <- run_trials(response_trial_6_2_16a, n_rep = 10000, base_seed = 123)
response_trial_6_2_16a_sims




# Simulation trial_6_2_16 - inferior
response_trial_6_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_16b

response_trial_6_2_16b_sims <- run_trials(response_trial_6_2_16b, n_rep = 10000, base_seed = 123)
response_trial_6_2_16b_sims



# Simulation trial_6_2_17 - equivalent
response_trial_6_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_17a

response_trial_6_2_17a_sims <- run_trials(response_trial_6_2_17a, n_rep = 10000, base_seed = 123)
response_trial_6_2_17a_sims




# Simulation trial_6_2_17 - inferior
response_trial_6_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_17b

response_trial_6_2_17b_sims <- run_trials(response_trial_6_2_17b, n_rep = 10000, base_seed = 123)
response_trial_6_2_17b_sims



# Simulation trial_6_2_18 - equivalent
response_trial_6_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_18a

response_trial_6_2_18a_sims <- run_trials(response_trial_6_2_18a, n_rep = 10000, base_seed = 123)
response_trial_6_2_18a_sims




# Simulation trial_6_2_18 - inferior
response_trial_6_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_2_18b

response_trial_6_2_18b_sims <- run_trials(response_trial_6_2_18b, n_rep = 10000, base_seed = 123)
response_trial_6_2_18b_sims




# Simulation trial_6_3_1 - equivalent
response_trial_6_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_1a

response_trial_6_3_1a_sims <- run_trials(response_trial_6_3_1a, n_rep = 10000, base_seed = 123)
response_trial_6_3_1a_sims




# Simulation trial_6_3_1 - inferior
response_trial_6_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_1b

response_trial_6_3_1b_sims <- run_trials(response_trial_6_3_1b, n_rep = 10000, base_seed = 123)
response_trial_6_3_1b_sims



# Simulation trial_6_3_2 - equivalent
response_trial_6_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_2a

response_trial_6_3_2a_sims <- run_trials(response_trial_6_3_2a, n_rep = 10000, base_seed = 123)
response_trial_6_3_2a_sims




# Simulation trial_6_3_2 - inferior
response_trial_6_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_2b

response_trial_6_3_2b_sims <- run_trials(response_trial_6_3_2b, n_rep = 10000, base_seed = 123)
response_trial_6_3_2b_sims



# Simulation trial_6_3_3 - equivalent
response_trial_6_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_3a

response_trial_6_3_3a_sims <- run_trials(response_trial_6_3_3a, n_rep = 10000, base_seed = 123)
response_trial_6_3_3a_sims




# Simulation trial_6_3_3 - inferior
response_trial_6_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_3b

response_trial_6_3_3b_sims <- run_trials(response_trial_6_3_3b, n_rep = 10000, base_seed = 123)
response_trial_6_3_3b_sims




# Simulation trial_6_3_4 - equivalent
response_trial_6_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_4a

response_trial_6_3_4a_sims <- run_trials(response_trial_6_3_4a, n_rep = 10000, base_seed = 123)
response_trial_6_3_4a_sims




# Simulation trial_6_3_4 - inferior
response_trial_6_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_4b

response_trial_6_3_4b_sims <- run_trials(response_trial_6_3_4b, n_rep = 10000, base_seed = 123)
response_trial_6_3_4b_sims



# Simulation trial_6_3_5 - equivalent
response_trial_6_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_5a

response_trial_6_3_5a_sims <- run_trials(response_trial_6_3_5a, n_rep = 10000, base_seed = 123)
response_trial_6_3_5a_sims




# Simulation trial_6_3_5 - inferior
response_trial_6_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_5b

response_trial_6_3_5b_sims <- run_trials(response_trial_6_3_5b, n_rep = 10000, base_seed = 123)
response_trial_6_3_5b_sims



# Simulation trial_6_3_6 - equivalent
response_trial_6_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_6a

response_trial_6_3_6a_sims <- run_trials(response_trial_6_3_6a, n_rep = 10000, base_seed = 123)
response_trial_6_3_6a_sims




# Simulation trial_6_3_6 - inferior
response_trial_6_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_6b

response_trial_6_3_6b_sims <- run_trials(response_trial_6_3_6b, n_rep = 10000, base_seed = 123)
response_trial_6_3_6b_sims




# Simulation trial_6_3_7 - equivalent
response_trial_6_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_7a

response_trial_6_3_7a_sims <- run_trials(response_trial_6_3_7a, n_rep = 10000, base_seed = 123)
response_trial_6_3_7a_sims




# Simulation trial_6_3_7 - inferior
response_trial_6_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_7b

response_trial_6_3_7b_sims <- run_trials(response_trial_6_3_7b, n_rep = 10000, base_seed = 123)
response_trial_6_3_7b_sims



# Simulation trial_6_3_8 - equivalent
response_trial_6_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_8a

response_trial_6_3_8a_sims <- run_trials(response_trial_6_3_8a, n_rep = 10000, base_seed = 123)
response_trial_6_3_8a_sims




# Simulation trial_6_3_8 - inferior
response_trial_6_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_8b

response_trial_6_3_8b_sims <- run_trials(response_trial_6_3_8b, n_rep = 10000, base_seed = 123)
response_trial_6_3_8b_sims



# Simulation trial_6_3_9 - equivalent
response_trial_6_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_9a

response_trial_6_3_9a_sims <- run_trials(response_trial_6_3_9a, n_rep = 10000, base_seed = 123)
response_trial_6_3_9a_sims




# Simulation trial_6_3_9 - inferior
response_trial_6_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 420, by = 40),
                                           randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_6_3_9b

response_trial_6_3_9b_sims <- run_trials(response_trial_6_3_9b, n_rep = 10000, base_seed = 123)
response_trial_6_3_9b_sims






# Simulation trial_6_3_10 - equivalent
response_trial_6_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_10a

response_trial_6_3_10a_sims <- run_trials(response_trial_6_3_10a, n_rep = 10000, base_seed = 123)
response_trial_6_3_10a_sims




# Simulation trial_6_3_10 - inferior
response_trial_6_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_10b

response_trial_6_3_10b_sims <- run_trials(response_trial_6_3_10b, n_rep = 10000, base_seed = 123)
response_trial_6_3_10b_sims



# Simulation trial_6_3_11 - equivalent
response_trial_6_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_11a

response_trial_6_3_11a_sims <- run_trials(response_trial_6_3_11a, n_rep = 10000, base_seed = 123)
response_trial_6_3_11a_sims




# Simulation trial_6_3_11 - inferior
response_trial_6_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_11b

response_trial_6_3_11b_sims <- run_trials(response_trial_6_3_11b, n_rep = 10000, base_seed = 123)
response_trial_6_3_11b_sims



# Simulation trial_6_3_12 - equivalent
response_trial_6_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_12a

response_trial_6_3_12a_sims <- run_trials(response_trial_6_3_12a, n_rep = 10000, base_seed = 123)
response_trial_6_3_12a_sims




# Simulation trial_6_3_12 - inferior
response_trial_6_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_12b

response_trial_6_3_12b_sims <- run_trials(response_trial_6_3_12b, n_rep = 10000, base_seed = 123)
response_trial_6_3_12b_sims





# Simulation trial_6_3_13 - equivalent
response_trial_6_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_13a

response_trial_6_3_13a_sims <- run_trials(response_trial_6_3_13a, n_rep = 10000, base_seed = 123)
response_trial_6_3_13a_sims




# Simulation trial_6_3_13 - inferior
response_trial_6_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_13b

response_trial_6_3_13b_sims <- run_trials(response_trial_6_3_13b, n_rep = 10000, base_seed = 123)
response_trial_6_3_13b_sims



# Simulation trial_6_3_14 - equivalent
response_trial_6_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_14a

response_trial_6_3_14a_sims <- run_trials(response_trial_6_3_14a, n_rep = 10000, base_seed = 123)
response_trial_6_3_14a_sims




# Simulation trial_6_3_14 - inferior
response_trial_6_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_14b

response_trial_6_3_14b_sims <- run_trials(response_trial_6_3_14b, n_rep = 10000, base_seed = 123)
response_trial_6_3_14b_sims



# Simulation trial_6_3_15 - equivalent
response_trial_6_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_15a

response_trial_6_3_15a_sims <- run_trials(response_trial_6_3_15a, n_rep = 10000, base_seed = 123)
response_trial_6_3_15a_sims




# Simulation trial_6_3_15 - inferior
response_trial_6_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_15b

response_trial_6_3_15b_sims <- run_trials(response_trial_6_3_15b, n_rep = 10000, base_seed = 123)
response_trial_6_3_15b_sims






# Simulation trial_6_3_16 - equivalent
response_trial_6_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_16a

response_trial_6_3_16a_sims <- run_trials(response_trial_6_3_16a, n_rep = 10000, base_seed = 123)
response_trial_6_3_16a_sims




# Simulation trial_6_3_16 - inferior
response_trial_6_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_16b

response_trial_6_3_16b_sims <- run_trials(response_trial_6_3_16b, n_rep = 10000, base_seed = 123)
response_trial_6_3_16b_sims



# Simulation trial_6_3_17 - equivalent
response_trial_6_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_17a

response_trial_6_3_17a_sims <- run_trials(response_trial_6_3_17a, n_rep = 10000, base_seed = 123)
response_trial_6_3_17a_sims




# Simulation trial_6_3_17 - inferior
response_trial_6_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_17b

response_trial_6_3_17b_sims <- run_trials(response_trial_6_3_17b, n_rep = 10000, base_seed = 123)
response_trial_6_3_17b_sims



# Simulation trial_6_3_18 - equivalent
response_trial_6_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_18a

response_trial_6_3_18a_sims <- run_trials(response_trial_6_3_18a, n_rep = 10000, base_seed = 123)
response_trial_6_3_18a_sims




# Simulation trial_6_3_18 - inferior
response_trial_6_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 420, by = 40),
                                            randomised_at_looks = seq(from = 103, to = 423, by = 40),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_6_3_18b

response_trial_6_3_18b_sims <- run_trials(response_trial_6_3_18b, n_rep = 10000, base_seed = 123)
response_trial_6_3_18b_sims




# Simulation trial_7_1_1 - equivalent
response_trial_7_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_1a

response_trial_7_1_1a_sims <- run_trials(response_trial_7_1_1a, n_rep = 10000, base_seed = 123)
response_trial_7_1_1a_sims




# Simulation trial_7_1_1 - inferior
response_trial_7_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_1b

response_trial_7_1_1b_sims <- run_trials(response_trial_7_1_1b, n_rep = 10000, base_seed = 123)
response_trial_7_1_1b_sims



# Simulation trial_7_1_2 - equivalent
response_trial_7_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_2a

response_trial_7_1_2a_sims <- run_trials(response_trial_7_1_2a, n_rep = 10000, base_seed = 123)
response_trial_7_1_2a_sims




# Simulation trial_7_1_2 - inferior
response_trial_7_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_2b

response_trial_7_1_2b_sims <- run_trials(response_trial_7_1_2b, n_rep = 10000, base_seed = 123)
response_trial_7_1_2b_sims



# Simulation trial_7_1_3 - equivalent
response_trial_7_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_3a

response_trial_7_1_3a_sims <- run_trials(response_trial_7_1_3a, n_rep = 10000, base_seed = 123)
response_trial_7_1_3a_sims




# Simulation trial_7_1_3 - inferior
response_trial_7_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_3b

response_trial_7_1_3b_sims <- run_trials(response_trial_7_1_3b, n_rep = 10000, base_seed = 123)
response_trial_7_1_3b_sims




# Simulation trial_7_1_4 - equivalent
response_trial_7_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_4a

response_trial_7_1_4a_sims <- run_trials(response_trial_7_1_4a, n_rep = 10000, base_seed = 123)
response_trial_7_1_4a_sims




# Simulation trial_7_1_4 - inferior
response_trial_7_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_4b

response_trial_7_1_4b_sims <- run_trials(response_trial_7_1_4b, n_rep = 10000, base_seed = 123)
response_trial_7_1_4b_sims



# Simulation trial_7_1_5 - equivalent
response_trial_7_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_5a

response_trial_7_1_5a_sims <- run_trials(response_trial_7_1_5a, n_rep = 10000, base_seed = 123)
response_trial_7_1_5a_sims




# Simulation trial_7_1_5 - inferior
response_trial_7_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_5b

response_trial_7_1_5b_sims <- run_trials(response_trial_7_1_5b, n_rep = 10000, base_seed = 123)
response_trial_7_1_5b_sims



# Simulation trial_7_1_6 - equivalent
response_trial_7_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_6a

response_trial_7_1_6a_sims <- run_trials(response_trial_7_1_6a, n_rep = 10000, base_seed = 123)
response_trial_7_1_6a_sims




# Simulation trial_7_1_6 - inferior
response_trial_7_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_6b

response_trial_7_1_6b_sims <- run_trials(response_trial_7_1_6b, n_rep = 10000, base_seed = 123)
response_trial_7_1_6b_sims




# Simulation trial_7_1_7 - equivalent
response_trial_7_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_7a

response_trial_7_1_7a_sims <- run_trials(response_trial_7_1_7a, n_rep = 10000, base_seed = 123)
response_trial_7_1_7a_sims




# Simulation trial_7_1_7 - inferior
response_trial_7_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_7b

response_trial_7_1_7b_sims <- run_trials(response_trial_7_1_7b, n_rep = 10000, base_seed = 123)
response_trial_7_1_7b_sims



# Simulation trial_7_1_8 - equivalent
response_trial_7_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_8a

response_trial_7_1_8a_sims <- run_trials(response_trial_7_1_8a, n_rep = 10000, base_seed = 123)
response_trial_7_1_8a_sims




# Simulation trial_7_1_8 - inferior
response_trial_7_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_8b

response_trial_7_1_8b_sims <- run_trials(response_trial_7_1_8b, n_rep = 10000, base_seed = 123)
response_trial_7_1_8b_sims



# Simulation trial_7_1_9 - equivalent
response_trial_7_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_9a

response_trial_7_1_9a_sims <- run_trials(response_trial_7_1_9a, n_rep = 10000, base_seed = 123)
response_trial_7_1_9a_sims




# Simulation trial_7_1_9 - inferior
response_trial_7_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_1_9b

response_trial_7_1_9b_sims <- run_trials(response_trial_7_1_9b, n_rep = 10000, base_seed = 123)
response_trial_7_1_9b_sims






# Simulation trial_7_1_10 - equivalent
response_trial_7_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_10a

response_trial_7_1_10a_sims <- run_trials(response_trial_7_1_10a, n_rep = 10000, base_seed = 123)
response_trial_7_1_10a_sims




# Simulation trial_7_1_10 - inferior
response_trial_7_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_10b

response_trial_7_1_10b_sims <- run_trials(response_trial_7_1_10b, n_rep = 10000, base_seed = 123)
response_trial_7_1_10b_sims



# Simulation trial_7_1_11 - equivalent
response_trial_7_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_11a

response_trial_7_1_11a_sims <- run_trials(response_trial_7_1_11a, n_rep = 10000, base_seed = 123)
response_trial_7_1_11a_sims




# Simulation trial_7_1_11 - inferior
response_trial_7_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_11b

response_trial_7_1_11b_sims <- run_trials(response_trial_7_1_11b, n_rep = 10000, base_seed = 123)
response_trial_7_1_11b_sims



# Simulation trial_7_1_12 - equivalent
response_trial_7_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_12a

response_trial_7_1_12a_sims <- run_trials(response_trial_7_1_12a, n_rep = 10000, base_seed = 123)
response_trial_7_1_12a_sims




# Simulation trial_7_1_12 - inferior
response_trial_7_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_12b

response_trial_7_1_12b_sims <- run_trials(response_trial_7_1_12b, n_rep = 10000, base_seed = 123)
response_trial_7_1_12b_sims





# Simulation trial_7_1_13 - equivalent
response_trial_7_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_13a

response_trial_7_1_13a_sims <- run_trials(response_trial_7_1_13a, n_rep = 10000, base_seed = 123)
response_trial_7_1_13a_sims




# Simulation trial_7_1_13 - inferior
response_trial_7_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_13b

response_trial_7_1_13b_sims <- run_trials(response_trial_7_1_13b, n_rep = 10000, base_seed = 123)
response_trial_7_1_13b_sims



# Simulation trial_7_1_14 - equivalent
response_trial_7_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_14a

response_trial_7_1_14a_sims <- run_trials(response_trial_7_1_14a, n_rep = 10000, base_seed = 123)
response_trial_7_1_14a_sims




# Simulation trial_7_1_14 - inferior
response_trial_7_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_14b

response_trial_7_1_14b_sims <- run_trials(response_trial_7_1_14b, n_rep = 10000, base_seed = 123)
response_trial_7_1_14b_sims



# Simulation trial_7_1_15 - equivalent
response_trial_7_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_15a

response_trial_7_1_15a_sims <- run_trials(response_trial_7_1_15a, n_rep = 10000, base_seed = 123)
response_trial_7_1_15a_sims




# Simulation trial_7_1_15 - inferior
response_trial_7_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_15b

response_trial_7_1_15b_sims <- run_trials(response_trial_7_1_15b, n_rep = 10000, base_seed = 123)
response_trial_7_1_15b_sims






# Simulation trial_7_1_16 - equivalent
response_trial_7_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_16a

response_trial_7_1_16a_sims <- run_trials(response_trial_7_1_16a, n_rep = 10000, base_seed = 123)
response_trial_7_1_16a_sims




# Simulation trial_7_1_16 - inferior
response_trial_7_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_16b

response_trial_7_1_16b_sims <- run_trials(response_trial_7_1_16b, n_rep = 10000, base_seed = 123)
response_trial_7_1_16b_sims



# Simulation trial_7_1_17 - equivalent
response_trial_7_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_17a

response_trial_7_1_17a_sims <- run_trials(response_trial_7_1_17a, n_rep = 10000, base_seed = 123)
response_trial_7_1_17a_sims




# Simulation trial_7_1_17 - inferior
response_trial_7_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_17b

response_trial_7_1_17b_sims <- run_trials(response_trial_7_1_17b, n_rep = 10000, base_seed = 123)
response_trial_7_1_17b_sims



# Simulation trial_7_1_18 - equivalent
response_trial_7_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_18a

response_trial_7_1_18a_sims <- run_trials(response_trial_7_1_18a, n_rep = 10000, base_seed = 123)
response_trial_7_1_18a_sims




# Simulation trial_7_1_18 - inferior
response_trial_7_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_1_18b

response_trial_7_1_18b_sims <- run_trials(response_trial_7_1_18b, n_rep = 10000, base_seed = 123)
response_trial_7_1_18b_sims




# Simulation trial_7_2_1 - equivalent
response_trial_7_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_1a

response_trial_7_2_1a_sims <- run_trials(response_trial_7_2_1a, n_rep = 10000, base_seed = 123)
response_trial_7_2_1a_sims




# Simulation trial_7_2_1 - inferior
response_trial_7_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_1b

response_trial_7_2_1b_sims <- run_trials(response_trial_7_2_1b, n_rep = 10000, base_seed = 123)
response_trial_7_2_1b_sims



# Simulation trial_7_2_2 - equivalent
response_trial_7_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_2a

response_trial_7_2_2a_sims <- run_trials(response_trial_7_2_2a, n_rep = 10000, base_seed = 123)
response_trial_7_2_2a_sims




# Simulation trial_7_2_2 - inferior
response_trial_7_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_2b

response_trial_7_2_2b_sims <- run_trials(response_trial_7_2_2b, n_rep = 10000, base_seed = 123)
response_trial_7_2_2b_sims



# Simulation trial_7_2_3 - equivalent
response_trial_7_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_3a

response_trial_7_2_3a_sims <- run_trials(response_trial_7_2_3a, n_rep = 10000, base_seed = 123)
response_trial_7_2_3a_sims




# Simulation trial_7_2_3 - inferior
response_trial_7_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_3b

response_trial_7_2_3b_sims <- run_trials(response_trial_7_2_3b, n_rep = 10000, base_seed = 123)
response_trial_7_2_3b_sims




# Simulation trial_7_2_4 - equivalent
response_trial_7_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_4a

response_trial_7_2_4a_sims <- run_trials(response_trial_7_2_4a, n_rep = 10000, base_seed = 123)
response_trial_7_2_4a_sims




# Simulation trial_7_2_4 - inferior
response_trial_7_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_4b

response_trial_7_2_4b_sims <- run_trials(response_trial_7_2_4b, n_rep = 10000, base_seed = 123)
response_trial_7_2_4b_sims



# Simulation trial_7_2_5 - equivalent
response_trial_7_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_5a

response_trial_7_2_5a_sims <- run_trials(response_trial_7_2_5a, n_rep = 10000, base_seed = 123)
response_trial_7_2_5a_sims




# Simulation trial_7_2_5 - inferior
response_trial_7_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_5b

response_trial_7_2_5b_sims <- run_trials(response_trial_7_2_5b, n_rep = 10000, base_seed = 123)
response_trial_7_2_5b_sims



# Simulation trial_7_2_6 - equivalent
response_trial_7_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_6a

response_trial_7_2_6a_sims <- run_trials(response_trial_7_2_6a, n_rep = 10000, base_seed = 123)
response_trial_7_2_6a_sims




# Simulation trial_7_2_6 - inferior
response_trial_7_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_6b

response_trial_7_2_6b_sims <- run_trials(response_trial_7_2_6b, n_rep = 10000, base_seed = 123)
response_trial_7_2_6b_sims




# Simulation trial_7_2_7 - equivalent
response_trial_7_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_7a

response_trial_7_2_7a_sims <- run_trials(response_trial_7_2_7a, n_rep = 10000, base_seed = 123)
response_trial_7_2_7a_sims




# Simulation trial_7_2_7 - inferior
response_trial_7_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_7b

response_trial_7_2_7b_sims <- run_trials(response_trial_7_2_7b, n_rep = 10000, base_seed = 123)
response_trial_7_2_7b_sims



# Simulation trial_7_2_8 - equivalent
response_trial_7_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_8a

response_trial_7_2_8a_sims <- run_trials(response_trial_7_2_8a, n_rep = 10000, base_seed = 123)
response_trial_7_2_8a_sims




# Simulation trial_7_2_8 - inferior
response_trial_7_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_8b

response_trial_7_2_8b_sims <- run_trials(response_trial_7_2_8b, n_rep = 10000, base_seed = 123)
response_trial_7_2_8b_sims



# Simulation trial_7_2_9 - equivalent
response_trial_7_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_9a

response_trial_7_2_9a_sims <- run_trials(response_trial_7_2_9a, n_rep = 10000, base_seed = 123)
response_trial_7_2_9a_sims




# Simulation trial_7_2_9 - inferior
response_trial_7_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_2_9b

response_trial_7_2_9b_sims <- run_trials(response_trial_7_2_9b, n_rep = 10000, base_seed = 123)
response_trial_7_2_9b_sims






# Simulation trial_7_2_10 - equivalent
response_trial_7_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_10a

response_trial_7_2_10a_sims <- run_trials(response_trial_7_2_10a, n_rep = 10000, base_seed = 123)
response_trial_7_2_10a_sims




# Simulation trial_7_2_10 - inferior
response_trial_7_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_10b

response_trial_7_2_10b_sims <- run_trials(response_trial_7_2_10b, n_rep = 10000, base_seed = 123)
response_trial_7_2_10b_sims



# Simulation trial_7_2_11 - equivalent
response_trial_7_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_11a

response_trial_7_2_11a_sims <- run_trials(response_trial_7_2_11a, n_rep = 10000, base_seed = 123)
response_trial_7_2_11a_sims




# Simulation trial_7_2_11 - inferior
response_trial_7_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_11b

response_trial_7_2_11b_sims <- run_trials(response_trial_7_2_11b, n_rep = 10000, base_seed = 123)
response_trial_7_2_11b_sims



# Simulation trial_7_2_12 - equivalent
response_trial_7_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_12a

response_trial_7_2_12a_sims <- run_trials(response_trial_7_2_12a, n_rep = 10000, base_seed = 123)
response_trial_7_2_12a_sims




# Simulation trial_7_2_12 - inferior
response_trial_7_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_12b

response_trial_7_2_12b_sims <- run_trials(response_trial_7_2_12b, n_rep = 10000, base_seed = 123)
response_trial_7_2_12b_sims





# Simulation trial_7_2_13 - equivalent
response_trial_7_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_13a

response_trial_7_2_13a_sims <- run_trials(response_trial_7_2_13a, n_rep = 10000, base_seed = 123)
response_trial_7_2_13a_sims




# Simulation trial_7_2_13 - inferior
response_trial_7_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_13b

response_trial_7_2_13b_sims <- run_trials(response_trial_7_2_13b, n_rep = 10000, base_seed = 123)
response_trial_7_2_13b_sims



# Simulation trial_7_2_14 - equivalent
response_trial_7_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_14a

response_trial_7_2_14a_sims <- run_trials(response_trial_7_2_14a, n_rep = 10000, base_seed = 123)
response_trial_7_2_14a_sims




# Simulation trial_7_2_14 - inferior
response_trial_7_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_14b

response_trial_7_2_14b_sims <- run_trials(response_trial_7_2_14b, n_rep = 10000, base_seed = 123)
response_trial_7_2_14b_sims



# Simulation trial_7_2_15 - equivalent
response_trial_7_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_15a

response_trial_7_2_15a_sims <- run_trials(response_trial_7_2_15a, n_rep = 10000, base_seed = 123)
response_trial_7_2_15a_sims




# Simulation trial_7_2_15 - inferior
response_trial_7_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_15b

response_trial_7_2_15b_sims <- run_trials(response_trial_7_2_15b, n_rep = 10000, base_seed = 123)
response_trial_7_2_15b_sims






# Simulation trial_7_2_16 - equivalent
response_trial_7_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_16a

response_trial_7_2_16a_sims <- run_trials(response_trial_7_2_16a, n_rep = 10000, base_seed = 123)
response_trial_7_2_16a_sims




# Simulation trial_7_2_16 - inferior
response_trial_7_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_16b

response_trial_7_2_16b_sims <- run_trials(response_trial_7_2_16b, n_rep = 10000, base_seed = 123)
response_trial_7_2_16b_sims



# Simulation trial_7_2_17 - equivalent
response_trial_7_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_17a

response_trial_7_2_17a_sims <- run_trials(response_trial_7_2_17a, n_rep = 10000, base_seed = 123)
response_trial_7_2_17a_sims




# Simulation trial_7_2_17 - inferior
response_trial_7_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_17b

response_trial_7_2_17b_sims <- run_trials(response_trial_7_2_17b, n_rep = 10000, base_seed = 123)
response_trial_7_2_17b_sims



# Simulation trial_7_2_18 - equivalent
response_trial_7_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_18a

response_trial_7_2_18a_sims <- run_trials(response_trial_7_2_18a, n_rep = 10000, base_seed = 123)
response_trial_7_2_18a_sims




# Simulation trial_7_2_18 - inferior
response_trial_7_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_2_18b

response_trial_7_2_18b_sims <- run_trials(response_trial_7_2_18b, n_rep = 10000, base_seed = 123)
response_trial_7_2_18b_sims




# Simulation trial_7_3_1 - equivalent
response_trial_7_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_1a

response_trial_7_3_1a_sims <- run_trials(response_trial_7_3_1a, n_rep = 10000, base_seed = 123)
response_trial_7_3_1a_sims




# Simulation trial_7_3_1 - inferior
response_trial_7_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_1b

response_trial_7_3_1b_sims <- run_trials(response_trial_7_3_1b, n_rep = 10000, base_seed = 123)
response_trial_7_3_1b_sims



# Simulation trial_7_3_2 - equivalent
response_trial_7_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_2a

response_trial_7_3_2a_sims <- run_trials(response_trial_7_3_2a, n_rep = 10000, base_seed = 123)
response_trial_7_3_2a_sims




# Simulation trial_7_3_2 - inferior
response_trial_7_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_2b

response_trial_7_3_2b_sims <- run_trials(response_trial_7_3_2b, n_rep = 10000, base_seed = 123)
response_trial_7_3_2b_sims



# Simulation trial_7_3_3 - equivalent
response_trial_7_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_3a

response_trial_7_3_3a_sims <- run_trials(response_trial_7_3_3a, n_rep = 10000, base_seed = 123)
response_trial_7_3_3a_sims




# Simulation trial_7_3_3 - inferior
response_trial_7_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_3b

response_trial_7_3_3b_sims <- run_trials(response_trial_7_3_3b, n_rep = 10000, base_seed = 123)
response_trial_7_3_3b_sims




# Simulation trial_7_3_4 - equivalent
response_trial_7_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_4a

response_trial_7_3_4a_sims <- run_trials(response_trial_7_3_4a, n_rep = 10000, base_seed = 123)
response_trial_7_3_4a_sims




# Simulation trial_7_3_4 - inferior
response_trial_7_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_4b

response_trial_7_3_4b_sims <- run_trials(response_trial_7_3_4b, n_rep = 10000, base_seed = 123)
response_trial_7_3_4b_sims



# Simulation trial_7_3_5 - equivalent
response_trial_7_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_5a

response_trial_7_3_5a_sims <- run_trials(response_trial_7_3_5a, n_rep = 10000, base_seed = 123)
response_trial_7_3_5a_sims




# Simulation trial_7_3_5 - inferior
response_trial_7_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_5b

response_trial_7_3_5b_sims <- run_trials(response_trial_7_3_5b, n_rep = 10000, base_seed = 123)
response_trial_7_3_5b_sims



# Simulation trial_7_3_6 - equivalent
response_trial_7_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_6a

response_trial_7_3_6a_sims <- run_trials(response_trial_7_3_6a, n_rep = 10000, base_seed = 123)
response_trial_7_3_6a_sims




# Simulation trial_7_3_6 - inferior
response_trial_7_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_6b

response_trial_7_3_6b_sims <- run_trials(response_trial_7_3_6b, n_rep = 10000, base_seed = 123)
response_trial_7_3_6b_sims




# Simulation trial_7_3_7 - equivalent
response_trial_7_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_7a

response_trial_7_3_7a_sims <- run_trials(response_trial_7_3_7a, n_rep = 10000, base_seed = 123)
response_trial_7_3_7a_sims




# Simulation trial_7_3_7 - inferior
response_trial_7_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_7b

response_trial_7_3_7b_sims <- run_trials(response_trial_7_3_7b, n_rep = 10000, base_seed = 123)
response_trial_7_3_7b_sims



# Simulation trial_7_3_8 - equivalent
response_trial_7_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_8a

response_trial_7_3_8a_sims <- run_trials(response_trial_7_3_8a, n_rep = 10000, base_seed = 123)
response_trial_7_3_8a_sims




# Simulation trial_7_3_8 - inferior
response_trial_7_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_8b

response_trial_7_3_8b_sims <- run_trials(response_trial_7_3_8b, n_rep = 10000, base_seed = 123)
response_trial_7_3_8b_sims



# Simulation trial_7_3_9 - equivalent
response_trial_7_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_9a

response_trial_7_3_9a_sims <- run_trials(response_trial_7_3_9a, n_rep = 10000, base_seed = 123)
response_trial_7_3_9a_sims




# Simulation trial_7_3_9 - inferior
response_trial_7_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 50, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_7_3_9b

response_trial_7_3_9b_sims <- run_trials(response_trial_7_3_9b, n_rep = 10000, base_seed = 123)
response_trial_7_3_9b_sims






# Simulation trial_7_3_10 - equivalent
response_trial_7_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_10a

response_trial_7_3_10a_sims <- run_trials(response_trial_7_3_10a, n_rep = 10000, base_seed = 123)
response_trial_7_3_10a_sims




# Simulation trial_7_3_10 - inferior
response_trial_7_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_10b

response_trial_7_3_10b_sims <- run_trials(response_trial_7_3_10b, n_rep = 10000, base_seed = 123)
response_trial_7_3_10b_sims



# Simulation trial_7_3_11 - equivalent
response_trial_7_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_11a

response_trial_7_3_11a_sims <- run_trials(response_trial_7_3_11a, n_rep = 10000, base_seed = 123)
response_trial_7_3_11a_sims




# Simulation trial_7_3_11 - inferior
response_trial_7_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_11b

response_trial_7_3_11b_sims <- run_trials(response_trial_7_3_11b, n_rep = 10000, base_seed = 123)
response_trial_7_3_11b_sims



# Simulation trial_7_3_12 - equivalent
response_trial_7_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_12a

response_trial_7_3_12a_sims <- run_trials(response_trial_7_3_12a, n_rep = 10000, base_seed = 123)
response_trial_7_3_12a_sims




# Simulation trial_7_3_12 - inferior
response_trial_7_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_12b

response_trial_7_3_12b_sims <- run_trials(response_trial_7_3_12b, n_rep = 10000, base_seed = 123)
response_trial_7_3_12b_sims





# Simulation trial_7_3_13 - equivalent
response_trial_7_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_13a

response_trial_7_3_13a_sims <- run_trials(response_trial_7_3_13a, n_rep = 10000, base_seed = 123)
response_trial_7_3_13a_sims




# Simulation trial_7_3_13 - inferior
response_trial_7_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_13b

response_trial_7_3_13b_sims <- run_trials(response_trial_7_3_13b, n_rep = 10000, base_seed = 123)
response_trial_7_3_13b_sims



# Simulation trial_7_3_14 - equivalent
response_trial_7_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_14a

response_trial_7_3_14a_sims <- run_trials(response_trial_7_3_14a, n_rep = 10000, base_seed = 123)
response_trial_7_3_14a_sims




# Simulation trial_7_3_14 - inferior
response_trial_7_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_14b

response_trial_7_3_14b_sims <- run_trials(response_trial_7_3_14b, n_rep = 10000, base_seed = 123)
response_trial_7_3_14b_sims



# Simulation trial_7_3_15 - equivalent
response_trial_7_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_15a

response_trial_7_3_15a_sims <- run_trials(response_trial_7_3_15a, n_rep = 10000, base_seed = 123)
response_trial_7_3_15a_sims




# Simulation trial_7_3_15 - inferior
response_trial_7_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_15b

response_trial_7_3_15b_sims <- run_trials(response_trial_7_3_15b, n_rep = 10000, base_seed = 123)
response_trial_7_3_15b_sims






# Simulation trial_7_3_16 - equivalent
response_trial_7_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_16a

response_trial_7_3_16a_sims <- run_trials(response_trial_7_3_16a, n_rep = 10000, base_seed = 123)
response_trial_7_3_16a_sims




# Simulation trial_7_3_16 - inferior
response_trial_7_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_16b

response_trial_7_3_16b_sims <- run_trials(response_trial_7_3_16b, n_rep = 10000, base_seed = 123)
response_trial_7_3_16b_sims



# Simulation trial_7_3_17 - equivalent
response_trial_7_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_17a

response_trial_7_3_17a_sims <- run_trials(response_trial_7_3_17a, n_rep = 10000, base_seed = 123)
response_trial_7_3_17a_sims




# Simulation trial_7_3_17 - inferior
response_trial_7_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_17b

response_trial_7_3_17b_sims <- run_trials(response_trial_7_3_17b, n_rep = 10000, base_seed = 123)
response_trial_7_3_17b_sims



# Simulation trial_7_3_18 - equivalent
response_trial_7_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_18a

response_trial_7_3_18a_sims <- run_trials(response_trial_7_3_18a, n_rep = 10000, base_seed = 123)
response_trial_7_3_18a_sims




# Simulation trial_7_3_18 - inferior
response_trial_7_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 53, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_7_3_18b

response_trial_7_3_18b_sims <- run_trials(response_trial_7_3_18b, n_rep = 10000, base_seed = 123)
response_trial_7_3_18b_sims




# Simulation trial_8_1_1 - equivalent
response_trial_8_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_1a

response_trial_8_1_1a_sims <- run_trials(response_trial_8_1_1a, n_rep = 10000, base_seed = 123)
response_trial_8_1_1a_sims




# Simulation trial_8_1_1 - inferior
response_trial_8_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_1b

response_trial_8_1_1b_sims <- run_trials(response_trial_8_1_1b, n_rep = 10000, base_seed = 123)
response_trial_8_1_1b_sims



# Simulation trial_8_1_2 - equivalent
response_trial_8_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_2a

response_trial_8_1_2a_sims <- run_trials(response_trial_8_1_2a, n_rep = 10000, base_seed = 123)
response_trial_8_1_2a_sims




# Simulation trial_8_1_2 - inferior
response_trial_8_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_2b

response_trial_8_1_2b_sims <- run_trials(response_trial_8_1_2b, n_rep = 10000, base_seed = 123)
response_trial_8_1_2b_sims



# Simulation trial_8_1_3 - equivalent
response_trial_8_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_3a

response_trial_8_1_3a_sims <- run_trials(response_trial_8_1_3a, n_rep = 10000, base_seed = 123)
response_trial_8_1_3a_sims




# Simulation trial_8_1_3 - inferior
response_trial_8_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_3b

response_trial_8_1_3b_sims <- run_trials(response_trial_8_1_3b, n_rep = 10000, base_seed = 123)
response_trial_8_1_3b_sims




# Simulation trial_8_1_4 - equivalent
response_trial_8_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_4a

response_trial_8_1_4a_sims <- run_trials(response_trial_8_1_4a, n_rep = 10000, base_seed = 123)
response_trial_8_1_4a_sims




# Simulation trial_8_1_4 - inferior
response_trial_8_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_4b

response_trial_8_1_4b_sims <- run_trials(response_trial_8_1_4b, n_rep = 10000, base_seed = 123)
response_trial_8_1_4b_sims



# Simulation trial_8_1_5 - equivalent
response_trial_8_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_5a

response_trial_8_1_5a_sims <- run_trials(response_trial_8_1_5a, n_rep = 10000, base_seed = 123)
response_trial_8_1_5a_sims




# Simulation trial_8_1_5 - inferior
response_trial_8_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_5b

response_trial_8_1_5b_sims <- run_trials(response_trial_8_1_5b, n_rep = 10000, base_seed = 123)
response_trial_8_1_5b_sims



# Simulation trial_8_1_6 - equivalent
response_trial_8_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_6a

response_trial_8_1_6a_sims <- run_trials(response_trial_8_1_6a, n_rep = 10000, base_seed = 123)
response_trial_8_1_6a_sims




# Simulation trial_8_1_6 - inferior
response_trial_8_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_6b

response_trial_8_1_6b_sims <- run_trials(response_trial_8_1_6b, n_rep = 10000, base_seed = 123)
response_trial_8_1_6b_sims




# Simulation trial_8_1_7 - equivalent
response_trial_8_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_7a

response_trial_8_1_7a_sims <- run_trials(response_trial_8_1_7a, n_rep = 10000, base_seed = 123)
response_trial_8_1_7a_sims




# Simulation trial_8_1_7 - inferior
response_trial_8_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_7b

response_trial_8_1_7b_sims <- run_trials(response_trial_8_1_7b, n_rep = 10000, base_seed = 123)
response_trial_8_1_7b_sims



# Simulation trial_8_1_8 - equivalent
response_trial_8_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_8a

response_trial_8_1_8a_sims <- run_trials(response_trial_8_1_8a, n_rep = 10000, base_seed = 123)
response_trial_8_1_8a_sims




# Simulation trial_8_1_8 - inferior
response_trial_8_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_8b

response_trial_8_1_8b_sims <- run_trials(response_trial_8_1_8b, n_rep = 10000, base_seed = 123)
response_trial_8_1_8b_sims



# Simulation trial_8_1_9 - equivalent
response_trial_8_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_9a

response_trial_8_1_9a_sims <- run_trials(response_trial_8_1_9a, n_rep = 10000, base_seed = 123)
response_trial_8_1_9a_sims




# Simulation trial_8_1_9 - inferior
response_trial_8_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_1_9b

response_trial_8_1_9b_sims <- run_trials(response_trial_8_1_9b, n_rep = 10000, base_seed = 123)
response_trial_8_1_9b_sims






# Simulation trial_8_1_10 - equivalent
response_trial_8_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_10a

response_trial_8_1_10a_sims <- run_trials(response_trial_8_1_10a, n_rep = 10000, base_seed = 123)
response_trial_8_1_10a_sims




# Simulation trial_8_1_10 - inferior
response_trial_8_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_10b

response_trial_8_1_10b_sims <- run_trials(response_trial_8_1_10b, n_rep = 10000, base_seed = 123)
response_trial_8_1_10b_sims



# Simulation trial_8_1_11 - equivalent
response_trial_8_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_11a

response_trial_8_1_11a_sims <- run_trials(response_trial_8_1_11a, n_rep = 10000, base_seed = 123)
response_trial_8_1_11a_sims




# Simulation trial_8_1_11 - inferior
response_trial_8_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_11b

response_trial_8_1_11b_sims <- run_trials(response_trial_8_1_11b, n_rep = 10000, base_seed = 123)
response_trial_8_1_11b_sims



# Simulation trial_8_1_12 - equivalent
response_trial_8_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_12a

response_trial_8_1_12a_sims <- run_trials(response_trial_8_1_12a, n_rep = 10000, base_seed = 123)
response_trial_8_1_12a_sims




# Simulation trial_8_1_12 - inferior
response_trial_8_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_12b

response_trial_8_1_12b_sims <- run_trials(response_trial_8_1_12b, n_rep = 10000, base_seed = 123)
response_trial_8_1_12b_sims





# Simulation trial_8_1_13 - equivalent
response_trial_8_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_13a

response_trial_8_1_13a_sims <- run_trials(response_trial_8_1_13a, n_rep = 10000, base_seed = 123)
response_trial_8_1_13a_sims




# Simulation trial_8_1_13 - inferior
response_trial_8_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_13b

response_trial_8_1_13b_sims <- run_trials(response_trial_8_1_13b, n_rep = 10000, base_seed = 123)
response_trial_8_1_13b_sims



# Simulation trial_8_1_14 - equivalent
response_trial_8_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_14a

response_trial_8_1_14a_sims <- run_trials(response_trial_8_1_14a, n_rep = 10000, base_seed = 123)
response_trial_8_1_14a_sims




# Simulation trial_8_1_14 - inferior
response_trial_8_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_14b

response_trial_8_1_14b_sims <- run_trials(response_trial_8_1_14b, n_rep = 10000, base_seed = 123)
response_trial_8_1_14b_sims



# Simulation trial_8_1_15 - equivalent
response_trial_8_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_15a

response_trial_8_1_15a_sims <- run_trials(response_trial_8_1_15a, n_rep = 10000, base_seed = 123)
response_trial_8_1_15a_sims




# Simulation trial_8_1_15 - inferior
response_trial_8_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_15b

response_trial_8_1_15b_sims <- run_trials(response_trial_8_1_15b, n_rep = 10000, base_seed = 123)
response_trial_8_1_15b_sims






# Simulation trial_8_1_16 - equivalent
response_trial_8_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_16a

response_trial_8_1_16a_sims <- run_trials(response_trial_8_1_16a, n_rep = 10000, base_seed = 123)
response_trial_8_1_16a_sims




# Simulation trial_8_1_16 - inferior
response_trial_8_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_16b

response_trial_8_1_16b_sims <- run_trials(response_trial_8_1_16b, n_rep = 10000, base_seed = 123)
response_trial_8_1_16b_sims



# Simulation trial_8_1_17 - equivalent
response_trial_8_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_17a

response_trial_8_1_17a_sims <- run_trials(response_trial_8_1_17a, n_rep = 10000, base_seed = 123)
response_trial_8_1_17a_sims




# Simulation trial_8_1_17 - inferior
response_trial_8_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_17b

response_trial_8_1_17b_sims <- run_trials(response_trial_8_1_17b, n_rep = 10000, base_seed = 123)
response_trial_8_1_17b_sims



# Simulation trial_8_1_18 - equivalent
response_trial_8_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_18a

response_trial_8_1_18a_sims <- run_trials(response_trial_8_1_18a, n_rep = 10000, base_seed = 123)
response_trial_8_1_18a_sims




# Simulation trial_8_1_18 - inferior
response_trial_8_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_1_18b

response_trial_8_1_18b_sims <- run_trials(response_trial_8_1_18b, n_rep = 10000, base_seed = 123)
response_trial_8_1_18b_sims




# Simulation trial_8_2_1 - equivalent
response_trial_8_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_1a

response_trial_8_2_1a_sims <- run_trials(response_trial_8_2_1a, n_rep = 10000, base_seed = 123)
response_trial_8_2_1a_sims




# Simulation trial_8_2_1 - inferior
response_trial_8_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_1b

response_trial_8_2_1b_sims <- run_trials(response_trial_8_2_1b, n_rep = 10000, base_seed = 123)
response_trial_8_2_1b_sims



# Simulation trial_8_2_2 - equivalent
response_trial_8_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_2a

response_trial_8_2_2a_sims <- run_trials(response_trial_8_2_2a, n_rep = 10000, base_seed = 123)
response_trial_8_2_2a_sims




# Simulation trial_8_2_2 - inferior
response_trial_8_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_2b

response_trial_8_2_2b_sims <- run_trials(response_trial_8_2_2b, n_rep = 10000, base_seed = 123)
response_trial_8_2_2b_sims



# Simulation trial_8_2_3 - equivalent
response_trial_8_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_3a

response_trial_8_2_3a_sims <- run_trials(response_trial_8_2_3a, n_rep = 10000, base_seed = 123)
response_trial_8_2_3a_sims




# Simulation trial_8_2_3 - inferior
response_trial_8_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_3b

response_trial_8_2_3b_sims <- run_trials(response_trial_8_2_3b, n_rep = 10000, base_seed = 123)
response_trial_8_2_3b_sims




# Simulation trial_8_2_4 - equivalent
response_trial_8_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_4a

response_trial_8_2_4a_sims <- run_trials(response_trial_8_2_4a, n_rep = 10000, base_seed = 123)
response_trial_8_2_4a_sims




# Simulation trial_8_2_4 - inferior
response_trial_8_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_4b

response_trial_8_2_4b_sims <- run_trials(response_trial_8_2_4b, n_rep = 10000, base_seed = 123)
response_trial_8_2_4b_sims



# Simulation trial_8_2_5 - equivalent
response_trial_8_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_5a

response_trial_8_2_5a_sims <- run_trials(response_trial_8_2_5a, n_rep = 10000, base_seed = 123)
response_trial_8_2_5a_sims




# Simulation trial_8_2_5 - inferior
response_trial_8_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_5b

response_trial_8_2_5b_sims <- run_trials(response_trial_8_2_5b, n_rep = 10000, base_seed = 123)
response_trial_8_2_5b_sims



# Simulation trial_8_2_6 - equivalent
response_trial_8_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_6a

response_trial_8_2_6a_sims <- run_trials(response_trial_8_2_6a, n_rep = 10000, base_seed = 123)
response_trial_8_2_6a_sims




# Simulation trial_8_2_6 - inferior
response_trial_8_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_6b

response_trial_8_2_6b_sims <- run_trials(response_trial_8_2_6b, n_rep = 10000, base_seed = 123)
response_trial_8_2_6b_sims




# Simulation trial_8_2_7 - equivalent
response_trial_8_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_7a

response_trial_8_2_7a_sims <- run_trials(response_trial_8_2_7a, n_rep = 10000, base_seed = 123)
response_trial_8_2_7a_sims




# Simulation trial_8_2_7 - inferior
response_trial_8_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_7b

response_trial_8_2_7b_sims <- run_trials(response_trial_8_2_7b, n_rep = 10000, base_seed = 123)
response_trial_8_2_7b_sims



# Simulation trial_8_2_8 - equivalent
response_trial_8_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_8a

response_trial_8_2_8a_sims <- run_trials(response_trial_8_2_8a, n_rep = 10000, base_seed = 123)
response_trial_8_2_8a_sims




# Simulation trial_8_2_8 - inferior
response_trial_8_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_8b

response_trial_8_2_8b_sims <- run_trials(response_trial_8_2_8b, n_rep = 10000, base_seed = 123)
response_trial_8_2_8b_sims



# Simulation trial_8_2_9 - equivalent
response_trial_8_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_9a

response_trial_8_2_9a_sims <- run_trials(response_trial_8_2_9a, n_rep = 10000, base_seed = 123)
response_trial_8_2_9a_sims




# Simulation trial_8_2_9 - inferior
response_trial_8_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_2_9b

response_trial_8_2_9b_sims <- run_trials(response_trial_8_2_9b, n_rep = 10000, base_seed = 123)
response_trial_8_2_9b_sims






# Simulation trial_8_2_10 - equivalent
response_trial_8_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_10a

response_trial_8_2_10a_sims <- run_trials(response_trial_8_2_10a, n_rep = 10000, base_seed = 123)
response_trial_8_2_10a_sims




# Simulation trial_8_2_10 - inferior
response_trial_8_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_10b

response_trial_8_2_10b_sims <- run_trials(response_trial_8_2_10b, n_rep = 10000, base_seed = 123)
response_trial_8_2_10b_sims



# Simulation trial_8_2_11 - equivalent
response_trial_8_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_11a

response_trial_8_2_11a_sims <- run_trials(response_trial_8_2_11a, n_rep = 10000, base_seed = 123)
response_trial_8_2_11a_sims




# Simulation trial_8_2_11 - inferior
response_trial_8_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_11b

response_trial_8_2_11b_sims <- run_trials(response_trial_8_2_11b, n_rep = 10000, base_seed = 123)
response_trial_8_2_11b_sims



# Simulation trial_8_2_12 - equivalent
response_trial_8_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_12a

response_trial_8_2_12a_sims <- run_trials(response_trial_8_2_12a, n_rep = 10000, base_seed = 123)
response_trial_8_2_12a_sims




# Simulation trial_8_2_12 - inferior
response_trial_8_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_12b

response_trial_8_2_12b_sims <- run_trials(response_trial_8_2_12b, n_rep = 10000, base_seed = 123)
response_trial_8_2_12b_sims





# Simulation trial_8_2_13 - equivalent
response_trial_8_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_13a

response_trial_8_2_13a_sims <- run_trials(response_trial_8_2_13a, n_rep = 10000, base_seed = 123)
response_trial_8_2_13a_sims




# Simulation trial_8_2_13 - inferior
response_trial_8_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_13b

response_trial_8_2_13b_sims <- run_trials(response_trial_8_2_13b, n_rep = 10000, base_seed = 123)
response_trial_8_2_13b_sims



# Simulation trial_8_2_14 - equivalent
response_trial_8_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_14a

response_trial_8_2_14a_sims <- run_trials(response_trial_8_2_14a, n_rep = 10000, base_seed = 123)
response_trial_8_2_14a_sims




# Simulation trial_8_2_14 - inferior
response_trial_8_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_14b

response_trial_8_2_14b_sims <- run_trials(response_trial_8_2_14b, n_rep = 10000, base_seed = 123)
response_trial_8_2_14b_sims



# Simulation trial_8_2_15 - equivalent
response_trial_8_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_15a

response_trial_8_2_15a_sims <- run_trials(response_trial_8_2_15a, n_rep = 10000, base_seed = 123)
response_trial_8_2_15a_sims




# Simulation trial_8_2_15 - inferior
response_trial_8_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_15b

response_trial_8_2_15b_sims <- run_trials(response_trial_8_2_15b, n_rep = 10000, base_seed = 123)
response_trial_8_2_15b_sims






# Simulation trial_8_2_16 - equivalent
response_trial_8_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_16a

response_trial_8_2_16a_sims <- run_trials(response_trial_8_2_16a, n_rep = 10000, base_seed = 123)
response_trial_8_2_16a_sims




# Simulation trial_8_2_16 - inferior
response_trial_8_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_16b

response_trial_8_2_16b_sims <- run_trials(response_trial_8_2_16b, n_rep = 10000, base_seed = 123)
response_trial_8_2_16b_sims



# Simulation trial_8_2_17 - equivalent
response_trial_8_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_17a

response_trial_8_2_17a_sims <- run_trials(response_trial_8_2_17a, n_rep = 10000, base_seed = 123)
response_trial_8_2_17a_sims




# Simulation trial_8_2_17 - inferior
response_trial_8_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_17b

response_trial_8_2_17b_sims <- run_trials(response_trial_8_2_17b, n_rep = 10000, base_seed = 123)
response_trial_8_2_17b_sims



# Simulation trial_8_2_18 - equivalent
response_trial_8_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_18a

response_trial_8_2_18a_sims <- run_trials(response_trial_8_2_18a, n_rep = 10000, base_seed = 123)
response_trial_8_2_18a_sims




# Simulation trial_8_2_18 - inferior
response_trial_8_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_2_18b

response_trial_8_2_18b_sims <- run_trials(response_trial_8_2_18b, n_rep = 10000, base_seed = 123)
response_trial_8_2_18b_sims




# Simulation trial_8_3_1 - equivalent
response_trial_8_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_1a

response_trial_8_3_1a_sims <- run_trials(response_trial_8_3_1a, n_rep = 10000, base_seed = 123)
response_trial_8_3_1a_sims




# Simulation trial_8_3_1 - inferior
response_trial_8_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_1b

response_trial_8_3_1b_sims <- run_trials(response_trial_8_3_1b, n_rep = 10000, base_seed = 123)
response_trial_8_3_1b_sims



# Simulation trial_8_3_2 - equivalent
response_trial_8_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_2a

response_trial_8_3_2a_sims <- run_trials(response_trial_8_3_2a, n_rep = 10000, base_seed = 123)
response_trial_8_3_2a_sims




# Simulation trial_8_3_2 - inferior
response_trial_8_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_2b

response_trial_8_3_2b_sims <- run_trials(response_trial_8_3_2b, n_rep = 10000, base_seed = 123)
response_trial_8_3_2b_sims



# Simulation trial_8_3_3 - equivalent
response_trial_8_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_3a

response_trial_8_3_3a_sims <- run_trials(response_trial_8_3_3a, n_rep = 10000, base_seed = 123)
response_trial_8_3_3a_sims




# Simulation trial_8_3_3 - inferior
response_trial_8_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_3b

response_trial_8_3_3b_sims <- run_trials(response_trial_8_3_3b, n_rep = 10000, base_seed = 123)
response_trial_8_3_3b_sims




# Simulation trial_8_3_4 - equivalent
response_trial_8_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_4a

response_trial_8_3_4a_sims <- run_trials(response_trial_8_3_4a, n_rep = 10000, base_seed = 123)
response_trial_8_3_4a_sims




# Simulation trial_8_3_4 - inferior
response_trial_8_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_4b

response_trial_8_3_4b_sims <- run_trials(response_trial_8_3_4b, n_rep = 10000, base_seed = 123)
response_trial_8_3_4b_sims



# Simulation trial_8_3_5 - equivalent
response_trial_8_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_5a

response_trial_8_3_5a_sims <- run_trials(response_trial_8_3_5a, n_rep = 10000, base_seed = 123)
response_trial_8_3_5a_sims




# Simulation trial_8_3_5 - inferior
response_trial_8_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_5b

response_trial_8_3_5b_sims <- run_trials(response_trial_8_3_5b, n_rep = 10000, base_seed = 123)
response_trial_8_3_5b_sims



# Simulation trial_8_3_6 - equivalent
response_trial_8_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_6a

response_trial_8_3_6a_sims <- run_trials(response_trial_8_3_6a, n_rep = 10000, base_seed = 123)
response_trial_8_3_6a_sims




# Simulation trial_8_3_6 - inferior
response_trial_8_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_6b

response_trial_8_3_6b_sims <- run_trials(response_trial_8_3_6b, n_rep = 10000, base_seed = 123)
response_trial_8_3_6b_sims




# Simulation trial_8_3_7 - equivalent
response_trial_8_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_7a

response_trial_8_3_7a_sims <- run_trials(response_trial_8_3_7a, n_rep = 10000, base_seed = 123)
response_trial_8_3_7a_sims




# Simulation trial_8_3_7 - inferior
response_trial_8_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_7b

response_trial_8_3_7b_sims <- run_trials(response_trial_8_3_7b, n_rep = 10000, base_seed = 123)
response_trial_8_3_7b_sims



# Simulation trial_8_3_8 - equivalent
response_trial_8_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_8a

response_trial_8_3_8a_sims <- run_trials(response_trial_8_3_8a, n_rep = 10000, base_seed = 123)
response_trial_8_3_8a_sims




# Simulation trial_8_3_8 - inferior
response_trial_8_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_8b

response_trial_8_3_8b_sims <- run_trials(response_trial_8_3_8b, n_rep = 10000, base_seed = 123)
response_trial_8_3_8b_sims



# Simulation trial_8_3_9 - equivalent
response_trial_8_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_9a

response_trial_8_3_9a_sims <- run_trials(response_trial_8_3_9a, n_rep = 10000, base_seed = 123)
response_trial_8_3_9a_sims




# Simulation trial_8_3_9 - inferior
response_trial_8_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 75, to = 425, by = 50),
                                           randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_8_3_9b

response_trial_8_3_9b_sims <- run_trials(response_trial_8_3_9b, n_rep = 10000, base_seed = 123)
response_trial_8_3_9b_sims






# Simulation trial_8_3_10 - equivalent
response_trial_8_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_10a

response_trial_8_3_10a_sims <- run_trials(response_trial_8_3_10a, n_rep = 10000, base_seed = 123)
response_trial_8_3_10a_sims




# Simulation trial_8_3_10 - inferior
response_trial_8_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_10b

response_trial_8_3_10b_sims <- run_trials(response_trial_8_3_10b, n_rep = 10000, base_seed = 123)
response_trial_8_3_10b_sims



# Simulation trial_8_3_11 - equivalent
response_trial_8_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_11a

response_trial_8_3_11a_sims <- run_trials(response_trial_8_3_11a, n_rep = 10000, base_seed = 123)
response_trial_8_3_11a_sims




# Simulation trial_8_3_11 - inferior
response_trial_8_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_11b

response_trial_8_3_11b_sims <- run_trials(response_trial_8_3_11b, n_rep = 10000, base_seed = 123)
response_trial_8_3_11b_sims



# Simulation trial_8_3_12 - equivalent
response_trial_8_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_12a

response_trial_8_3_12a_sims <- run_trials(response_trial_8_3_12a, n_rep = 10000, base_seed = 123)
response_trial_8_3_12a_sims




# Simulation trial_8_3_12 - inferior
response_trial_8_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_12b

response_trial_8_3_12b_sims <- run_trials(response_trial_8_3_12b, n_rep = 10000, base_seed = 123)
response_trial_8_3_12b_sims





# Simulation trial_8_3_13 - equivalent
response_trial_8_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_13a

response_trial_8_3_13a_sims <- run_trials(response_trial_8_3_13a, n_rep = 10000, base_seed = 123)
response_trial_8_3_13a_sims




# Simulation trial_8_3_13 - inferior
response_trial_8_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_13b

response_trial_8_3_13b_sims <- run_trials(response_trial_8_3_13b, n_rep = 10000, base_seed = 123)
response_trial_8_3_13b_sims



# Simulation trial_8_3_14 - equivalent
response_trial_8_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_14a

response_trial_8_3_14a_sims <- run_trials(response_trial_8_3_14a, n_rep = 10000, base_seed = 123)
response_trial_8_3_14a_sims




# Simulation trial_8_3_14 - inferior
response_trial_8_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_14b

response_trial_8_3_14b_sims <- run_trials(response_trial_8_3_14b, n_rep = 10000, base_seed = 123)
response_trial_8_3_14b_sims



# Simulation trial_8_3_15 - equivalent
response_trial_8_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_15a

response_trial_8_3_15a_sims <- run_trials(response_trial_8_3_15a, n_rep = 10000, base_seed = 123)
response_trial_8_3_15a_sims




# Simulation trial_8_3_15 - inferior
response_trial_8_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_15b

response_trial_8_3_15b_sims <- run_trials(response_trial_8_3_15b, n_rep = 10000, base_seed = 123)
response_trial_8_3_15b_sims






# Simulation trial_8_3_16 - equivalent
response_trial_8_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_16a

response_trial_8_3_16a_sims <- run_trials(response_trial_8_3_16a, n_rep = 10000, base_seed = 123)
response_trial_8_3_16a_sims




# Simulation trial_8_3_16 - inferior
response_trial_8_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_16b

response_trial_8_3_16b_sims <- run_trials(response_trial_8_3_16b, n_rep = 10000, base_seed = 123)
response_trial_8_3_16b_sims



# Simulation trial_8_3_17 - equivalent
response_trial_8_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_17a

response_trial_8_3_17a_sims <- run_trials(response_trial_8_3_17a, n_rep = 10000, base_seed = 123)
response_trial_8_3_17a_sims




# Simulation trial_8_3_17 - inferior
response_trial_8_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_17b

response_trial_8_3_17b_sims <- run_trials(response_trial_8_3_17b, n_rep = 10000, base_seed = 123)
response_trial_8_3_17b_sims



# Simulation trial_8_3_18 - equivalent
response_trial_8_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_18a

response_trial_8_3_18a_sims <- run_trials(response_trial_8_3_18a, n_rep = 10000, base_seed = 123)
response_trial_8_3_18a_sims




# Simulation trial_8_3_18 - inferior
response_trial_8_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 425, by = 50),
                                            randomised_at_looks = seq(from = 78, to = 428, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_8_3_18b

response_trial_8_3_18b_sims <- run_trials(response_trial_8_3_18b, n_rep = 10000, base_seed = 123)
response_trial_8_3_18b_sims




# Simulation trial_9_1_1 - equivalent
response_trial_9_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_1a

response_trial_9_1_1a_sims <- run_trials(response_trial_9_1_1a, n_rep = 10000, base_seed = 123)
response_trial_9_1_1a_sims




# Simulation trial_9_1_1 - inferior
response_trial_9_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_1b

response_trial_9_1_1b_sims <- run_trials(response_trial_9_1_1b, n_rep = 10000, base_seed = 123)
response_trial_9_1_1b_sims



# Simulation trial_9_1_2 - equivalent
response_trial_9_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_2a

response_trial_9_1_2a_sims <- run_trials(response_trial_9_1_2a, n_rep = 10000, base_seed = 123)
response_trial_9_1_2a_sims




# Simulation trial_9_1_2 - inferior
response_trial_9_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_2b

response_trial_9_1_2b_sims <- run_trials(response_trial_9_1_2b, n_rep = 10000, base_seed = 123)
response_trial_9_1_2b_sims



# Simulation trial_9_1_3 - equivalent
response_trial_9_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_3a

response_trial_9_1_3a_sims <- run_trials(response_trial_9_1_3a, n_rep = 10000, base_seed = 123)
response_trial_9_1_3a_sims




# Simulation trial_9_1_3 - inferior
response_trial_9_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_3b

response_trial_9_1_3b_sims <- run_trials(response_trial_9_1_3b, n_rep = 10000, base_seed = 123)
response_trial_9_1_3b_sims




# Simulation trial_9_1_4 - equivalent
response_trial_9_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_4a

response_trial_9_1_4a_sims <- run_trials(response_trial_9_1_4a, n_rep = 10000, base_seed = 123)
response_trial_9_1_4a_sims




# Simulation trial_9_1_4 - inferior
response_trial_9_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_4b

response_trial_9_1_4b_sims <- run_trials(response_trial_9_1_4b, n_rep = 10000, base_seed = 123)
response_trial_9_1_4b_sims



# Simulation trial_9_1_5 - equivalent
response_trial_9_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_5a

response_trial_9_1_5a_sims <- run_trials(response_trial_9_1_5a, n_rep = 10000, base_seed = 123)
response_trial_9_1_5a_sims




# Simulation trial_9_1_5 - inferior
response_trial_9_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_5b

response_trial_9_1_5b_sims <- run_trials(response_trial_9_1_5b, n_rep = 10000, base_seed = 123)
response_trial_9_1_5b_sims



# Simulation trial_9_1_6 - equivalent
response_trial_9_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_6a

response_trial_9_1_6a_sims <- run_trials(response_trial_9_1_6a, n_rep = 10000, base_seed = 123)
response_trial_9_1_6a_sims




# Simulation trial_9_1_6 - inferior
response_trial_9_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_6b

response_trial_9_1_6b_sims <- run_trials(response_trial_9_1_6b, n_rep = 10000, base_seed = 123)
response_trial_9_1_6b_sims




# Simulation trial_9_1_7 - equivalent
response_trial_9_1_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_7a

response_trial_9_1_7a_sims <- run_trials(response_trial_9_1_7a, n_rep = 10000, base_seed = 123)
response_trial_9_1_7a_sims




# Simulation trial_9_1_7 - inferior
response_trial_9_1_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_7b

response_trial_9_1_7b_sims <- run_trials(response_trial_9_1_7b, n_rep = 10000, base_seed = 123)
response_trial_9_1_7b_sims



# Simulation trial_9_1_8 - equivalent
response_trial_9_1_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_8a

response_trial_9_1_8a_sims <- run_trials(response_trial_9_1_8a, n_rep = 10000, base_seed = 123)
response_trial_9_1_8a_sims




# Simulation trial_9_1_8 - inferior
response_trial_9_1_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_8b

response_trial_9_1_8b_sims <- run_trials(response_trial_9_1_8b, n_rep = 10000, base_seed = 123)
response_trial_9_1_8b_sims



# Simulation trial_9_1_9 - equivalent
response_trial_9_1_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_9a

response_trial_9_1_9a_sims <- run_trials(response_trial_9_1_9a, n_rep = 10000, base_seed = 123)
response_trial_9_1_9a_sims




# Simulation trial_9_1_9 - inferior
response_trial_9_1_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.03),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_1_9b

response_trial_9_1_9b_sims <- run_trials(response_trial_9_1_9b, n_rep = 10000, base_seed = 123)
response_trial_9_1_9b_sims






# Simulation trial_9_1_10 - equivalent
response_trial_9_1_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_10a

response_trial_9_1_10a_sims <- run_trials(response_trial_9_1_10a, n_rep = 10000, base_seed = 123)
response_trial_9_1_10a_sims




# Simulation trial_9_1_10 - inferior
response_trial_9_1_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_10b

response_trial_9_1_10b_sims <- run_trials(response_trial_9_1_10b, n_rep = 10000, base_seed = 123)
response_trial_9_1_10b_sims



# Simulation trial_9_1_11 - equivalent
response_trial_9_1_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_11a

response_trial_9_1_11a_sims <- run_trials(response_trial_9_1_11a, n_rep = 10000, base_seed = 123)
response_trial_9_1_11a_sims




# Simulation trial_9_1_11 - inferior
response_trial_9_1_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_11b

response_trial_9_1_11b_sims <- run_trials(response_trial_9_1_11b, n_rep = 10000, base_seed = 123)
response_trial_9_1_11b_sims



# Simulation trial_9_1_12 - equivalent
response_trial_9_1_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_12a

response_trial_9_1_12a_sims <- run_trials(response_trial_9_1_12a, n_rep = 10000, base_seed = 123)
response_trial_9_1_12a_sims




# Simulation trial_9_1_12 - inferior
response_trial_9_1_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_12b

response_trial_9_1_12b_sims <- run_trials(response_trial_9_1_12b, n_rep = 10000, base_seed = 123)
response_trial_9_1_12b_sims





# Simulation trial_9_1_13 - equivalent
response_trial_9_1_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_13a

response_trial_9_1_13a_sims <- run_trials(response_trial_9_1_13a, n_rep = 10000, base_seed = 123)
response_trial_9_1_13a_sims




# Simulation trial_9_1_13 - inferior
response_trial_9_1_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_13b

response_trial_9_1_13b_sims <- run_trials(response_trial_9_1_13b, n_rep = 10000, base_seed = 123)
response_trial_9_1_13b_sims



# Simulation trial_9_1_14 - equivalent
response_trial_9_1_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_14a

response_trial_9_1_14a_sims <- run_trials(response_trial_9_1_14a, n_rep = 10000, base_seed = 123)
response_trial_9_1_14a_sims




# Simulation trial_9_1_14 - inferior
response_trial_9_1_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_14b

response_trial_9_1_14b_sims <- run_trials(response_trial_9_1_14b, n_rep = 10000, base_seed = 123)
response_trial_9_1_14b_sims



# Simulation trial_9_1_15 - equivalent
response_trial_9_1_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_15a

response_trial_9_1_15a_sims <- run_trials(response_trial_9_1_15a, n_rep = 10000, base_seed = 123)
response_trial_9_1_15a_sims




# Simulation trial_9_1_15 - inferior
response_trial_9_1_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_15b

response_trial_9_1_15b_sims <- run_trials(response_trial_9_1_15b, n_rep = 10000, base_seed = 123)
response_trial_9_1_15b_sims






# Simulation trial_9_1_16 - equivalent
response_trial_9_1_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_16a

response_trial_9_1_16a_sims <- run_trials(response_trial_9_1_16a, n_rep = 10000, base_seed = 123)
response_trial_9_1_16a_sims




# Simulation trial_9_1_16 - inferior
response_trial_9_1_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_16b

response_trial_9_1_16b_sims <- run_trials(response_trial_9_1_16b, n_rep = 10000, base_seed = 123)
response_trial_9_1_16b_sims



# Simulation trial_9_1_17 - equivalent
response_trial_9_1_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_17a

response_trial_9_1_17a_sims <- run_trials(response_trial_9_1_17a, n_rep = 10000, base_seed = 123)
response_trial_9_1_17a_sims




# Simulation trial_9_1_17 - inferior
response_trial_9_1_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_17b

response_trial_9_1_17b_sims <- run_trials(response_trial_9_1_17b, n_rep = 10000, base_seed = 123)
response_trial_9_1_17b_sims



# Simulation trial_9_1_18 - equivalent
response_trial_9_1_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_18a

response_trial_9_1_18a_sims <- run_trials(response_trial_9_1_18a, n_rep = 10000, base_seed = 123)
response_trial_9_1_18a_sims




# Simulation trial_9_1_18 - inferior
response_trial_9_1_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_1_18b

response_trial_9_1_18b_sims <- run_trials(response_trial_9_1_18b, n_rep = 10000, base_seed = 123)
response_trial_9_1_18b_sims




# Simulation trial_9_2_1 - equivalent
response_trial_9_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_1a

response_trial_9_2_1a_sims <- run_trials(response_trial_9_2_1a, n_rep = 10000, base_seed = 123)
response_trial_9_2_1a_sims




# Simulation trial_9_2_1 - inferior
response_trial_9_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_1b

response_trial_9_2_1b_sims <- run_trials(response_trial_9_2_1b, n_rep = 10000, base_seed = 123)
response_trial_9_2_1b_sims



# Simulation trial_9_2_2 - equivalent
response_trial_9_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_2a

response_trial_9_2_2a_sims <- run_trials(response_trial_9_2_2a, n_rep = 10000, base_seed = 123)
response_trial_9_2_2a_sims




# Simulation trial_9_2_2 - inferior
response_trial_9_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_2b

response_trial_9_2_2b_sims <- run_trials(response_trial_9_2_2b, n_rep = 10000, base_seed = 123)
response_trial_9_2_2b_sims



# Simulation trial_9_2_3 - equivalent
response_trial_9_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_3a

response_trial_9_2_3a_sims <- run_trials(response_trial_9_2_3a, n_rep = 10000, base_seed = 123)
response_trial_9_2_3a_sims




# Simulation trial_9_2_3 - inferior
response_trial_9_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_3b

response_trial_9_2_3b_sims <- run_trials(response_trial_9_2_3b, n_rep = 10000, base_seed = 123)
response_trial_9_2_3b_sims




# Simulation trial_9_2_4 - equivalent
response_trial_9_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_4a

response_trial_9_2_4a_sims <- run_trials(response_trial_9_2_4a, n_rep = 10000, base_seed = 123)
response_trial_9_2_4a_sims




# Simulation trial_9_2_4 - inferior
response_trial_9_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_4b

response_trial_9_2_4b_sims <- run_trials(response_trial_9_2_4b, n_rep = 10000, base_seed = 123)
response_trial_9_2_4b_sims



# Simulation trial_9_2_5 - equivalent
response_trial_9_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_5a

response_trial_9_2_5a_sims <- run_trials(response_trial_9_2_5a, n_rep = 10000, base_seed = 123)
response_trial_9_2_5a_sims




# Simulation trial_9_2_5 - inferior
response_trial_9_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_5b

response_trial_9_2_5b_sims <- run_trials(response_trial_9_2_5b, n_rep = 10000, base_seed = 123)
response_trial_9_2_5b_sims



# Simulation trial_9_2_6 - equivalent
response_trial_9_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_6a

response_trial_9_2_6a_sims <- run_trials(response_trial_9_2_6a, n_rep = 10000, base_seed = 123)
response_trial_9_2_6a_sims




# Simulation trial_9_2_6 - inferior
response_trial_9_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_6b

response_trial_9_2_6b_sims <- run_trials(response_trial_9_2_6b, n_rep = 10000, base_seed = 123)
response_trial_9_2_6b_sims




# Simulation trial_9_2_7 - equivalent
response_trial_9_2_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_7a

response_trial_9_2_7a_sims <- run_trials(response_trial_9_2_7a, n_rep = 10000, base_seed = 123)
response_trial_9_2_7a_sims




# Simulation trial_9_2_7 - inferior
response_trial_9_2_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_7b

response_trial_9_2_7b_sims <- run_trials(response_trial_9_2_7b, n_rep = 10000, base_seed = 123)
response_trial_9_2_7b_sims



# Simulation trial_9_2_8 - equivalent
response_trial_9_2_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_8a

response_trial_9_2_8a_sims <- run_trials(response_trial_9_2_8a, n_rep = 10000, base_seed = 123)
response_trial_9_2_8a_sims




# Simulation trial_9_2_8 - inferior
response_trial_9_2_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_8b

response_trial_9_2_8b_sims <- run_trials(response_trial_9_2_8b, n_rep = 10000, base_seed = 123)
response_trial_9_2_8b_sims



# Simulation trial_9_2_9 - equivalent
response_trial_9_2_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_9a

response_trial_9_2_9a_sims <- run_trials(response_trial_9_2_9a, n_rep = 10000, base_seed = 123)
response_trial_9_2_9a_sims




# Simulation trial_9_2_9 - inferior
response_trial_9_2_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.05),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_2_9b

response_trial_9_2_9b_sims <- run_trials(response_trial_9_2_9b, n_rep = 10000, base_seed = 123)
response_trial_9_2_9b_sims






# Simulation trial_9_2_10 - equivalent
response_trial_9_2_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_10a

response_trial_9_2_10a_sims <- run_trials(response_trial_9_2_10a, n_rep = 10000, base_seed = 123)
response_trial_9_2_10a_sims




# Simulation trial_9_2_10 - inferior
response_trial_9_2_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_10b

response_trial_9_2_10b_sims <- run_trials(response_trial_9_2_10b, n_rep = 10000, base_seed = 123)
response_trial_9_2_10b_sims



# Simulation trial_9_2_11 - equivalent
response_trial_9_2_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_11a

response_trial_9_2_11a_sims <- run_trials(response_trial_9_2_11a, n_rep = 10000, base_seed = 123)
response_trial_9_2_11a_sims




# Simulation trial_9_2_11 - inferior
response_trial_9_2_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_11b

response_trial_9_2_11b_sims <- run_trials(response_trial_9_2_11b, n_rep = 10000, base_seed = 123)
response_trial_9_2_11b_sims



# Simulation trial_9_2_12 - equivalent
response_trial_9_2_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_12a

response_trial_9_2_12a_sims <- run_trials(response_trial_9_2_12a, n_rep = 10000, base_seed = 123)
response_trial_9_2_12a_sims




# Simulation trial_9_2_12 - inferior
response_trial_9_2_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_12b

response_trial_9_2_12b_sims <- run_trials(response_trial_9_2_12b, n_rep = 10000, base_seed = 123)
response_trial_9_2_12b_sims





# Simulation trial_9_2_13 - equivalent
response_trial_9_2_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_13a

response_trial_9_2_13a_sims <- run_trials(response_trial_9_2_13a, n_rep = 10000, base_seed = 123)
response_trial_9_2_13a_sims




# Simulation trial_9_2_13 - inferior
response_trial_9_2_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_13b

response_trial_9_2_13b_sims <- run_trials(response_trial_9_2_13b, n_rep = 10000, base_seed = 123)
response_trial_9_2_13b_sims



# Simulation trial_9_2_14 - equivalent
response_trial_9_2_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_14a

response_trial_9_2_14a_sims <- run_trials(response_trial_9_2_14a, n_rep = 10000, base_seed = 123)
response_trial_9_2_14a_sims




# Simulation trial_9_2_14 - inferior
response_trial_9_2_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_14b

response_trial_9_2_14b_sims <- run_trials(response_trial_9_2_14b, n_rep = 10000, base_seed = 123)
response_trial_9_2_14b_sims



# Simulation trial_9_2_15 - equivalent
response_trial_9_2_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_15a

response_trial_9_2_15a_sims <- run_trials(response_trial_9_2_15a, n_rep = 10000, base_seed = 123)
response_trial_9_2_15a_sims




# Simulation trial_9_2_15 - inferior
response_trial_9_2_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_15b

response_trial_9_2_15b_sims <- run_trials(response_trial_9_2_15b, n_rep = 10000, base_seed = 123)
response_trial_9_2_15b_sims






# Simulation trial_9_2_16 - equivalent
response_trial_9_2_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_16a

response_trial_9_2_16a_sims <- run_trials(response_trial_9_2_16a, n_rep = 10000, base_seed = 123)
response_trial_9_2_16a_sims




# Simulation trial_9_2_16 - inferior
response_trial_9_2_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_16b

response_trial_9_2_16b_sims <- run_trials(response_trial_9_2_16b, n_rep = 10000, base_seed = 123)
response_trial_9_2_16b_sims



# Simulation trial_9_2_17 - equivalent
response_trial_9_2_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_17a

response_trial_9_2_17a_sims <- run_trials(response_trial_9_2_17a, n_rep = 10000, base_seed = 123)
response_trial_9_2_17a_sims




# Simulation trial_9_2_17 - inferior
response_trial_9_2_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_17b

response_trial_9_2_17b_sims <- run_trials(response_trial_9_2_17b, n_rep = 10000, base_seed = 123)
response_trial_9_2_17b_sims



# Simulation trial_9_2_18 - equivalent
response_trial_9_2_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_18a

response_trial_9_2_18a_sims <- run_trials(response_trial_9_2_18a, n_rep = 10000, base_seed = 123)
response_trial_9_2_18a_sims




# Simulation trial_9_2_18 - inferior
response_trial_9_2_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_2_18b

response_trial_9_2_18b_sims <- run_trials(response_trial_9_2_18b, n_rep = 10000, base_seed = 123)
response_trial_9_2_18b_sims




# Simulation trial_9_3_1 - equivalent
response_trial_9_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_1a

response_trial_9_3_1a_sims <- run_trials(response_trial_9_3_1a, n_rep = 10000, base_seed = 123)
response_trial_9_3_1a_sims




# Simulation trial_9_3_1 - inferior
response_trial_9_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_1b

response_trial_9_3_1b_sims <- run_trials(response_trial_9_3_1b, n_rep = 10000, base_seed = 123)
response_trial_9_3_1b_sims



# Simulation trial_9_3_2 - equivalent
response_trial_9_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_2a

response_trial_9_3_2a_sims <- run_trials(response_trial_9_3_2a, n_rep = 10000, base_seed = 123)
response_trial_9_3_2a_sims




# Simulation trial_9_3_2 - inferior
response_trial_9_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_2b

response_trial_9_3_2b_sims <- run_trials(response_trial_9_3_2b, n_rep = 10000, base_seed = 123)
response_trial_9_3_2b_sims



# Simulation trial_9_3_3 - equivalent
response_trial_9_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_3a

response_trial_9_3_3a_sims <- run_trials(response_trial_9_3_3a, n_rep = 10000, base_seed = 123)
response_trial_9_3_3a_sims




# Simulation trial_9_3_3 - inferior
response_trial_9_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.5,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_3b

response_trial_9_3_3b_sims <- run_trials(response_trial_9_3_3b, n_rep = 10000, base_seed = 123)
response_trial_9_3_3b_sims




# Simulation trial_9_3_4 - equivalent
response_trial_9_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_4a

response_trial_9_3_4a_sims <- run_trials(response_trial_9_3_4a, n_rep = 10000, base_seed = 123)
response_trial_9_3_4a_sims




# Simulation trial_9_3_4 - inferior
response_trial_9_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_4b

response_trial_9_3_4b_sims <- run_trials(response_trial_9_3_4b, n_rep = 10000, base_seed = 123)
response_trial_9_3_4b_sims



# Simulation trial_9_3_5 - equivalent
response_trial_9_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_5a

response_trial_9_3_5a_sims <- run_trials(response_trial_9_3_5a, n_rep = 10000, base_seed = 123)
response_trial_9_3_5a_sims




# Simulation trial_9_3_5 - inferior
response_trial_9_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_5b

response_trial_9_3_5b_sims <- run_trials(response_trial_9_3_5b, n_rep = 10000, base_seed = 123)
response_trial_9_3_5b_sims



# Simulation trial_9_3_6 - equivalent
response_trial_9_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_6a

response_trial_9_3_6a_sims <- run_trials(response_trial_9_3_6a, n_rep = 10000, base_seed = 123)
response_trial_9_3_6a_sims




# Simulation trial_9_3_6 - inferior
response_trial_9_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.6,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_6b

response_trial_9_3_6b_sims <- run_trials(response_trial_9_3_6b, n_rep = 10000, base_seed = 123)
response_trial_9_3_6b_sims




# Simulation trial_9_3_7 - equivalent
response_trial_9_3_7a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_7a

response_trial_9_3_7a_sims <- run_trials(response_trial_9_3_7a, n_rep = 10000, base_seed = 123)
response_trial_9_3_7a_sims




# Simulation trial_9_3_7 - inferior
response_trial_9_3_7b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.98,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_7b

response_trial_9_3_7b_sims <- run_trials(response_trial_9_3_7b, n_rep = 10000, base_seed = 123)
response_trial_9_3_7b_sims



# Simulation trial_9_3_8 - equivalent
response_trial_9_3_8a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_8a

response_trial_9_3_8a_sims <- run_trials(response_trial_9_3_8a, n_rep = 10000, base_seed = 123)
response_trial_9_3_8a_sims




# Simulation trial_9_3_8 - inferior
response_trial_9_3_8b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.99,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_8b

response_trial_9_3_8b_sims <- run_trials(response_trial_9_3_8b, n_rep = 10000, base_seed = 123)
response_trial_9_3_8b_sims



# Simulation trial_9_3_9 - equivalent
response_trial_9_3_9a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.95, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_9a

response_trial_9_3_9a_sims <- run_trials(response_trial_9_3_9a, n_rep = 10000, base_seed = 123)
response_trial_9_3_9a_sims




# Simulation trial_9_3_9 - inferior
response_trial_9_3_9b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                           true_ys = c(0.85, 0.95),
                                           start_probs = NULL,
                                           fixed_probs = c(0.5,0.5),
                                           data_looks = seq(from = 100, to = 400, by = 50),
                                           randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                           control = c("standard dose steroids"),
                                           inferiority = 0,
                                           superiority = 1,
                                           equivalence_prob = 0.995,
                                           equivalence_diff = 0.1,
                                           equivalence_only_first = TRUE,
                                           futility_prob = 0.7,
                                           futility_diff = c(-0.07),
                                           futility_only_first = TRUE,
                                           highest_is_best = TRUE,
                                           soften_power = 1,
                                           cri_width = 0.95,
                                           n_draws = 5000,
                                           robust = TRUE)

response_trial_9_3_9b

response_trial_9_3_9b_sims <- run_trials(response_trial_9_3_9b, n_rep = 10000, base_seed = 123)
response_trial_9_3_9b_sims






# Simulation trial_9_3_10 - equivalent
response_trial_9_3_10a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_10a

response_trial_9_3_10a_sims <- run_trials(response_trial_9_3_10a, n_rep = 10000, base_seed = 123)
response_trial_9_3_10a_sims




# Simulation trial_9_3_10 - inferior
response_trial_9_3_10b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_10b

response_trial_9_3_10b_sims <- run_trials(response_trial_9_3_10b, n_rep = 10000, base_seed = 123)
response_trial_9_3_10b_sims



# Simulation trial_9_3_11 - equivalent
response_trial_9_3_11a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_11a

response_trial_9_3_11a_sims <- run_trials(response_trial_9_3_11a, n_rep = 10000, base_seed = 123)
response_trial_9_3_11a_sims




# Simulation trial_9_3_11 - inferior
response_trial_9_3_11b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_11b

response_trial_9_3_11b_sims <- run_trials(response_trial_9_3_11b, n_rep = 10000, base_seed = 123)
response_trial_9_3_11b_sims



# Simulation trial_9_3_12 - equivalent
response_trial_9_3_12a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_12a

response_trial_9_3_12a_sims <- run_trials(response_trial_9_3_12a, n_rep = 10000, base_seed = 123)
response_trial_9_3_12a_sims




# Simulation trial_9_3_12 - inferior
response_trial_9_3_12b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_12b

response_trial_9_3_12b_sims <- run_trials(response_trial_9_3_12b, n_rep = 10000, base_seed = 123)
response_trial_9_3_12b_sims





# Simulation trial_9_3_13 - equivalent
response_trial_9_3_13a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_13a

response_trial_9_3_13a_sims <- run_trials(response_trial_9_3_13a, n_rep = 10000, base_seed = 123)
response_trial_9_3_13a_sims




# Simulation trial_9_3_13 - inferior
response_trial_9_3_13b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_13b

response_trial_9_3_13b_sims <- run_trials(response_trial_9_3_13b, n_rep = 10000, base_seed = 123)
response_trial_9_3_13b_sims



# Simulation trial_9_3_14 - equivalent
response_trial_9_3_14a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_14a

response_trial_9_3_14a_sims <- run_trials(response_trial_9_3_14a, n_rep = 10000, base_seed = 123)
response_trial_9_3_14a_sims




# Simulation trial_9_3_14 - inferior
response_trial_9_3_14b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_14b

response_trial_9_3_14b_sims <- run_trials(response_trial_9_3_14b, n_rep = 10000, base_seed = 123)
response_trial_9_3_14b_sims



# Simulation trial_9_3_15 - equivalent
response_trial_9_3_15a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_15a

response_trial_9_3_15a_sims <- run_trials(response_trial_9_3_15a, n_rep = 10000, base_seed = 123)
response_trial_9_3_15a_sims




# Simulation trial_9_3_15 - inferior
response_trial_9_3_15b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_15b

response_trial_9_3_15b_sims <- run_trials(response_trial_9_3_15b, n_rep = 10000, base_seed = 123)
response_trial_9_3_15b_sims






# Simulation trial_9_3_16 - equivalent
response_trial_9_3_16a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_16a

response_trial_9_3_16a_sims <- run_trials(response_trial_9_3_16a, n_rep = 10000, base_seed = 123)
response_trial_9_3_16a_sims




# Simulation trial_9_3_16 - inferior
response_trial_9_3_16b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.98,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_16b

response_trial_9_3_16b_sims <- run_trials(response_trial_9_3_16b, n_rep = 10000, base_seed = 123)
response_trial_9_3_16b_sims



# Simulation trial_9_3_17 - equivalent
response_trial_9_3_17a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_17a

response_trial_9_3_17a_sims <- run_trials(response_trial_9_3_17a, n_rep = 10000, base_seed = 123)
response_trial_9_3_17a_sims




# Simulation trial_9_3_17 - inferior
response_trial_9_3_17b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.99,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_17b

response_trial_9_3_17b_sims <- run_trials(response_trial_9_3_17b, n_rep = 10000, base_seed = 123)
response_trial_9_3_17b_sims



# Simulation trial_9_3_18 - equivalent
response_trial_9_3_18a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_18a

response_trial_9_3_18a_sims <- run_trials(response_trial_9_3_18a, n_rep = 10000, base_seed = 123)
response_trial_9_3_18a_sims




# Simulation trial_9_3_18 - inferior
response_trial_9_3_18b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 50),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 50),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.995,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_9_3_18b

response_trial_9_3_18b_sims <- run_trials(response_trial_9_3_18b, n_rep = 10000, base_seed = 123)
response_trial_9_3_18b_sims




# Simulation trial_10_1_1 - equivalent
response_trial_10_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_1a

response_trial_10_1_1a_sims <- run_trials(response_trial_10_1_1a, n_rep = 10000, base_seed = 123)
response_trial_10_1_1a_sims




# Simulation trial_10_1_1 - inferior
response_trial_10_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_1b

response_trial_10_1_1b_sims <- run_trials(response_trial_10_1_1b, n_rep = 10000, base_seed = 123)
response_trial_10_1_1b_sims




# Simulation trial_10_1_2 - equivalent
response_trial_10_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_2a

response_trial_10_1_2a_sims <- run_trials(response_trial_10_1_2a, n_rep = 10000, base_seed = 123)
response_trial_10_1_2a_sims




# Simulation trial_10_1_2 - inferior
response_trial_10_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_2b

response_trial_10_1_2b_sims <- run_trials(response_trial_10_1_2b, n_rep = 10000, base_seed = 123)
response_trial_10_1_2b_sims




# Simulation trial_10_1_3 - equivalent
response_trial_10_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_3a

response_trial_10_1_3a_sims <- run_trials(response_trial_10_1_3a, n_rep = 10000, base_seed = 123)
response_trial_10_1_3a_sims




# Simulation trial_10_1_3 - inferior
response_trial_10_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_3b

response_trial_10_1_3b_sims <- run_trials(response_trial_10_1_3b, n_rep = 10000, base_seed = 123)
response_trial_10_1_3b_sims







# Simulation trial_10_1_4 - equivalent
response_trial_10_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_4a

response_trial_10_1_4a_sims <- run_trials(response_trial_10_1_4a, n_rep = 10000, base_seed = 123)
response_trial_10_1_4a_sims




# Simulation trial_10_1_4 - inferior
response_trial_10_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_4b

response_trial_10_1_4b_sims <- run_trials(response_trial_10_1_4b, n_rep = 10000, base_seed = 123)
response_trial_10_1_4b_sims





# Simulation trial_10_1_5 - equivalent
response_trial_10_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_5a

response_trial_10_1_5a_sims <- run_trials(response_trial_10_1_5a, n_rep = 10000, base_seed = 123)
response_trial_10_1_5a_sims




# Simulation trial_10_1_5 - inferior
response_trial_10_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_5b

response_trial_10_1_5b_sims <- run_trials(response_trial_10_1_5b, n_rep = 10000, base_seed = 123)
response_trial_10_1_5b_sims





# Simulation trial_10_1_6 - equivalent
response_trial_10_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_6a

response_trial_10_1_6a_sims <- run_trials(response_trial_10_1_6a, n_rep = 10000, base_seed = 123)
response_trial_10_1_6a_sims




# Simulation trial_10_1_6 - inferior
response_trial_10_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_1_6b

response_trial_10_1_6b_sims <- run_trials(response_trial_10_1_6b, n_rep = 10000, base_seed = 123)
response_trial_10_1_6b_sims




# Simulation trial_10_2_1 - equivalent
response_trial_10_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_1a

response_trial_10_2_1a_sims <- run_trials(response_trial_10_2_1a, n_rep = 10000, base_seed = 123)
response_trial_10_2_1a_sims




# Simulation trial_10_2_1 - inferior
response_trial_10_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_1b

response_trial_10_2_1b_sims <- run_trials(response_trial_10_2_1b, n_rep = 10000, base_seed = 123)
response_trial_10_2_1b_sims





# Simulation trial_10_2_2 - equivalent
response_trial_10_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_2a

response_trial_10_2_2a_sims <- run_trials(response_trial_10_2_2a, n_rep = 10000, base_seed = 123)
response_trial_10_2_2a_sims




# Simulation trial_10_2_2 - inferior
response_trial_10_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_2b

response_trial_10_2_2b_sims <- run_trials(response_trial_10_2_2b, n_rep = 10000, base_seed = 123)
response_trial_10_2_2b_sims




# Simulation trial_10_2_3 - equivalent
response_trial_10_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_3a

response_trial_10_2_3a_sims <- run_trials(response_trial_10_2_3a, n_rep = 10000, base_seed = 123)
response_trial_10_2_3a_sims




# Simulation trial_10_2_3 - inferior
response_trial_10_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_3b

response_trial_10_2_3b_sims <- run_trials(response_trial_10_2_3b, n_rep = 10000, base_seed = 123)
response_trial_10_2_3b_sims






# Simulation trial_10_2_4 - equivalent
response_trial_10_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_4a

response_trial_10_2_4a_sims <- run_trials(response_trial_10_2_4a, n_rep = 10000, base_seed = 123)
response_trial_10_2_4a_sims




# Simulation trial_10_2_4 - inferior
response_trial_10_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_4b

response_trial_10_2_4b_sims <- run_trials(response_trial_10_2_4b, n_rep = 10000, base_seed = 123)
response_trial_10_2_4b_sims



# Simulation trial_10_2_5 - equivalent
response_trial_10_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_5a

response_trial_10_2_5a_sims <- run_trials(response_trial_10_2_5a, n_rep = 10000, base_seed = 123)
response_trial_10_2_5a_sims




# Simulation trial_10_2_5 - inferior
response_trial_10_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_5b

response_trial_10_2_5b_sims <- run_trials(response_trial_10_2_5b, n_rep = 10000, base_seed = 123)
response_trial_10_2_5b_sims




# Simulation trial_10_2_6 - equivalent
response_trial_10_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_6a

response_trial_10_2_6a_sims <- run_trials(response_trial_10_2_6a, n_rep = 10000, base_seed = 123)
response_trial_10_2_6a_sims




# Simulation trial_10_2_6 - inferior
response_trial_10_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_2_6b

response_trial_10_2_6b_sims <- run_trials(response_trial_10_2_6b, n_rep = 10000, base_seed = 123)
response_trial_10_2_6b_sims




# Simulation trial_10_3_1 - equivalent
response_trial_10_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_1a

response_trial_10_3_1a_sims <- run_trials(response_trial_10_3_1a, n_rep = 10000, base_seed = 123)
response_trial_10_3_1a_sims




# Simulation trial_10_3_1 - inferior
response_trial_10_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_1b

response_trial_10_3_1b_sims <- run_trials(response_trial_10_3_1b, n_rep = 10000, base_seed = 123)
response_trial_10_3_1b_sims





# Simulation trial_10_3_2 - equivalent
response_trial_10_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_2a

response_trial_10_3_2a_sims <- run_trials(response_trial_10_3_2a, n_rep = 10000, base_seed = 123)
response_trial_10_3_2a_sims




# Simulation trial_10_3_2 - inferior
response_trial_10_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_2b

response_trial_10_3_2b_sims <- run_trials(response_trial_10_3_2b, n_rep = 10000, base_seed = 123)
response_trial_10_3_2b_sims




# Simulation trial_10_3_3 - equivalent
response_trial_10_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_3a

response_trial_10_3_3a_sims <- run_trials(response_trial_10_3_3a, n_rep = 10000, base_seed = 123)
response_trial_10_3_3a_sims




# Simulation trial_10_3_3 - inferior
response_trial_10_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_3b

response_trial_10_3_3b_sims <- run_trials(response_trial_10_3_3b, n_rep = 10000, base_seed = 123)
response_trial_10_3_3b_sims




# Simulation trial_10_3_4 - equivalent
response_trial_10_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_4a

response_trial_10_3_4a_sims <- run_trials(response_trial_10_3_4a, n_rep = 10000, base_seed = 123)
response_trial_10_3_4a_sims




# Simulation trial_10_3_4 - inferior
response_trial_10_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_4b

response_trial_10_3_4b_sims <- run_trials(response_trial_10_3_4b, n_rep = 10000, base_seed = 123)
response_trial_10_3_4b_sims





# Simulation trial_10_3_5 - equivalent
response_trial_10_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_5a

response_trial_10_3_5a_sims <- run_trials(response_trial_10_3_5a, n_rep = 10000, base_seed = 123)
response_trial_10_3_5a_sims




# Simulation trial_10_3_5 - inferior
response_trial_10_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_5b

response_trial_10_3_5b_sims <- run_trials(response_trial_10_3_5b, n_rep = 10000, base_seed = 123)
response_trial_10_3_5b_sims





# Simulation trial_10_3_6 - equivalent
response_trial_10_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_6a

response_trial_10_3_6a_sims <- run_trials(response_trial_10_3_6a, n_rep = 10000, base_seed = 123)
response_trial_10_3_6a_sims




# Simulation trial_10_3_6 - inferior
response_trial_10_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_10_3_6b

response_trial_10_3_6b_sims <- run_trials(response_trial_10_3_6b, n_rep = 10000, base_seed = 123)
response_trial_10_3_6b_sims




# Simulation trial_11_1_1 - equivalent
response_trial_11_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_1a

response_trial_11_1_1a_sims <- run_trials(response_trial_11_1_1a, n_rep = 10000, base_seed = 123)
response_trial_11_1_1a_sims




# Simulation trial_11_1_1 - inferior
response_trial_11_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_1b

response_trial_11_1_1b_sims <- run_trials(response_trial_11_1_1b, n_rep = 10000, base_seed = 123)
response_trial_11_1_1b_sims





# Simulation trial_11_1_2 - equivalent
response_trial_11_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_2a

response_trial_11_1_2a_sims <- run_trials(response_trial_11_1_2a, n_rep = 10000, base_seed = 123)
response_trial_11_1_2a_sims




# Simulation trial_11_1_2 - inferior
response_trial_11_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_2b

response_trial_11_1_2b_sims <- run_trials(response_trial_11_1_2b, n_rep = 10000, base_seed = 123)
response_trial_11_1_2b_sims





# Simulation trial_11_1_3 - equivalent
response_trial_11_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_3a

response_trial_11_1_3a_sims <- run_trials(response_trial_11_1_3a, n_rep = 10000, base_seed = 123)
response_trial_11_1_3a_sims




# Simulation trial_11_1_3 - inferior
response_trial_11_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_3b

response_trial_11_1_3b_sims <- run_trials(response_trial_11_1_3b, n_rep = 10000, base_seed = 123)
response_trial_11_1_3b_sims






# Simulation trial_11_1_4 - equivalent
response_trial_11_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_4a

response_trial_11_1_4a_sims <- run_trials(response_trial_11_1_4a, n_rep = 10000, base_seed = 123)
response_trial_11_1_4a_sims




# Simulation trial_11_1_4 - inferior
response_trial_11_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_4b

response_trial_11_1_4b_sims <- run_trials(response_trial_11_1_4b, n_rep = 10000, base_seed = 123)
response_trial_11_1_4b_sims





# Simulation trial_11_1_5 - equivalent
response_trial_11_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_5a

response_trial_11_1_5a_sims <- run_trials(response_trial_11_1_5a, n_rep = 10000, base_seed = 123)
response_trial_11_1_5a_sims




# Simulation trial_11_1_5 - inferior
response_trial_11_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_5b

response_trial_11_1_5b_sims <- run_trials(response_trial_11_1_5b, n_rep = 10000, base_seed = 123)
response_trial_11_1_5b_sims





# Simulation trial_11_1_6 - equivalent
response_trial_11_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_6a

response_trial_11_1_6a_sims <- run_trials(response_trial_11_1_6a, n_rep = 10000, base_seed = 123)
response_trial_11_1_6a_sims




# Simulation trial_11_1_6 - inferior
response_trial_11_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_1_6b

response_trial_11_1_6b_sims <- run_trials(response_trial_11_1_6b, n_rep = 10000, base_seed = 123)
response_trial_11_1_6b_sims




# Simulation trial_11_2_1 - equivalent
response_trial_11_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_1a

response_trial_11_2_1a_sims <- run_trials(response_trial_11_2_1a, n_rep = 10000, base_seed = 123)
response_trial_11_2_1a_sims




# Simulation trial_11_2_1 - inferior
response_trial_11_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_1b

response_trial_11_2_1b_sims <- run_trials(response_trial_11_2_1b, n_rep = 10000, base_seed = 123)
response_trial_11_2_1b_sims


# Simulation trial_11_2_2 - equivalent
response_trial_11_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_2a

response_trial_11_2_2a_sims <- run_trials(response_trial_11_2_2a, n_rep = 10000, base_seed = 123)
response_trial_11_2_2a_sims




# Simulation trial_11_2_2 - inferior
response_trial_11_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_2b

response_trial_11_2_2b_sims <- run_trials(response_trial_11_2_2b, n_rep = 10000, base_seed = 123)
response_trial_11_2_2b_sims



# Simulation trial_11_2_3 - equivalent
response_trial_11_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_3a

response_trial_11_2_3a_sims <- run_trials(response_trial_11_2_3a, n_rep = 10000, base_seed = 123)
response_trial_11_2_3a_sims




# Simulation trial_11_2_3 - inferior
response_trial_11_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_3b

response_trial_11_2_3b_sims <- run_trials(response_trial_11_2_3b, n_rep = 10000, base_seed = 123)
response_trial_11_2_3b_sims







# Simulation trial_11_2_4 - equivalent
response_trial_11_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_4a

response_trial_11_2_4a_sims <- run_trials(response_trial_11_2_4a, n_rep = 10000, base_seed = 123)
response_trial_11_2_4a_sims




# Simulation trial_11_2_4 - inferior
response_trial_11_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_4b

response_trial_11_2_4b_sims <- run_trials(response_trial_11_2_4b, n_rep = 10000, base_seed = 123)
response_trial_11_2_4b_sims




# Simulation trial_11_2_5 - equivalent
response_trial_11_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_5a

response_trial_11_2_5a_sims <- run_trials(response_trial_11_2_5a, n_rep = 10000, base_seed = 123)
response_trial_11_2_5a_sims




# Simulation trial_11_2_5 - inferior
response_trial_11_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_5b

response_trial_11_2_5b_sims <- run_trials(response_trial_11_2_5b, n_rep = 10000, base_seed = 123)
response_trial_11_2_5b_sims


# Simulation trial_11_2_6 - equivalent
response_trial_11_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_6a

response_trial_11_2_6a_sims <- run_trials(response_trial_11_2_6a, n_rep = 10000, base_seed = 123)
response_trial_11_2_6a_sims




# Simulation trial_11_2_6 - inferior
response_trial_11_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_2_6b

response_trial_11_2_6b_sims <- run_trials(response_trial_11_2_6b, n_rep = 10000, base_seed = 123)
response_trial_11_2_6b_sims




# Simulation trial_11_3_1 - equivalent
response_trial_11_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_1a

response_trial_11_3_1a_sims <- run_trials(response_trial_11_3_1a, n_rep = 10000, base_seed = 123)
response_trial_11_3_1a_sims




# Simulation trial_11_3_1 - inferior
response_trial_11_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_1b

response_trial_11_3_1b_sims <- run_trials(response_trial_11_3_1b, n_rep = 10000, base_seed = 123)
response_trial_11_3_1b_sims



# Simulation trial_11_3_2 - equivalent
response_trial_11_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_2a

response_trial_11_3_2a_sims <- run_trials(response_trial_11_3_2a, n_rep = 10000, base_seed = 123)
response_trial_11_3_2a_sims




# Simulation trial_11_3_2 - inferior
response_trial_11_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_2b

response_trial_11_3_2b_sims <- run_trials(response_trial_11_3_2b, n_rep = 10000, base_seed = 123)
response_trial_11_3_2b_sims





# Simulation trial_11_3_3 - equivalent
response_trial_11_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_3a

response_trial_11_3_3a_sims <- run_trials(response_trial_11_3_3a, n_rep = 10000, base_seed = 123)
response_trial_11_3_3a_sims




# Simulation trial_11_3_3 - inferior
response_trial_11_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_3b

response_trial_11_3_3b_sims <- run_trials(response_trial_11_3_3b, n_rep = 10000, base_seed = 123)
response_trial_11_3_3b_sims






# Simulation trial_11_3_4 - equivalent
response_trial_11_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_4a

response_trial_11_3_4a_sims <- run_trials(response_trial_11_3_4a, n_rep = 10000, base_seed = 123)
response_trial_11_3_4a_sims




# Simulation trial_11_3_4 - inferior
response_trial_11_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_4b

response_trial_11_3_4b_sims <- run_trials(response_trial_11_3_4b, n_rep = 10000, base_seed = 123)
response_trial_11_3_4b_sims




# Simulation trial_11_3_5 - equivalent
response_trial_11_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_5a

response_trial_11_3_5a_sims <- run_trials(response_trial_11_3_5a, n_rep = 10000, base_seed = 123)
response_trial_11_3_5a_sims




# Simulation trial_11_3_5 - inferior
response_trial_11_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_5b

response_trial_11_3_5b_sims <- run_trials(response_trial_11_3_5b, n_rep = 10000, base_seed = 123)
response_trial_11_3_5b_sims



# Simulation trial_11_3_6 - equivalent
response_trial_11_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_6a

response_trial_11_3_6a_sims <- run_trials(response_trial_11_3_6a, n_rep = 10000, base_seed = 123)
response_trial_11_3_6a_sims



# Simulation trial_11_3_6 - inferior
response_trial_11_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 75, to = 405, by = 30),
                                            randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_11_3_6b

response_trial_11_3_6b_sims <- run_trials(response_trial_11_3_6b, n_rep = 10000, base_seed = 123)
response_trial_11_3_6b_sims




# Simulation trial_12_1_1 - equivalent
response_trial_12_1_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_1a

response_trial_12_1_1a_sims <- run_trials(response_trial_12_1_1a, n_rep = 10000, base_seed = 123)
response_trial_12_1_1a_sims




# Simulation trial_12_1_1 - inferior
response_trial_12_1_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_1b

response_trial_12_1_1b_sims <- run_trials(response_trial_12_1_1b, n_rep = 10000, base_seed = 123)
response_trial_12_1_1b_sims



# Simulation trial_12_1_2 - equivalent
response_trial_12_1_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_2a

response_trial_12_1_2a_sims <- run_trials(response_trial_12_1_2a, n_rep = 10000, base_seed = 123)
response_trial_12_1_2a_sims




# Simulation trial_12_1_2 - inferior
response_trial_12_1_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_2b

response_trial_12_1_2b_sims <- run_trials(response_trial_12_1_2b, n_rep = 10000, base_seed = 123)
response_trial_12_1_2b_sims




# Simulation trial_12_1_3 - equivalent
response_trial_12_1_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_3a

response_trial_12_1_3a_sims <- run_trials(response_trial_12_1_3a, n_rep = 10000, base_seed = 123)
response_trial_12_1_3a_sims




# Simulation trial_12_1_3 - inferior
response_trial_12_1_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_3b

response_trial_12_1_3b_sims <- run_trials(response_trial_12_1_3b, n_rep = 10000, base_seed = 123)
response_trial_12_1_3b_sims





# Simulation trial_12_1_4 - equivalent
response_trial_12_1_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_4a

response_trial_12_1_4a_sims <- run_trials(response_trial_12_1_4a, n_rep = 10000, base_seed = 123)
response_trial_12_1_4a_sims




# Simulation trial_12_1_4 - inferior
response_trial_12_1_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_4b

response_trial_12_1_4b_sims <- run_trials(response_trial_12_1_4b, n_rep = 10000, base_seed = 123)
response_trial_12_1_4b_sims





# Simulation trial_12_1_5 - equivalent
response_trial_12_1_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_5a

response_trial_12_1_5a_sims <- run_trials(response_trial_12_1_5a, n_rep = 10000, base_seed = 123)
response_trial_12_1_5a_sims




# Simulation trial_12_1_5 - inferior
response_trial_12_1_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_5b

response_trial_12_1_5b_sims <- run_trials(response_trial_12_1_5b, n_rep = 10000, base_seed = 123)
response_trial_12_1_5b_sims






# Simulation trial_12_1_6 - equivalent
response_trial_12_1_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_6a

response_trial_12_1_6a_sims <- run_trials(response_trial_12_1_6a, n_rep = 10000, base_seed = 123)
response_trial_12_1_6a_sims




# Simulation trial_12_1_6 - inferior
response_trial_12_1_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.03),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_1_6b

response_trial_12_1_6b_sims <- run_trials(response_trial_12_1_6b, n_rep = 10000, base_seed = 123)
response_trial_12_1_6b_sims




# Simulation trial_12_2_1 - equivalent
response_trial_12_2_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_1a

response_trial_12_2_1a_sims <- run_trials(response_trial_12_2_1a, n_rep = 10000, base_seed = 123)
response_trial_12_2_1a_sims




# Simulation trial_12_2_1 - inferior
response_trial_12_2_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_1b

response_trial_12_2_1b_sims <- run_trials(response_trial_12_2_1b, n_rep = 10000, base_seed = 123)
response_trial_12_2_1b_sims





# Simulation trial_12_2_2 - equivalent
response_trial_12_2_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_2a

response_trial_12_2_2a_sims <- run_trials(response_trial_12_2_2a, n_rep = 10000, base_seed = 123)
response_trial_12_2_2a_sims




# Simulation trial_12_2_2 - inferior
response_trial_12_2_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_2b

response_trial_12_2_2b_sims <- run_trials(response_trial_12_2_2b, n_rep = 10000, base_seed = 123)
response_trial_12_2_2b_sims




# Simulation trial_12_2_3 - equivalent
response_trial_12_2_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_3a

response_trial_12_2_3a_sims <- run_trials(response_trial_12_2_3a, n_rep = 10000, base_seed = 123)
response_trial_12_2_3a_sims




# Simulation trial_12_2_3 - inferior
response_trial_12_2_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_3b

response_trial_12_2_3b_sims <- run_trials(response_trial_12_2_3b, n_rep = 10000, base_seed = 123)
response_trial_12_2_3b_sims





# Simulation trial_12_2_4 - equivalent
response_trial_12_2_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_4a

response_trial_12_2_4a_sims <- run_trials(response_trial_12_2_4a, n_rep = 10000, base_seed = 123)
response_trial_12_2_4a_sims




# Simulation trial_12_2_4 - inferior
response_trial_12_2_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_4b

response_trial_12_2_4b_sims <- run_trials(response_trial_12_2_4b, n_rep = 10000, base_seed = 123)
response_trial_12_2_4b_sims





# Simulation trial_12_2_5 - equivalent
response_trial_12_2_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_5a

response_trial_12_2_5a_sims <- run_trials(response_trial_12_2_5a, n_rep = 10000, base_seed = 123)
response_trial_12_2_5a_sims




# Simulation trial_12_2_5 - inferior
response_trial_12_2_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_5b

response_trial_12_2_5b_sims <- run_trials(response_trial_12_2_5b, n_rep = 10000, base_seed = 123)
response_trial_12_2_5b_sims




# Simulation trial_12_2_6 - equivalent
response_trial_12_2_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_6a

response_trial_12_2_6a_sims <- run_trials(response_trial_12_2_6a, n_rep = 10000, base_seed = 123)
response_trial_12_2_6a_sims




# Simulation trial_12_2_6 - inferior
response_trial_12_2_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_2_6b

response_trial_12_2_6b_sims <- run_trials(response_trial_12_2_6b, n_rep = 10000, base_seed = 123)
response_trial_12_2_6b_sims




# Simulation trial_12_3_1 - equivalent
response_trial_12_3_1a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_1a

response_trial_12_3_1a_sims <- run_trials(response_trial_12_3_1a, n_rep = 10000, base_seed = 123)
response_trial_12_3_1a_sims




# Simulation trial_12_3_1 - inferior
response_trial_12_3_1b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.5,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_1b

response_trial_12_3_1b_sims <- run_trials(response_trial_12_3_1b, n_rep = 10000, base_seed = 123)
response_trial_12_3_1b_sims



# Simulation trial_12_3_2 - equivalent
response_trial_12_3_2a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_2a

response_trial_12_3_2a_sims <- run_trials(response_trial_12_3_2a, n_rep = 10000, base_seed = 123)
response_trial_12_3_2a_sims




# Simulation trial_12_3_2 - inferior
response_trial_12_3_2b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_2b

response_trial_12_3_2b_sims <- run_trials(response_trial_12_3_2b, n_rep = 10000, base_seed = 123)
response_trial_12_3_2b_sims




# Simulation trial_12_3_3 - equivalent
response_trial_12_3_3a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_3a

response_trial_12_3_3a_sims <- run_trials(response_trial_12_3_3a, n_rep = 10000, base_seed = 123)
response_trial_12_3_3a_sims




# Simulation trial_12_3_3 - inferior
response_trial_12_3_3b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.7,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_3b

response_trial_12_3_3b_sims <- run_trials(response_trial_12_3_3b, n_rep = 10000, base_seed = 123)
response_trial_12_3_3b_sims





# Simulation trial_12_3_4 - equivalent
response_trial_12_3_4a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_4a

response_trial_12_3_4a_sims <- run_trials(response_trial_12_3_4a, n_rep = 10000, base_seed = 123)
response_trial_12_3_4a_sims




# Simulation trial_12_3_4 - inferior
response_trial_12_3_4b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.8,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_4b

response_trial_12_3_4b_sims <- run_trials(response_trial_12_3_4b, n_rep = 10000, base_seed = 123)
response_trial_12_3_4b_sims





# Simulation trial_12_3_5 - equivalent
response_trial_12_3_5a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_5a

response_trial_12_3_5a_sims <- run_trials(response_trial_12_3_5a, n_rep = 10000, base_seed = 123)
response_trial_12_3_5a_sims




# Simulation trial_12_3_5 - inferior
response_trial_12_3_5b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.9,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_5b

response_trial_12_3_5b_sims <- run_trials(response_trial_12_3_5b, n_rep = 10000, base_seed = 123)
response_trial_12_3_5b_sims




# Simulation trial_12_3_6 - equivalent
response_trial_12_3_6a <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.95, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_6a

response_trial_12_3_6a_sims <- run_trials(response_trial_12_3_6a, n_rep = 10000, base_seed = 123)
response_trial_12_3_6a_sims




# Simulation trial_12_3_6 - inferior
response_trial_12_3_6b <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.85, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 100, to = 400, by = 30),
                                            randomised_at_looks = seq(from = 103, to = 403, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.95,
                                            futility_diff = c(-0.07),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_trial_12_3_6b

response_trial_12_3_6b_sims <- run_trials(response_trial_12_3_6b, n_rep = 10000, base_seed = 123)
response_trial_12_3_6b_sims











### RESPONSE - EVALUATION SIMULATIONS ###

set.seed(123)

# Informative prior (90% event rate, 95%CI 0.8-0.96)
find_beta_params(
  theta = 0.9,
  boundary = "lower",
  boundary_target = 0.8,
  interval_width = 0.95)

# Plot beta(42,5)
p = seq(0,1, length=100)
plot(p, dbeta(p, 42, 5), type='l')

# Informative prior trial setup
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


allocs <- sample(c("low dose steroids", "standard dose steroids"),
                 size = 10000, replace = TRUE)

ys <- get_ys_binom_custom(allocs)

table(allocs)
table(ys)


get_draws_binom_custom <- function(arms, allocs, ys, control, n_draws) {
  # Setup a list to store the posterior draws for each arm
  draws <- list()
  
  # Loop through the ACTIVE arms and generate posterior draws
  for (a in arms) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == a)
    # Sum the number of events in the current arm
    n_events <- sum(ys[ii])
    # Compute the number of patients in the current arm
    n_patients <- length(ii)
    # Generate draws using the number of events, the number of patients
    # and the prior specified above: beta(15, 45)
    # Saved using the current arms' name in the list, ensuring that the
    # resulting matrix has column names corresponding to the ACTIVE arms
    draws[[a]] <- rbeta(n_draws, 42 + n_events, 5 + n_patients - n_events)
  }
  
  # Bind all elements of the list column-wise to form a matrix with
  # 1 named column per ACTIVE arm and 1 row per posterior draw.
  # Multiply result with 100, as we're using percentages and not proportions
  # in this example (just to correspond to the illustrated custom function to
  # generate RAW outcome estimates below)
  do.call(cbind, draws) * 100
}


get_draws_binom_custom(
  # Only currently ACTIVE arms, but all are considered active at this time
  arms = c("low dose steroids", "standard dose steroids"),
  allocs = allocs, # Generated above
  ys = ys, # Generated above
  # Input control arm, argument is supplied even if not used in the function
  control = c("standard dose steroids"),
  # Input number of draws (for brevity, only 10 draws here)
  n_draws = 1000
)





### NON-INFORMATIVE PRIOR ###

## Trial design 94 ##

# Evaluation simulation_1_1_1
response_eval_1_1_1 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.99, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_1

response_eval_1_1_1_sims <- run_trials(response_eval_1_1_1, n_rep = 10000, base_seed = 123)
response_eval_1_1_1_sims



# Evaluation simulation_1_1_2
response_eval_1_1_2 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.95, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_2

response_eval_1_1_2_sims <- run_trials(response_eval_1_1_2, n_rep = 10000, base_seed = 123)
response_eval_1_1_2_sims



# Evaluation simulation_1_1_3
response_eval_1_1_3 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.9, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_3

response_eval_1_1_3_sims <- run_trials(response_eval_1_1_3, n_rep = 10000, base_seed = 123)
response_eval_1_1_3_sims



# Evaluation simulation_1_1_4
response_eval_1_1_4 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.85, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_4

response_eval_1_1_4_sims <- run_trials(response_eval_1_1_4, n_rep = 10000, base_seed = 123)
response_eval_1_1_4_sims



# Evaluation simulation_1_1_5
response_eval_1_1_5 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.8, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_5

response_eval_1_1_5_sims <- run_trials(response_eval_1_1_5, n_rep = 10000, base_seed = 123)
response_eval_1_1_5_sims



# Evaluation simulation_1_1_6
response_eval_1_1_6 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.99, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_6

response_eval_1_1_6_sims <- run_trials(response_eval_1_1_6, n_rep = 10000, base_seed = 123)
response_eval_1_1_6_sims




# Evaluation simulation_1_1_7
response_eval_1_1_7 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.95, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_7

response_eval_1_1_7_sims <- run_trials(response_eval_1_1_7, n_rep = 10000, base_seed = 123)
response_eval_1_1_7_sims




# Evaluation simulation_1_1_8
response_eval_1_1_8 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.9, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_8

response_eval_1_1_8_sims <- run_trials(response_eval_1_1_8, n_rep = 10000, base_seed = 123)
response_eval_1_1_8_sims





# Evaluation simulation_1_1_9
response_eval_1_1_9 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.85, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 75, to = 405, by = 30),
                                         randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.98,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_1_9

response_eval_1_1_9_sims <- run_trials(response_eval_1_1_9, n_rep = 10000, base_seed = 123)
response_eval_1_1_9_sims



# Evaluation simulation_1_1_10
response_eval_1_1_10 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_10

response_eval_1_1_10_sims <- run_trials(response_eval_1_1_10, n_rep = 10000, base_seed = 123)
response_eval_1_1_10_sims




# Evaluation simulation_1_1_11
response_eval_1_1_11 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.99, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_11

response_eval_1_1_11_sims <- run_trials(response_eval_1_1_11, n_rep = 10000, base_seed = 123)
response_eval_1_1_11_sims




# Evaluation simulation_1_1_12
response_eval_1_1_12 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.95, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_12

response_eval_1_1_12_sims <- run_trials(response_eval_1_1_12, n_rep = 10000, base_seed = 123)
response_eval_1_1_12_sims




# Evaluation simulation_1_1_13
response_eval_1_1_13 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.9, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_13

response_eval_1_1_13_sims <- run_trials(response_eval_1_1_13, n_rep = 10000, base_seed = 123)
response_eval_1_1_13_sims





# Evaluation simulation_1_1_14
response_eval_1_1_14 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.85, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_14

response_eval_1_1_14_sims <- run_trials(response_eval_1_1_14, n_rep = 10000, base_seed = 123)
response_eval_1_1_14_sims



# Evaluation simulation_1_1_15
response_eval_1_1_15 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_15

response_eval_1_1_15_sims <- run_trials(response_eval_1_1_15, n_rep = 10000, base_seed = 123)
response_eval_1_1_15_sims





# Evaluation simulation_1_1_16
response_eval_1_1_16 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.99, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_16

response_eval_1_1_16_sims <- run_trials(response_eval_1_1_16, n_rep = 10000, base_seed = 123)
response_eval_1_1_16_sims




# Evaluation simulation_1_1_17
response_eval_1_1_17 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.95, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_17

response_eval_1_1_17_sims <- run_trials(response_eval_1_1_17, n_rep = 10000, base_seed = 123)
response_eval_1_1_17_sims




# Evaluation simulation_1_1_18
response_eval_1_1_18 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.9, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_18

response_eval_1_1_18_sims <- run_trials(response_eval_1_1_18, n_rep = 10000, base_seed = 123)
response_eval_1_1_18_sims





# Evaluation simulation_1_1_19
response_eval_1_1_19 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.85, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_19

response_eval_1_1_19_sims <- run_trials(response_eval_1_1_19, n_rep = 10000, base_seed = 123)
response_eval_1_1_19_sims



# Evaluation simulation_1_1_20
response_eval_1_1_20 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 75, to = 405, by = 30),
                                          randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.98,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_1_20

response_eval_1_1_20_sims <- run_trials(response_eval_1_1_20, n_rep = 10000, base_seed = 123)
response_eval_1_1_20_sims






## Trial design 494 ##

# Evaluation simulation_1_2_1
response_eval_1_2_1 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.99, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_1

response_eval_1_2_1_sims <- run_trials(response_eval_1_2_1, n_rep = 10000, base_seed = 123)
response_eval_1_2_1_sims



# Evaluation simulation_1_2_2
response_eval_1_2_2 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.95, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_2

response_eval_1_2_2_sims <- run_trials(response_eval_1_2_2, n_rep = 10000, base_seed = 123)
response_eval_1_2_2_sims



# Evaluation simulation_1_2_3
response_eval_1_2_3 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.9, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_3

response_eval_1_2_3_sims <- run_trials(response_eval_1_2_3, n_rep = 10000, base_seed = 123)
response_eval_1_2_3_sims



# Evaluation simulation_1_2_4
response_eval_1_2_4 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.85, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_4

response_eval_1_2_4_sims <- run_trials(response_eval_1_2_4, n_rep = 10000, base_seed = 123)
response_eval_1_2_4_sims



# Evaluation simulation_1_2_5
response_eval_1_2_5 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.8, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_5

response_eval_1_2_5_sims <- run_trials(response_eval_1_2_5, n_rep = 10000, base_seed = 123)
response_eval_1_2_5_sims



# Evaluation simulation_1_2_6
response_eval_1_2_6 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.99, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_6

response_eval_1_2_6_sims <- run_trials(response_eval_1_2_6, n_rep = 10000, base_seed = 123)
response_eval_1_2_6_sims




# Evaluation simulation_1_2_7
response_eval_1_2_7 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.95, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_7

response_eval_1_2_7_sims <- run_trials(response_eval_1_2_7, n_rep = 10000, base_seed = 123)
response_eval_1_2_7_sims




# Evaluation simulation_1_2_8
response_eval_1_2_8 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.9, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_8

response_eval_1_2_8_sims <- run_trials(response_eval_1_2_8, n_rep = 10000, base_seed = 123)
response_eval_1_2_8_sims





# Evaluation simulation_1_2_9
response_eval_1_2_9 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.85, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.6,
                                         futility_diff = c(-0.05),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_2_9

response_eval_1_2_9_sims <- run_trials(response_eval_1_2_9, n_rep = 10000, base_seed = 123)
response_eval_1_2_9_sims



# Evaluation simulation_1_2_10
response_eval_1_2_10 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_10

response_eval_1_2_10_sims <- run_trials(response_eval_1_2_10, n_rep = 10000, base_seed = 123)
response_eval_1_2_10_sims







# Evaluation simulation_1_2_11
response_eval_1_2_11 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.99, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_11

response_eval_1_2_11_sims <- run_trials(response_eval_1_2_11, n_rep = 10000, base_seed = 123)
response_eval_1_2_11_sims




# Evaluation simulation_1_2_12
response_eval_1_2_12 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.95, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_12

response_eval_1_2_12_sims <- run_trials(response_eval_1_2_12, n_rep = 10000, base_seed = 123)
response_eval_1_2_12_sims




# Evaluation simulation_1_2_13
response_eval_1_2_13 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.9, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_13

response_eval_1_2_13_sims <- run_trials(response_eval_1_2_13, n_rep = 10000, base_seed = 123)
response_eval_1_2_13_sims





# Evaluation simulation_1_2_14
response_eval_1_2_14 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.85, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_14

response_eval_1_2_14_sims <- run_trials(response_eval_1_2_14, n_rep = 10000, base_seed = 123)
response_eval_1_2_14_sims



# Evaluation simulation_1_2_15
response_eval_1_2_15 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_15

response_eval_1_2_15_sims <- run_trials(response_eval_1_2_15, n_rep = 10000, base_seed = 123)
response_eval_1_2_15_sims








# Evaluation simulation_1_2_16
response_eval_1_2_16 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.99, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_16

response_eval_1_2_16_sims <- run_trials(response_eval_1_2_16, n_rep = 10000, base_seed = 123)
response_eval_1_2_16_sims




# Evaluation simulation_1_2_17
response_eval_1_2_17 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.95, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_17

response_eval_1_2_17_sims <- run_trials(response_eval_1_2_17, n_rep = 10000, base_seed = 123)
response_eval_1_2_17_sims




# Evaluation simulation_1_2_18
response_eval_1_2_18 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.9, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_18

response_eval_1_2_18_sims <- run_trials(response_eval_1_2_18, n_rep = 10000, base_seed = 123)
response_eval_1_2_18_sims





# Evaluation simulation_1_2_19
response_eval_1_2_19 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.85, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_19

response_eval_1_2_19_sims <- run_trials(response_eval_1_2_19, n_rep = 10000, base_seed = 123)
response_eval_1_2_19_sims



# Evaluation simulation_1_2_20
response_eval_1_2_20 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.6,
                                          futility_diff = c(-0.05),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_2_20

response_eval_1_2_20_sims <- run_trials(response_eval_1_2_20, n_rep = 10000, base_seed = 123)
response_eval_1_2_20_sims







## Trial design 499 ##

# Evaluation simulation_1_3_1
response_eval_1_3_1 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.99, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_1

response_eval_1_3_1_sims <- run_trials(response_eval_1_3_1, n_rep = 10000, base_seed = 123)
response_eval_1_3_1_sims



# Evaluation simulation_1_3_2
response_eval_1_3_2 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.95, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_2

response_eval_1_3_2_sims <- run_trials(response_eval_1_3_2, n_rep = 10000, base_seed = 123)
response_eval_1_3_2_sims



# Evaluation simulation_1_3_3
response_eval_1_3_3 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.9, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_3

response_eval_1_3_3_sims <- run_trials(response_eval_1_3_3, n_rep = 10000, base_seed = 123)
response_eval_1_3_3_sims



# Evaluation simulation_1_3_4
response_eval_1_3_4 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.85, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_4

response_eval_1_3_4_sims <- run_trials(response_eval_1_3_4, n_rep = 10000, base_seed = 123)
response_eval_1_3_4_sims



# Evaluation simulation_1_3_5
response_eval_1_3_5 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.8, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_5

response_eval_1_3_5_sims <- run_trials(response_eval_1_3_5, n_rep = 10000, base_seed = 123)
response_eval_1_3_5_sims



# Evaluation simulation_1_3_6
response_eval_1_3_6 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.99, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_6

response_eval_1_3_6_sims <- run_trials(response_eval_1_3_6, n_rep = 10000, base_seed = 123)
response_eval_1_3_6_sims




# Evaluation simulation_1_3_7
response_eval_1_3_7 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.95, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_7

response_eval_1_3_7_sims <- run_trials(response_eval_1_3_7, n_rep = 10000, base_seed = 123)
response_eval_1_3_7_sims




# Evaluation simulation_1_3_8
response_eval_1_3_8 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.9, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_8

response_eval_1_3_8_sims <- run_trials(response_eval_1_3_8, n_rep = 10000, base_seed = 123)
response_eval_1_3_8_sims





# Evaluation simulation_1_3_9
response_eval_1_3_9 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                         true_ys = c(0.85, 0.95),
                                         start_probs = NULL,
                                         fixed_probs = c(0.5,0.5),
                                         data_looks = seq(from = 50, to = 410, by = 30),
                                         randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                         control = c("standard dose steroids"),
                                         inferiority = 0,
                                         superiority = 1,
                                         equivalence_prob = 0.975,
                                         equivalence_diff = 0.1,
                                         equivalence_only_first = TRUE,
                                         futility_prob = 0.5,
                                         futility_diff = c(-0.07),
                                         futility_only_first = TRUE,
                                         highest_is_best = TRUE,
                                         soften_power = 1,
                                         cri_width = 0.95,
                                         n_draws = 5000,
                                         robust = TRUE)

response_eval_1_3_9

response_eval_1_3_9_sims <- run_trials(response_eval_1_3_9, n_rep = 10000, base_seed = 123)
response_eval_1_3_9_sims



# Evaluation simulation_1_3_10
response_eval_1_3_10 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_10

response_eval_1_3_10_sims <- run_trials(response_eval_1_3_10, n_rep = 10000, base_seed = 123)
response_eval_1_3_10_sims







# Evaluation simulation_1_3_11
response_eval_1_3_11 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.99, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_11

response_eval_1_3_11_sims <- run_trials(response_eval_1_3_11, n_rep = 10000, base_seed = 123)
response_eval_1_3_11_sims




# Evaluation simulation_1_3_12
response_eval_1_3_12 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.95, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_12

response_eval_1_3_12_sims <- run_trials(response_eval_1_3_12, n_rep = 10000, base_seed = 123)
response_eval_1_3_12_sims




# Evaluation simulation_1_3_13
response_eval_1_3_13 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.9, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_13

response_eval_1_3_13_sims <- run_trials(response_eval_1_3_13, n_rep = 10000, base_seed = 123)
response_eval_1_3_13_sims





# Evaluation simulation_1_3_14
response_eval_1_3_14 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.85, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_14

response_eval_1_3_14_sims <- run_trials(response_eval_1_3_14, n_rep = 10000, base_seed = 123)
response_eval_1_3_14_sims



# Evaluation simulation_1_3_15
response_eval_1_3_15 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_15

response_eval_1_3_15_sims <- run_trials(response_eval_1_3_15, n_rep = 10000, base_seed = 123)
response_eval_1_3_15_sims








# Evaluation simulation_1_3_16
response_eval_1_3_16 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.99, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_16

response_eval_1_3_16_sims <- run_trials(response_eval_1_3_16, n_rep = 10000, base_seed = 123)
response_eval_1_3_16_sims




# Evaluation simulation_1_3_17
response_eval_1_3_17 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.95, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_17

response_eval_1_3_17_sims <- run_trials(response_eval_1_3_17, n_rep = 10000, base_seed = 123)
response_eval_1_3_17_sims




# Evaluation simulation_1_3_18
response_eval_1_3_18 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.9, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_18

response_eval_1_3_18_sims <- run_trials(response_eval_1_3_18, n_rep = 10000, base_seed = 123)
response_eval_1_3_18_sims





# Evaluation simulation_1_3_19
response_eval_1_3_19 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.85, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_19

response_eval_1_3_19_sims <- run_trials(response_eval_1_3_19, n_rep = 10000, base_seed = 123)
response_eval_1_3_19_sims



# Evaluation simulation_1_3_20
response_eval_1_3_20 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                          true_ys = c(0.8, 0.95),
                                          start_probs = NULL,
                                          fixed_probs = c(0.5,0.5),
                                          data_looks = seq(from = 50, to = 410, by = 30),
                                          randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                          control = c("standard dose steroids"),
                                          inferiority = 0,
                                          superiority = 1,
                                          equivalence_prob = 0.975,
                                          equivalence_diff = 0.1,
                                          equivalence_only_first = TRUE,
                                          futility_prob = 0.5,
                                          futility_diff = c(-0.07),
                                          futility_only_first = TRUE,
                                          highest_is_best = TRUE,
                                          soften_power = 1,
                                          cri_width = 0.95,
                                          n_draws = 5000,
                                          robust = TRUE)

response_eval_1_3_20

response_eval_1_3_20_sims <- run_trials(response_eval_1_3_20, n_rep = 10000, base_seed = 123)
response_eval_1_3_20_sims















### INFORMATIVE PRIOR - DATA DERIVED (beta(42,5))  ###

## Trial design 94 ##

# Evaluation simulation_2_1_1
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_1 <- setup_trial(
  arms = c("low dose steroids", "standard dose steroids"),
  true_ys = c(99, 95),
  fun_y_gen = get_ys_binom_custom,
  fun_draws = get_draws_binom_custom,
  start_probs = NULL,
  fixed_probs = c(0.5,0.5),
  data_looks = seq(from = 75, to = 405, by = 30),
  randomised_at_looks = seq(from = 76, to = 406, by = 30),
  control = "standard dose steroids",
  inferiority = 0,
  superiority = 1,
  equivalence_prob = 0.98,
  equivalence_diff = 10,
  equivalence_only_first = TRUE,
  futility_prob = 0.6,
  futility_diff = c(-7),
  futility_only_first = TRUE)

response_eval_2_1_1

response_eval_2_1_1_sims <- run_trials(response_eval_2_1_1, n_rep = 10000, base_seed = 123)
response_eval_2_1_1_sims



# Evaluation simulation_2_1_2
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_2 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(95, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 75, to = 405, by = 30),
                                   randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.98,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_1_2

response_eval_2_1_2_sims <- run_trials(response_eval_2_1_2, n_rep = 10000, base_seed = 123)
response_eval_2_1_2_sims



# Evaluation simulation_2_1_3
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_3 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(90, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 75, to = 405, by = 30),
                                   randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.98,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_1_3

response_eval_2_1_3_sims <- run_trials(response_eval_2_1_3, n_rep = 10000, base_seed = 123)
response_eval_2_1_3_sims



# Evaluation simulation_2_1_4
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_4 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(85, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 75, to = 405, by = 30),
                                   randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.98,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_1_4

response_eval_2_1_4_sims <- run_trials(response_eval_2_1_4, n_rep = 10000, base_seed = 123)
response_eval_2_1_4_sims



# Evaluation simulation_2_1_5
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_5 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(80, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 75, to = 405, by = 30),
                                   randomised_at_looks = seq(from = 76, to = 406, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.98,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_1_5

response_eval_2_1_5_sims <- run_trials(response_eval_2_1_5, n_rep = 10000, base_seed = 123)
response_eval_2_1_5_sims



# Evaluation simulation_2_1_6
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_6 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(99, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 75, to = 405, by = 30),
                                   randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.98,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_1_6

response_eval_2_1_6_sims <- run_trials(response_eval_2_1_6, n_rep = 10000, base_seed = 123)
response_eval_2_1_6_sims




# Evaluation simulation_2_1_7
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_1_7 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(95, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 75, to = 405, by = 30),
                                   randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.98,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_1_7

response_eval_2_1_7_sims <- run_trials(response_eval_2_1_7, n_rep = 10000, base_seed = 123)
response_eval_2_1_7_sims




# Evaluation simulation_2_1_8
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_8 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(90, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 75, to = 405, by = 30),
                                   randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.98,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_1_8

response_eval_2_1_8_sims <- run_trials(response_eval_2_1_8, n_rep = 10000, base_seed = 123)
response_eval_2_1_8_sims





# Evaluation simulation_2_1_9
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_9 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(85, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 75, to = 405, by = 30),
                                   randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.98,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_1_9

response_eval_2_1_9_sims <- run_trials(response_eval_2_1_9, n_rep = 10000, base_seed = 123)
response_eval_2_1_9_sims



# Evaluation simulation_2_1_10
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_10 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 78, to = 408, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_10

response_eval_2_1_10_sims <- run_trials(response_eval_2_1_10, n_rep = 10000, base_seed = 123)
response_eval_2_1_10_sims







# Evaluation simulation_2_1_11
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_11 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(99, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_11

response_eval_2_1_11_sims <- run_trials(response_eval_2_1_11, n_rep = 10000, base_seed = 123)
response_eval_2_1_11_sims




# Evaluation simulation_2_1_12
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_1_12 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_12

response_eval_2_1_12_sims <- run_trials(response_eval_2_1_12, n_rep = 10000, base_seed = 123)
response_eval_2_1_12_sims




# Evaluation simulation_2_1_13
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_13 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(90, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_13

response_eval_2_1_13_sims <- run_trials(response_eval_2_1_13, n_rep = 10000, base_seed = 123)
response_eval_2_1_13_sims





# Evaluation simulation_2_1_14
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_14 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(85, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_14

response_eval_2_1_14_sims <- run_trials(response_eval_2_1_14, n_rep = 10000, base_seed = 123)
response_eval_2_1_14_sims



# Evaluation simulation_2_1_15
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_15 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 80, to = 410, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_15

response_eval_2_1_15_sims <- run_trials(response_eval_2_1_15, n_rep = 10000, base_seed = 123)
response_eval_2_1_15_sims








# Evaluation simulation_2_1_16
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_16 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(99, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_16

response_eval_2_1_16_sims <- run_trials(response_eval_2_1_16, n_rep = 10000, base_seed = 123)
response_eval_2_1_16_sims




# Evaluation simulation_2_1_17
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_1_17 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_17

response_eval_2_1_17_sims <- run_trials(response_eval_2_1_17, n_rep = 10000, base_seed = 123)
response_eval_2_1_17_sims




# Evaluation simulation_2_1_18
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_18 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(90, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_18

response_eval_2_1_18_sims <- run_trials(response_eval_2_1_18, n_rep = 10000, base_seed = 123)
response_eval_2_1_18_sims





# Evaluation simulation_2_1_19
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_19 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(85, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_19

response_eval_2_1_19_sims <- run_trials(response_eval_2_1_19, n_rep = 10000, base_seed = 123)
response_eval_2_1_19_sims



# Evaluation simulation_2_1_20
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_1_20 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 75, to = 405, by = 30),
                                    randomised_at_looks = seq(from = 82, to = 412, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.98,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_1_20

response_eval_2_1_20_sims <- run_trials(response_eval_2_1_20, n_rep = 10000, base_seed = 123)
response_eval_2_1_20_sims







## Trial design 494 ##

# Evaluation simulation_2_2_1
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_1 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(99, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_1

response_eval_2_2_1_sims <- run_trials(response_eval_2_2_1, n_rep = 10000, base_seed = 123)
response_eval_2_2_1_sims



# Evaluation simulation_2_2_2
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_2_2 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(95, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_2

response_eval_2_2_2_sims <- run_trials(response_eval_2_2_2, n_rep = 10000, base_seed = 123)
response_eval_2_2_2_sims



# Evaluation simulation_2_2_3
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_3 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(90, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_3

response_eval_2_2_3_sims <- run_trials(response_eval_2_2_3, n_rep = 10000, base_seed = 123)
response_eval_2_2_3_sims



# Evaluation simulation_2_2_4
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_4 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(85, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_4

response_eval_2_2_4_sims <- run_trials(response_eval_2_2_4, n_rep = 10000, base_seed = 123)
response_eval_2_2_4_sims



# Evaluation simulation_2_2_5
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_5 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(80, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_5

response_eval_2_2_5_sims <- run_trials(response_eval_2_2_5, n_rep = 10000, base_seed = 123)
response_eval_2_2_5_sims



# Evaluation simulation_2_2_6
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_6 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(99, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_6

response_eval_2_2_6_sims <- run_trials(response_eval_2_2_6, n_rep = 10000, base_seed = 123)
response_eval_2_2_6_sims




# Evaluation simulation_2_2_7
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_2_7 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(95, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_7

response_eval_2_2_7_sims <- run_trials(response_eval_2_2_7, n_rep = 10000, base_seed = 123)
response_eval_2_2_7_sims




# Evaluation simulation_2_2_8
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_8 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(90, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_8

response_eval_2_2_8_sims <- run_trials(response_eval_2_2_8, n_rep = 10000, base_seed = 123)
response_eval_2_2_8_sims





# Evaluation simulation_2_2_9
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_9 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(85, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.6,
                                   futility_diff = c(-5),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_2_9

response_eval_2_2_9_sims <- run_trials(response_eval_2_2_9, n_rep = 10000, base_seed = 123)
response_eval_2_2_9_sims



# Evaluation simulation_2_2_10
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_10 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_10

response_eval_2_2_10_sims <- run_trials(response_eval_2_2_10, n_rep = 10000, base_seed = 123)
response_eval_2_2_10_sims







# Evaluation simulation_2_2_11
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_11 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(99, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_11

response_eval_2_2_11_sims <- run_trials(response_eval_2_2_11, n_rep = 10000, base_seed = 123)
response_eval_2_2_11_sims




# Evaluation simulation_2_2_12
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_2_12 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_12

response_eval_2_2_12_sims <- run_trials(response_eval_2_2_12, n_rep = 10000, base_seed = 123)
response_eval_2_2_12_sims




# Evaluation simulation_2_2_13
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_13 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(90, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_13

response_eval_2_2_13_sims <- run_trials(response_eval_2_2_13, n_rep = 10000, base_seed = 123)
response_eval_2_2_13_sims





# Evaluation simulation_2_2_14
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_14 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(85, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_14

response_eval_2_2_14_sims <- run_trials(response_eval_2_2_14, n_rep = 10000, base_seed = 123)
response_eval_2_2_14_sims



# Evaluation simulation_2_2_15
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_15 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_15

response_eval_2_2_15_sims <- run_trials(response_eval_2_2_15, n_rep = 10000, base_seed = 123)
response_eval_2_2_15_sims








# Evaluation simulation_2_2_16
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_16 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(99, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_16

response_eval_2_2_16_sims <- run_trials(response_eval_2_2_16, n_rep = 10000, base_seed = 123)
response_eval_2_2_16_sims




# Evaluation simulation_2_2_17
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_2_17 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_17

response_eval_2_2_17_sims <- run_trials(response_eval_2_2_17, n_rep = 10000, base_seed = 123)
response_eval_2_2_17_sims




# Evaluation simulation_2_2_18
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_18 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(90, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_18

response_eval_2_2_18_sims <- run_trials(response_eval_2_2_18, n_rep = 10000, base_seed = 123)
response_eval_2_2_18_sims





# Evaluation simulation_2_2_19
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_19 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(85, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_19

response_eval_2_2_19_sims <- run_trials(response_eval_2_2_19, n_rep = 10000, base_seed = 123)
response_eval_2_2_19_sims



# Evaluation simulation_2_2_20
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_2_20 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_2_20

response_eval_2_2_20_sims <- run_trials(response_eval_2_2_20, n_rep = 10000, base_seed = 123)
response_eval_2_2_20_sims







## Trial design 499 ##

# Evaluation simulation_2_3_1
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_1 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(99, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_1

response_eval_2_3_1_sims <- run_trials(response_eval_2_3_1, n_rep = 10000, base_seed = 123)
response_eval_2_3_1_sims



# Evaluation simulation_2_3_2
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_3_2 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(95, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_2

response_eval_2_3_2_sims <- run_trials(response_eval_2_3_2, n_rep = 10000, base_seed = 123)
response_eval_2_3_2_sims



# Evaluation simulation_2_3_3
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_3 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(90, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_3

response_eval_2_3_3_sims <- run_trials(response_eval_2_3_3, n_rep = 10000, base_seed = 123)
response_eval_2_3_3_sims



# Evaluation simulation_2_3_4
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_4 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(85, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_4

response_eval_2_3_4_sims <- run_trials(response_eval_2_3_4, n_rep = 10000, base_seed = 123)
response_eval_2_3_4_sims



# Evaluation simulation_2_3_5
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_5 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(80, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 51, to = 411, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_5

response_eval_2_3_5_sims <- run_trials(response_eval_2_3_5, n_rep = 10000, base_seed = 123)
response_eval_2_3_5_sims



# Evaluation simulation_2_3_6
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_6 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(99, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_6

response_eval_2_3_6_sims <- run_trials(response_eval_2_3_6, n_rep = 10000, base_seed = 123)
response_eval_2_3_6_sims




# Evaluation simulation_2_3_7
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_3_7 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(95, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_7

response_eval_2_3_7_sims <- run_trials(response_eval_2_3_7, n_rep = 10000, base_seed = 123)
response_eval_2_3_7_sims




# Evaluation simulation_2_3_8
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_8 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(90, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_8

response_eval_2_3_8_sims <- run_trials(response_eval_2_3_8, n_rep = 10000, base_seed = 123)
response_eval_2_3_8_sims





# Evaluation simulation_2_3_9
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_9 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                   true_ys = c(85, 95),
                                   start_probs = NULL,
                                   fixed_probs = c(0.5,0.5),
                                   data_looks = seq(from = 50, to = 410, by = 30),
                                   randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                   control = c("standard dose steroids"),
                                   inferiority = 0,
                                   superiority = 1,
                                   equivalence_prob = 0.975,
                                   equivalence_diff = 10,
                                   equivalence_only_first = TRUE,
                                   futility_prob = 0.5,
                                   futility_diff = c(-7),
                                   futility_only_first = TRUE,
                                   highest_is_best = TRUE,
                                   fun_y_gen = get_ys_binom_custom,
                                   fun_draws = get_draws_binom_custom,
                                   n_draws = 5000,
                                   robust = TRUE)

response_eval_2_3_9

response_eval_2_3_9_sims <- run_trials(response_eval_2_3_9, n_rep = 10000, base_seed = 123)
response_eval_2_3_9_sims



# Evaluation simulation_2_3_10
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_10 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 53, to = 413, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_10

response_eval_2_3_10_sims <- run_trials(response_eval_2_3_10, n_rep = 10000, base_seed = 123)
response_eval_2_3_10_sims







# Evaluation simulation_2_3_11
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_11 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(99, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_11

response_eval_2_3_11_sims <- run_trials(response_eval_2_3_11, n_rep = 10000, base_seed = 123)
response_eval_2_3_11_sims




# Evaluation simulation_2_3_12
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_3_12 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_12

response_eval_2_3_12_sims <- run_trials(response_eval_2_3_12, n_rep = 10000, base_seed = 123)
response_eval_2_3_12_sims




# Evaluation simulation_2_3_13
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_13 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(90, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_13

response_eval_2_3_13_sims <- run_trials(response_eval_2_3_13, n_rep = 10000, base_seed = 123)
response_eval_2_3_13_sims





# Evaluation simulation_2_3_14
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_14 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(85, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_14

response_eval_2_3_14_sims <- run_trials(response_eval_2_3_14, n_rep = 10000, base_seed = 123)
response_eval_2_3_14_sims



# Evaluation simulation_2_3_15
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_15 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_15

response_eval_2_3_15_sims <- run_trials(response_eval_2_3_15, n_rep = 10000, base_seed = 123)
response_eval_2_3_15_sims








# Evaluation simulation_2_3_16
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.99, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_16 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(99, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_16

response_eval_2_3_16_sims <- run_trials(response_eval_2_3_16, n_rep = 10000, base_seed = 123)
response_eval_2_3_16_sims




# Evaluation simulation_2_3_17
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_eval_2_3_17 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_17

response_eval_2_3_17_sims <- run_trials(response_eval_2_3_17, n_rep = 10000, base_seed = 123)
response_eval_2_3_17_sims




# Evaluation simulation_2_3_18
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.9, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_18 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(90, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_18

response_eval_2_3_18_sims <- run_trials(response_eval_2_3_18, n_rep = 10000, base_seed = 123)
response_eval_2_3_18_sims





# Evaluation simulation_2_3_19
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.85, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_19 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(85, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_19

response_eval_2_3_19_sims <- run_trials(response_eval_2_3_19, n_rep = 10000, base_seed = 123)
response_eval_2_3_19_sims



# Evaluation simulation_2_3_20
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.8, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_eval_2_3_20 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(80, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 57, to = 417, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.5,
                                    futility_diff = c(-7),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_eval_2_3_20

response_eval_2_3_20_sims <- run_trials(response_eval_2_3_20, n_rep = 10000, base_seed = 123)
response_eval_2_3_20_sims













### RESPONSE - SELECTED TRIAL DESIGN 494 ###
### SAMPLE SIZE AND COMPARISON WITH FIXED SAMPLE FREQUENTIST DESIGN ###

## 90% intervention event rate, data derived prior (beta(42,5))

allocs <- sample(c("low dose steroids", "standard dose steroids"),
                 size = 10000, replace = TRUE)

ys <- get_ys_binom_custom(allocs)

table(allocs)
table(ys)


get_draws_binom_custom <- function(arms, allocs, ys, control, n_draws) {
  # Setup a list to store the posterior draws for each arm
  draws <- list()
  
  # Loop through the ACTIVE arms and generate posterior draws
  for (a in arms) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == a)
    # Sum the number of events in the current arm
    n_events <- sum(ys[ii])
    # Compute the number of patients in the current arm
    n_patients <- length(ii)
    # Generate draws using the number of events, the number of patients
    # and the prior specified above: beta(15, 45)
    # Saved using the current arms' name in the list, ensuring that the
    # resulting matrix has column names corresponding to the ACTIVE arms
    draws[[a]] <- rbeta(n_draws, 42 + n_events, 5 + n_patients - n_events)
  }
  
  # Bind all elements of the list column-wise to form a matrix with
  # 1 named column per ACTIVE arm and 1 row per posterior draw.
  # Multiply result with 100, as we're using percentages and not proportions
  # in this example (just to correspond to the illustrated custom function to
  # generate RAW outcome estimates below)
  do.call(cbind, draws) * 100
}


get_draws_binom_custom(
  # Only currently ACTIVE arms, but all are considered active at this time
  arms = c("low dose steroids", "standard dose steroids"),
  allocs = allocs, # Generated above
  ys = ys, # Generated above
  # Input control arm, argument is supplied even if not used in the function
  control = c("standard dose steroids"),
  # Input number of draws (for brevity, only 10 draws here)
  n_draws = 1000
)


get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.90, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_final_1 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(90, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_final_1

response_final_1_sims <- run_trials(response_final_1, n_rep = 10000, base_seed = 123)
response_final_1_sims


extract_results(response_final_1_sims)
trial_494_eval <- summary(response_final_1_sims)
trial_494_eval$size_mean
trial_494_eval$size_sd
trial_494_eval$size_p25
trial_494_eval$size_p75
trial_494_eval$size_p100


# 80th percentile sample size
trial_494_eval$size_mean + (0.8416*trial_494_eval$size_sd)





## 95% intervention event rate, data-derived prior (beta(42,5))

# Evaluation simulation_2_2_12
get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}


response_final_2 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_final_2

response_final_2_sims <- run_trials(response_final_2, n_rep = 10000, base_seed = 123)
response_final_2_sims
trial_494_eval1 <- summary(response_final_2_sims)

# 80th percentile sample size
trial_494_eval1$size_mean + (0.8416*trial_494_eval1$size_sd)





### EVALUATING OTHER INFORMATIVE PRIOR DISTRIBUTIONS ###

## Strongly skeptical prior (75% event rate, 95%CI 0.63-0.85)
find_beta_params(
  theta = 0.75,
  boundary = "upper",
  boundary_target = 0.85,
  interval_width = 0.95)

# Plot beta(45,15)
p = seq(0,1, length=100)
plot(p, dbeta(p, 45, 15), type='l')


## Moderately skeptical prior (85% event rate, 95%CI 0.70-0.95)
find_beta_params(
  theta = 0.85,
  boundary = "upper",
  boundary_target = 0.95,
  interval_width = 0.95)

# Plot beta(27,5)
p = seq(0,1, length=100)
plot(p, dbeta(p, 27, 5), type='l')


## Optimistic prior (95% event rate, 95%CI 0.83-0.99)
find_beta_params(
  theta = 0.95,
  boundary = "lower",
  boundary_target = 0.85,
  interval_width = 0.95)

# Plot beta(29,2)
p = seq(0,1, length=100)
plot(p, dbeta(p, 29, 2), type='l')






### Design 494 - 95% intervention event rate - non-informative prior ###
response_final_3 <- setup_trial_binom(arms = c("low dose steroids", "standard dose steroids"),
                                            true_ys = c(0.90, 0.95),
                                            start_probs = NULL,
                                            fixed_probs = c(0.5,0.5),
                                            data_looks = seq(from = 50, to = 410, by = 30),
                                            randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                            control = c("standard dose steroids"),
                                            inferiority = 0,
                                            superiority = 1,
                                            equivalence_prob = 0.975,
                                            equivalence_diff = 0.1,
                                            equivalence_only_first = TRUE,
                                            futility_prob = 0.6,
                                            futility_diff = c(-0.05),
                                            futility_only_first = TRUE,
                                            highest_is_best = TRUE,
                                            soften_power = 1,
                                            cri_width = 0.95,
                                            n_draws = 5000,
                                            robust = TRUE)

response_final_3

response_final_3_sims <- run_trials(response_final_3, n_rep = 10000, base_seed = 123)
response_final_3_sims

# 80th percentile sample size
trial_494_eval2 <- summary(response_final_3_sims)
trial_494_eval2$size_mean + (0.8416*trial_494_eval2$size_sd)





### Design 494 - 95% intervention event rate, data derived prior (beta(42,5)) ###

allocs <- sample(c("low dose steroids", "standard dose steroids"),
                 size = 10000, replace = TRUE)

ys <- get_ys_binom_custom(allocs)

table(allocs)
table(ys)


get_draws_binom_custom <- function(arms, allocs, ys, control, n_draws) {
  # Setup a list to store the posterior draws for each arm
  draws <- list()
  
  # Loop through the ACTIVE arms and generate posterior draws
  for (a in arms) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == a)
    # Sum the number of events in the current arm
    n_events <- sum(ys[ii])
    # Compute the number of patients in the current arm
    n_patients <- length(ii)
    # Generate draws using the number of events, the number of patients
    # and the prior specified above: beta(15, 45)
    # Saved using the current arms' name in the list, ensuring that the
    # resulting matrix has column names corresponding to the ACTIVE arms
    draws[[a]] <- rbeta(n_draws, 42 + n_events, 5 + n_patients - n_events)
  }
  
  # Bind all elements of the list column-wise to form a matrix with
  # 1 named column per ACTIVE arm and 1 row per posterior draw.
  # Multiply result with 100, as we're using percentages and not proportions
  # in this example (just to correspond to the illustrated custom function to
  # generate RAW outcome estimates below)
  do.call(cbind, draws) * 100
}


get_draws_binom_custom(
  # Only currently ACTIVE arms, but all are considered active at this time
  arms = c("low dose steroids", "standard dose steroids"),
  allocs = allocs, # Generated above
  ys = ys, # Generated above
  # Input control arm, argument is supplied even if not used in the function
  control = c("standard dose steroids"),
  # Input number of draws (for brevity, only 10 draws here)
  n_draws = 1000
)


get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_final_4 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_final_4

response_final_4_sims <- run_trials(response_final_4, n_rep = 10000, base_seed = 123)
response_final_4_sims

# 80th percentile sample size
trial_494_eval3 <- summary(response_final_4_sims)
trial_494_eval3$size_mean + (0.8416*trial_494_eval3$size_sd)





### Design 494 - 95% intervention effect, strongly skeptical prior (beta(45,15)) ###

allocs <- sample(c("low dose steroids", "standard dose steroids"),
                 size = 10000, replace = TRUE)

ys <- get_ys_binom_custom(allocs)

table(allocs)
table(ys)


get_draws_binom_custom <- function(arms, allocs, ys, control, n_draws) {
  # Setup a list to store the posterior draws for each arm
  draws <- list()
  
  # Loop through the ACTIVE arms and generate posterior draws
  for (a in arms) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == a)
    # Sum the number of events in the current arm
    n_events <- sum(ys[ii])
    # Compute the number of patients in the current arm
    n_patients <- length(ii)
    # Generate draws using the number of events, the number of patients
    # and the prior specified above: beta(15, 45)
    # Saved using the current arms' name in the list, ensuring that the
    # resulting matrix has column names corresponding to the ACTIVE arms
    draws[[a]] <- rbeta(n_draws, 45 + n_events, 15 + n_patients - n_events)
  }
  
  # Bind all elements of the list column-wise to form a matrix with
  # 1 named column per ACTIVE arm and 1 row per posterior draw.
  # Multiply result with 100, as we're using percentages and not proportions
  # in this example (just to correspond to the illustrated custom function to
  # generate RAW outcome estimates below)
  do.call(cbind, draws) * 100
}


get_draws_binom_custom(
  # Only currently ACTIVE arms, but all are considered active at this time
  arms = c("low dose steroids", "standard dose steroids"),
  allocs = allocs, # Generated above
  ys = ys, # Generated above
  # Input control arm, argument is supplied even if not used in the function
  control = c("standard dose steroids"),
  # Input number of draws (for brevity, only 10 draws here)
  n_draws = 1000
)


get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_final_5 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_final_5

response_final_5_sims <- run_trials(response_final_5, n_rep = 10000, base_seed = 123)
response_final_5_sims

# 80th percentile sample size
trial_494_eval4 <- summary(response_final_5_sims)
trial_494_eval4$size_mean + (0.8416*trial_494_eval4$size_sd)







### Design 494 - 95% intervention effect, moderately skeptical prior (beta(27,5)) ###

allocs <- sample(c("low dose steroids", "standard dose steroids"),
                 size = 10000, replace = TRUE)

ys <- get_ys_binom_custom(allocs)

table(allocs)
table(ys)


get_draws_binom_custom <- function(arms, allocs, ys, control, n_draws) {
  # Setup a list to store the posterior draws for each arm
  draws <- list()
  
  # Loop through the ACTIVE arms and generate posterior draws
  for (a in arms) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == a)
    # Sum the number of events in the current arm
    n_events <- sum(ys[ii])
    # Compute the number of patients in the current arm
    n_patients <- length(ii)
    # Generate draws using the number of events, the number of patients
    # and the prior specified above: beta(15, 45)
    # Saved using the current arms' name in the list, ensuring that the
    # resulting matrix has column names corresponding to the ACTIVE arms
    draws[[a]] <- rbeta(n_draws, 27 + n_events, 5 + n_patients - n_events)
  }
  
  # Bind all elements of the list column-wise to form a matrix with
  # 1 named column per ACTIVE arm and 1 row per posterior draw.
  # Multiply result with 100, as we're using percentages and not proportions
  # in this example (just to correspond to the illustrated custom function to
  # generate RAW outcome estimates below)
  do.call(cbind, draws) * 100
}


get_draws_binom_custom(
  # Only currently ACTIVE arms, but all are considered active at this time
  arms = c("low dose steroids", "standard dose steroids"),
  allocs = allocs, # Generated above
  ys = ys, # Generated above
  # Input control arm, argument is supplied even if not used in the function
  control = c("standard dose steroids"),
  # Input number of draws (for brevity, only 10 draws here)
  n_draws = 1000
)


get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_final_6 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_final_6

response_final_6_sims <- run_trials(response_final_6, n_rep = 10000, base_seed = 123)
response_final_6_sims

# 80th percentile sample size
trial_494_eval5 <- summary(response_final_6_sims)
trial_494_eval5$size_mean + (0.8416*trial_494_eval5$size_sd)





### Design 494 - 95% intervention effect, optimistic prior (beta(29,2)) ###

allocs <- sample(c("low dose steroids", "standard dose steroids"),
                 size = 10000, replace = TRUE)

ys <- get_ys_binom_custom(allocs)

table(allocs)
table(ys)


get_draws_binom_custom <- function(arms, allocs, ys, control, n_draws) {
  # Setup a list to store the posterior draws for each arm
  draws <- list()
  
  # Loop through the ACTIVE arms and generate posterior draws
  for (a in arms) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == a)
    # Sum the number of events in the current arm
    n_events <- sum(ys[ii])
    # Compute the number of patients in the current arm
    n_patients <- length(ii)
    # Generate draws using the number of events, the number of patients
    # and the prior specified above: beta(15, 45)
    # Saved using the current arms' name in the list, ensuring that the
    # resulting matrix has column names corresponding to the ACTIVE arms
    draws[[a]] <- rbeta(n_draws, 29 + n_events, 2 + n_patients - n_events)
  }
  
  # Bind all elements of the list column-wise to form a matrix with
  # 1 named column per ACTIVE arm and 1 row per posterior draw.
  # Multiply result with 100, as we're using percentages and not proportions
  # in this example (just to correspond to the illustrated custom function to
  # generate RAW outcome estimates below)
  do.call(cbind, draws) * 100
}


get_draws_binom_custom(
  # Only currently ACTIVE arms, but all are considered active at this time
  arms = c("low dose steroids", "standard dose steroids"),
  allocs = allocs, # Generated above
  ys = ys, # Generated above
  # Input control arm, argument is supplied even if not used in the function
  control = c("standard dose steroids"),
  # Input number of draws (for brevity, only 10 draws here)
  n_draws = 1000
)


get_ys_binom_custom <- function(allocs) {
  # Binary outcome coded as 0/1 - prepare returned vector of appropriate length
  y <- integer(length(allocs))
  
  # Specify trial arms and true event probabilities for each arm
  # These values should exactly match those supplied to setup_trial
  # NB! This is not validated, so this is the user's responsibility
  arms = c("low dose steroids", "standard dose steroids")
  true_ys <- c(0.95, 0.95)
  
  # Loop through arms and generate outcomes
  for (i in seq_along(arms)) {
    # Indices of patients allocated to the current arm
    ii <- which(allocs == arms[i])
    # Generate outcomes for all patients allocated to current arm
    y[ii] <- rbinom(length(ii), 1, true_ys[i])
  }
  
  # Return outcome vector
  y
}

response_final_7 <- setup_trial(arms = c("low dose steroids", "standard dose steroids"),
                                    true_ys = c(95, 95),
                                    start_probs = NULL,
                                    fixed_probs = c(0.5,0.5),
                                    data_looks = seq(from = 50, to = 410, by = 30),
                                    randomised_at_looks = seq(from = 55, to = 415, by = 30),
                                    control = c("standard dose steroids"),
                                    inferiority = 0,
                                    superiority = 1,
                                    equivalence_prob = 0.975,
                                    equivalence_diff = 10,
                                    equivalence_only_first = TRUE,
                                    futility_prob = 0.6,
                                    futility_diff = c(-5),
                                    futility_only_first = TRUE,
                                    highest_is_best = TRUE,
                                    fun_y_gen = get_ys_binom_custom,
                                    fun_draws = get_draws_binom_custom,
                                    n_draws = 5000,
                                    robust = TRUE)

response_final_7

response_final_7_sims <- run_trials(response_final_7, n_rep = 10000, base_seed = 123)
response_final_7_sims

# 80th percentile sample size
trial_494_eval6 <- summary(response_final_7_sims)
trial_494_eval6$size_mean + (0.8416*trial_494_eval6$size_sd)






### SIMULATION OUTCOMES (FIGURE 3) ###

## Set up code to extract trial outcomes ##
set.seed(123)
extract_statuses1 <- function(object, x_value="total n", arm = NULL) {
  data_looks <- object$trial_spec$data_looks
  randomised_at_looks <- object$trial_spec$randomised_at_looks
  overall_final_looks <- vapply_num(object$trial_results, function(x) x$final_n)
  overall_final_followed <- vapply_num(object$trial_results, function(x) x$followed_n)
  overall_statuses <- vapply_str(object$trial_results, function(x) x$final_status)
  
  if (is.null(arm)) { # Overall statuses
    final_looks <- overall_final_looks
    final_followed <- overall_final_followed
    statuses <- ifelse(overall_statuses == "max", "active", overall_statuses)
  } else { # Statuses for specific arm
    idx <- which(object$trial_spec$trial_arms$arms == arm)
    final_followed <- vapply_num(object$trial_results, function(x) x$trial_res$status_look[idx])
    final_followed <- ifelse(is.na(final_followed), overall_final_followed, final_followed)
    final_looks <- vapply_num(final_followed, function(l) randomised_at_looks[which(data_looks == l)])
    statuses <- vapply_str(object$trial_results, function(x) x$trial_res$final_status[idx])
    
    # Correct statuses
    statuses <- ifelse(
      statuses == "control" & overall_statuses == "equivalence" & overall_final_looks == final_looks,
      "equivalence", # Recode control arms as equivalence in trials stopped for equivalence
      ifelse(
        statuses == "control",
        "active", # Recode other controls as active
        ifelse(
          statuses == "futile",
          "futility",
          ifelse(
            statuses == "superior",
            "superiority",
            ifelse(
              statuses == "inferior",
              "inferiority",
              statuses
            )
          )
        )
      )
    )
  }
  
  data_looks <- data_looks[data_looks <= max(overall_final_followed)]
  randomised_at_looks <- randomised_at_looks[randomised_at_looks <= max(overall_final_looks)]
  
  # Create matrix or probabilities, fill values, bind results to data.frame
  status_levels <- c("Recruiting", "Inferiority", "Futility", "Equivalence", "Superiority")
  m <- matrix(rep(NA, length(data_looks) * 8), ncol = 8, dimnames = list(NULL, c("i", "nf", "nr", status_levels)))
  for (i in seq_along(randomised_at_looks)) {
    m[i, 1] <- i
    m[i, 2] <- data_looks[i]
    m[i, 3] <- randomised_at_looks[i]
    # Minor correction factor due to rounding errors which in some cases may make the last area not seen
    m[i, 4] <- max(mean(statuses == "active" | final_looks > randomised_at_looks[i]) - .Machine$double.eps^0.5, 0)
    m[i, 5] <- mean(statuses == "inferiority" & final_looks <= randomised_at_looks[i])
    m[i, 6] <- mean(statuses == "futility" & final_looks <= randomised_at_looks[i])
    m[i, 7] <- mean(statuses == "equivalence" & final_looks <= randomised_at_looks[i])
    m[i, 8] <- mean(statuses == "superiority" & final_looks <= randomised_at_looks[i])
  }
  m <- as.data.frame(m)
  
  dta <- do.call(
    rbind,
    lapply(status_levels, function(s) cbind(m[, c("i", "nf", "nr")], p = m[[s]], status = s)
    )
  )
  
  dta$x <- switch(
    x_value,
    "look" = dta$i,
    "total n" = dta$nr,
    "followed n" = dta$nf
  )
  
  if (x_value == "look") {
    dta <- dta[, c("x", "status", "p")]
  } else if (x_value %in% c("total n", "followed n")) {
    dta <- rbind(
      data.frame(x = rep(0, 5), status = status_levels, p = c(1, rep(0, 4))),
      dta[, c("x", "status", "p")]
    )
  }
  
  # Remove inferiority/equivalence/futility probabilities if not assessed
  if (is.null(arm)) {
    dta <- dta[dta$status != "Inferiority", ]
  }
  if (is.null(object$trial_spec$equivalence_prob)) {
    dta <- dta[dta$status != "Equivalence", ]
  }
  if (is.null(object$trial_spec$futility_prob)) {
    dta <- dta[dta$status != "Futility", ]
  }
  
  # Recode status as factor and prepare legend colours
  dta$status <- droplevels(factor(dta$status, levels = status_levels))
  
  # Return
  dta}






### NON-INFORMATIVE PRIOR ###

# 95% intervention event rate
response_eval_1_2_12_sims
plot_status(response_eval_1_2_12_sims)

plot95 <- extract_statuses1(response_eval_1_2_12_sims, arm = NULL)
plot95$status <- as.factor(ifelse(plot95$status=="Equivalence", "Non-inferiority",
                                  ifelse(plot95$status=="Futility", "Inferiority", plot95$status)))

table(plot95$status)
plot95$effect <- "95%"

inf95 <- dplyr::filter(plot95, status=="Inferiority")
noninf95 <- dplyr::filter(plot95, status=="Non-inferiority")




# 90% intervention event rate
response_eval_1_2_13_sims
plot_status(response_eval_1_2_13_sims)

plot90 <- extract_statuses1(response_eval_1_2_13_sims, arm = NULL)

plot90$status <- as.factor(ifelse(plot90$status=="Equivalence", "Non-inferiority",
                                  ifelse(plot90$status=="Futility", "Inferiority", plot90$status)))

table(plot90$status)
plot90$effect <- "90%"

inf90 <- dplyr::filter(plot90, status=="Inferiority")
noninf90 <- dplyr::filter(plot90, status=="Non-inferiority")


# 85% intervention event rate
response_eval_1_2_14_sims
plot_status(response_eval_1_2_14_sims)

plot85 <- extract_statuses1(response_eval_1_2_14_sims, arm = NULL)

plot85$status <- as.factor(ifelse(plot85$status=="Equivalence", "Non-inferiority",
                                  ifelse(plot85$status=="Futility", "Inferiority", plot85$status)))

table(plot85$status)
plot85$effect <- "85%"

inf85 <- dplyr::filter(plot85, status=="Inferiority")
noninf85 <- dplyr::filter(plot85, status=="Non-inferiority")


# 80% intervention event rate
response_eval_1_2_15_sims
plot_status(response_eval_1_2_15_sims)

plot80 <- extract_statuses1(response_eval_1_2_15_sims, arm = NULL)

plot80$status <- as.factor(ifelse(plot80$status=="Equivalence", "Non-inferiority",
                                  ifelse(plot80$status=="Futility", "Inferiority", plot80$status)))

table(plot80$status)
plot80$effect <- "80%"

inf80 <- dplyr::filter(plot80, status=="Inferiority")
noninf80 <- dplyr::filter(plot80, status=="Non-inferiority")


# Combine datasets - inferiority simulations
inf_sim_plots <- dplyr::union(inf95, inf90)
inf_sim_plots <- dplyr::union(inf_sim_plots, inf85)
inf_sim_plots <- dplyr::union(inf_sim_plots, inf80)
inf_sim_plots$Remission <- as.factor(inf_sim_plots$effect)


# Plot function
ggplot(data=inf_sim_plots, aes(x=x, y=p, group=Remission)) + geom_line(aes(linetype = Remission))

a <- ggplot(data=inf_sim_plots, aes(x=x, y=p, fill=Remission)) + 
  geom_line(aes(colour = Remission), linewidth = 1.5) +
  xlab("Total sample size (n)") + ylab("Probability") +
  xlim(0, 420) + ylim (0,1) + theme_bw() 

a + theme(legend.position="top")


# Combine datasets - non-inferiority simulations
noninf_sim_plots <- dplyr::union(noninf95, noninf90)
noninf_sim_plots <- dplyr::union(noninf_sim_plots, noninf85)
noninf_sim_plots <- dplyr::union(noninf_sim_plots, noninf80)
noninf_sim_plots$Remission <- as.factor(noninf_sim_plots$effect)

# Plot function
ggplot(data=noninf_sim_plots, aes(x=x, y=p, group=Remission)) + geom_line(aes(linetype = Remission))

b <- ggplot(data=noninf_sim_plots, aes(x=x, y=p, fill=Remission)) + 
  geom_line(aes(colour = Remission), linewidth = 1.5) +
  xlab("Total sample size (n)") + ylab("Probability") +
  xlim(0, 420) + ylim (0,1) + theme_bw()

b + theme(legend.position="top")


## Step chart - inferiority simulations
a <- ggplot(data=inf_sim_plots, aes(x=x, y=p, fill=Remission)) + 
  geom_step(aes(colour = Remission), linewidth = 1.5) +
  xlab("Total sample size (n)") + ylab("Probability") +
  xlim(0, 420) + ylim (0,1) + theme_bw() 

a + theme(legend.position="top")


## Step chart - non-inferiority simulations
b <- ggplot(data=noninf_sim_plots, aes(x=x, y=p, fill=Remission)) + 
  geom_step(aes(colour = Remission), linewidth = 1.5) +
  xlab("Total sample size (n)") + ylab("Probability") +
  xlim(0, 420) + ylim (0,1) + theme_bw()

b + theme(legend.position="top")










### INFORMATIVE PRIOR - DATA DERIVED (beta(42,5) ###

# 95% intervention event rate
response_eval_2_2_12_sims
plot_status(response_eval_2_2_12_sims)

i_plot95 <- extract_statuses1(response_eval_2_2_12_sims, arm = NULL)
i_plot95$status <- as.factor(ifelse(i_plot95$status=="Equivalence", "Non-inferiority",
                                    ifelse(i_plot95$status=="Futility", "Inferiority", i_plot95$status)))

table(i_plot95$status)
i_plot95$effect <- "95%"

i_inf95 <- dplyr::filter(i_plot95, status=="Inferiority")
i_noninf95 <- dplyr::filter(i_plot95, status=="Non-inferiority")




# 90% intervention event rate
response_eval_2_2_13_sims
plot_status(response_eval_2_2_13_sims)

i_plot90 <- extract_statuses1(response_eval_2_2_13_sims, arm = NULL)

i_plot90$status <- as.factor(ifelse(i_plot90$status=="Equivalence", "Non-inferiority",
                                    ifelse(i_plot90$status=="Futility", "Inferiority", i_plot90$status)))

table(i_plot90$status)
i_plot90$effect <- "90%"

i_inf90 <- dplyr::filter(i_plot90, status=="Inferiority")
i_noninf90 <- dplyr::filter(i_plot90, status=="Non-inferiority")


# 85% intervention event rate
response_eval_2_2_14_sims
plot_status(response_eval_2_2_14_sims)

i_plot85 <- extract_statuses1(response_eval_2_2_14_sims, arm = NULL)

i_plot85$status <- as.factor(ifelse(i_plot85$status=="Equivalence", "Non-inferiority",
                                    ifelse(i_plot85$status=="Futility", "Inferiority", i_plot85$status)))

table(i_plot85$status)
i_plot85$effect <- "85%"

i_inf85 <- dplyr::filter(i_plot85, status=="Inferiority")
i_noninf85 <- dplyr::filter(i_plot85, status=="Non-inferiority")


# 80% intervention event rate
response_eval_2_2_15_sims
plot_status(response_eval_2_2_15_sims)

i_plot80 <- extract_statuses1(response_eval_2_2_15_sims, arm = NULL)

i_plot80$status <- as.factor(ifelse(i_plot80$status=="Equivalence", "Non-inferiority",
                                    ifelse(i_plot80$status=="Futility", "Inferiority", i_plot80$status)))

table(i_plot80$status)
i_plot80$effect <- "80%"

i_inf80 <- dplyr::filter(i_plot80, status=="Inferiority")
i_noninf80 <- dplyr::filter(i_plot80, status=="Non-inferiority")


# Combine datasets - inferiority simulations
i_inf_sim_plots <- dplyr::union(i_inf95, i_inf90)
i_inf_sim_plots <- dplyr::union(i_inf_sim_plots, i_inf85)
i_inf_sim_plots <- dplyr::union(i_inf_sim_plots, i_inf80)
i_inf_sim_plots$Remission <- as.factor(i_inf_sim_plots$effect)


# Plot function
ggplot(data=i_inf_sim_plots, aes(x=x, y=p, group=Remission)) + geom_line(aes(linetype = Remission))

a1 <- ggplot(data=i_inf_sim_plots, aes(x=x, y=p, fill=Remission)) + 
  geom_line(aes(colour = Remission), linewidth = 1.5) +
  xlab("Total sample size (n)") + ylab("Probability") +
  xlim(0, 420) + ylim (0,1) + theme_bw() 

a1 + theme(legend.position="top")



# Combine datasets - non-inferiority simulations
i_noninf_sim_plots <- dplyr::union(i_noninf95, i_noninf90)
i_noninf_sim_plots <- dplyr::union(i_noninf_sim_plots, i_noninf85)
i_noninf_sim_plots <- dplyr::union(i_noninf_sim_plots, i_noninf80)
i_noninf_sim_plots$Remission <- as.factor(i_noninf_sim_plots$effect)


# Plot function
ggplot(data=i_noninf_sim_plots, aes(x=x, y=p, group=Remission)) + geom_line(aes(linetype = Remission))

b1 <- ggplot(data=i_noninf_sim_plots, aes(x=x, y=p, fill=Remission)) + 
  geom_line(aes(colour = Remission), linewidth = 1.5) +
  xlab("Total sample size (n)") + ylab("Probability") +
  xlim(0, 420) + ylim (0,1) + theme_bw()

b1 + theme(legend.position="top")


## Step chart - inferiority simulations
a1 <- ggplot(data=i_inf_sim_plots, aes(x=x, y=p, fill=Remission)) + 
  geom_step(aes(colour = Remission), linewidth = 1.5) +
  xlab("Total sample size (n)") + ylab("Probability") +
  xlim(0, 420) + ylim (0,1) + theme_bw() 

a1 + theme(legend.position="top")


## Step chart - non-inferiority simulations
b1 <- ggplot(data=i_noninf_sim_plots, aes(x=x, y=p, fill=Remission)) + 
  geom_step(aes(colour = Remission), linewidth = 1.5) +
  xlab("Total sample size (n)") + ylab("Probability") +
  xlim(0, 420) + ylim (0,1) + theme_bw()

b1 + theme(legend.position="top")

